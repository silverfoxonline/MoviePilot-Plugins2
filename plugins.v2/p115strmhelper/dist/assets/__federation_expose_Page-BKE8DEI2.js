import{importShared as e}from"./__federation_fn_import-B6DyUTOO.js";import{_ as l}from"./_plugin-vue_export-helper-BCo6x5W8.js";const{resolveComponent:a,createVNode:t,createElementVNode:i,withCtx:s,toDisplayString:n,createTextVNode:r,openBlock:o,createBlock:c,createCommentVNode:d,createElementBlock:m,renderList:u,Fragment:p,normalizeClass:f,mergeProps:_,withModifiers:g,withKeys:h}=await e("vue"),y={class:"plugin-page"},v={key:3,class:"my-1"},x={key:1},b={class:"path-mapping-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},k=["title"],w={class:"text-caption",style:{"line-height":"1.2"}},C=["title"],z={class:"text-caption",style:{"line-height":"1.2"}},P={key:1,class:"text-caption text-error mt-1"},V={class:"path-mapping-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},M=["title"],T={class:"text-caption",style:{"line-height":"1.2"}},$=["title"],S={class:"text-caption",style:{"line-height":"1.2"}},U={key:1,class:"text-caption text-error mt-1"},E={class:"path-mapping-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},L=["title"],R={class:"text-caption",style:{"line-height":"1.2"}},F=["title"],I={class:"text-caption",style:{"line-height":"1.2"}},B={key:1,class:"text-caption text-error mt-1"},j={class:"path-mapping-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},A=["title"],O={class:"text-caption",style:{"line-height":"1.2"}},H=["title"],N={class:"text-caption",style:{"line-height":"1.2"}},W={key:1,class:"text-caption text-error mt-1"},D={class:"path-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},K={class:"d-flex align-center"},G=["title"],J={class:"text-caption",style:{"line-height":"1.2"}},q={key:1,class:"text-caption text-error mt-1"},Z={class:"path-group-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},Q=["title"],X={class:"text-caption",style:{"line-height":"1.2"}},Y=["title"],ee={class:"text-caption",style:{"line-height":"1.2"}},le={key:0,class:"mt-1 pt-1",style:{"border-top":"1px dashed rgba(var(--v-border-color), 0.2)"}},ae={key:0,class:"d-flex align-center"},te=["title"],ie={class:"text-caption",style:{"line-height":"1.2"}},se={key:1,class:"text-caption text-error mt-1"},ne={class:"d-flex"},re={class:"text-body-2"},oe={class:"d-flex"},ce={class:"text-body-2"},de={class:"d-flex align-center",style:{gap:"4px"}},me={class:"d-flex flex-column"},ue={key:0,class:"mb-1"},pe={key:1,class:"text-grey"},fe={class:"d-flex flex-wrap ga-2 mt-1"},_e={key:0},ge={key:1},he={class:"d-flex align-center"},ye={class:"d-flex align-center"},ve={key:0},xe={class:"d-flex align-center"},be={class:"d-flex align-center"},ke={class:"d-flex align-center"},we={class:"d-flex align-center"},Ce={class:"text-no-wrap text-caption font-weight-medium",style:{"min-width":"40px","text-align":"right"}},ze={class:"pa-3"},Pe={class:"d-flex justify-end mt-3"},Ve={key:0,class:"d-flex justify-center my-3"},Me={key:1},{ref:Te,reactive:$e,computed:Se,onMounted:Ue,watch:Ee}=await e("vue"),Le=l({__name:"Page",props:{api:{type:[Object,Function],required:!0},initialConfig:{type:Object,default:()=>({})}},emits:["close","switch","update:config","action"],setup(e,{emit:l}){const Le=e,Re=l,Fe=e=>{if(!e||"string"!=typeof e)return 0;const l=e.trim().match(/^(\d*\.?\d+)\s*(k|m|g|t)?b?$/i);if(!l)return 0;const a=parseFloat(l[1]);switch((l[2]||"").toLowerCase()){case"t":return Math.round(1024*a*1024*1024*1024);case"g":return Math.round(1024*a*1024*1024);case"m":return Math.round(1024*a*1024);case"k":return Math.round(1024*a);default:return Math.round(a)}},Ie=(e,l=2)=>{if(!+e)return"";const a=l<0?0:l,t=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,t)).toFixed(a))} ${["B","K","M","G","T"][t]}`},Be=Te(!0),je=Te(!1),Ae=Te(!1),Oe=Te(!1),He=Te(!1),Ne=Te(!1),We=Te(null),De=Te(null),Ke=Te("info"),Ge=Te(!1),Je=Te(!1),qe=Te(!1),Ze=$e({enabled:!1,has_client:!1,running:!1}),Qe=$e({name:null,is_vip:null,is_forever_vip:null,vip_expire_date:null,avatar:null,error:null,loading:!0}),Xe=$e({total:null,used:null,remaining:null,error:null,loading:!0}),Ye=$e({show:!1,activeTab:"tasks",loading:!1,adding:!1,error:null,addError:null,tasks:[],totalTasks:0,itemsPerPage:10,headers:[{title:"文件名",key:"name",align:"start",sortable:!1,minWidth:"200px"},{title:"大小",key:"size_text",align:"end",sortable:!1,cellProps:{class:"text-no-wrap"},minWidth:"80px"},{title:"状态",key:"status_text",align:"center",sortable:!1,minWidth:"80px"},{title:"进度",key:"progress",align:"start",sortable:!1,minWidth:"120px"}],links:"",destPath:""}),el=(e,l)=>{if(!e||!l)return 0;const a=e=>{if(!e||"string"!=typeof e)return 0;const l=parseFloat(e);return isNaN(l)?0:e.toUpperCase().includes("TB")?1024*l*1024:e.toUpperCase().includes("GB")?1024*l:(e.toUpperCase().includes("MB"),l)},t=a(e),i=a(l);return 0===i?0:Math.min(Math.max(t/i*100,0),100)},ll=Se(()=>{if(!Le.initialConfig)return!1;if(!(Le.initialConfig.enabled&&Le.initialConfig.cookies&&Le.initialConfig.moviepilot_address))return!1;const e=al(Le.initialConfig.transfer_monitor_paths)>0&&Le.initialConfig.transfer_monitor_enabled,l=al(Le.initialConfig.full_sync_strm_paths)>0&&Le.initialConfig.timing_full_sync_strm,a=al(Le.initialConfig.increment_sync_strm_paths)>0&&Le.initialConfig.increment_sync_strm_enabled,t=al(Le.initialConfig.monitor_life_paths)>0&&Le.initialConfig.monitor_life_enabled,i=Array.isArray(Le.initialConfig.share_strm_config)&&Le.initialConfig.share_strm_config.length>0;return e||l||a||t||i}),al=e=>{if(!e)return 0;try{return e.split("\n").filter(e=>e.trim()&&e.includes("#")).length}catch(l){return console.error("解析路径字符串失败:",l),0}},tl=e=>{if(!e)return 0;try{return e.split("\n").filter(e=>e.trim()).length}catch(l){return console.error("解析网盘整理路径字符串失败:",l),0}},il=async()=>{Be.value=!0,We.value=null;try{const l="P115StrmHelper",a=await Le.api.get(`plugin/${l}/get_status`);if(!a||0!==a.code||!a.data){if(Le.initialConfig){if(Ze.enabled=Boolean(Le.initialConfig.enabled),Ze.has_client=Boolean(Le.initialConfig.cookies&&""!==Le.initialConfig.cookies.trim()),Ze.running=!1,Ne.value=!0,Object.keys(Le.initialConfig).length<=1)try{const e=await Le.api.get(`plugin/${l}/get_config`);e&&(Object.assign(Le.initialConfig,e),console.log("从配置API获取配置:",Le.initialConfig))}catch(e){console.error("获取配置失败:",e)}throw new Error("状态API调用失败，使用配置数据显示状态")}throw new Error(a?.msg||"获取状态失败，请检查网络连接")}Ze.enabled=Boolean(a.data.enabled),Ze.has_client=Boolean(a.data.has_client),Ze.running=Boolean(a.data.running);try{const e=await Le.api.get(`plugin/${l}/get_config`);e&&(Object.assign(Le.initialConfig,e),console.log("已获取最新配置:",Le.initialConfig))}catch(e){console.error("获取配置失败:",e)}Ne.value=!0}catch(l){l.message.includes("使用配置数据显示状态")||(We.value=`获取状态失败: ${l.message||"未知错误"}`),console.error("获取状态失败:",l)}finally{Be.value=!1}},sl=async()=>{je.value=!0,await il(),Ze.has_client&&Le.initialConfig?.cookies?await Ll():(Qe.loading=!1,Xe.loading=!1,Le.initialConfig?.cookies?Ze.has_client||(Qe.error="115客户端未连接或Cookie无效。",Xe.error="115客户端未连接或Cookie无效。"):(Qe.error="请先配置115 Cookie。",Xe.error="请先配置115 Cookie。")),je.value=!1,De.value="状态已刷新",Ke.value="success",setTimeout(()=>{De.value=null},3e3)},nl=async()=>{Je.value=!1,await ol()},rl=async()=>{qe.value=!1,await cl()},ol=async()=>{Ae.value=!0,Ge.value=!0,We.value=null,De.value=null;try{if(!Ze.enabled)throw new Error("插件未启用，请先在配置页面启用插件");if(!Ze.has_client)throw new Error("插件未配置Cookie或Cookie无效，请先在配置页面设置115 Cookie");if(0===al(Le.initialConfig?.full_sync_strm_paths))throw new Error("未配置全量同步路径，请先在配置页面设置同步路径");const e="P115StrmHelper",l=await Le.api.post(`plugin/${e}/full_sync`);if(!l||0!==l.code)throw new Error(l?.msg||"启动全量同步失败");De.value=l.msg||"全量同步任务已启动",Ke.value="success",await il()}catch(e){We.value=`启动全量同步失败: ${e.message||"未知错误"}`,console.error("启动全量同步失败:",e)}finally{Ae.value=!1,Ge.value=!1}},cl=async()=>{Oe.value=!0,Ge.value=!0,We.value=null,De.value=null;try{if(!Ze.enabled)throw new Error("插件未启用，请先在配置页面启用插件");if(!Ze.has_client)throw new Error("插件未配置Cookie或Cookie无效，请先在配置页面设置115 Cookie");const e="P115StrmHelper",l=await Le.api.post(`plugin/${e}/full_sync_db`);if(!l||0!==l.code)throw new Error(l?.msg||"启动全量同步数据库失败");De.value=l.msg||"全量同步数据库任务已启动",Ke.value="success",await il()}catch(e){We.value=`启动全量同步数据库失败: ${e.message||"未知错误"}`,console.error("启动全量同步数据库失败:",e)}finally{Oe.value=!1,Ge.value=!1}},dl=$e({show:!1,error:null,configs:[],globalMediaservers:[],globalMpMediaserverPaths:""}),ml=$e({show:!1,error:null,editingIndex:-1,shareLink:"",shareCode:"",shareReceive:"",sharePath:"/",localPath:"",minFileSizeFormatted:"",moviepilotTransfer:!1,autoDownloadMediainfo:!1,mediaServerRefresh:!1,scrapeMetadata:!1}),ul=Te([]),pl=Se(()=>dl.configs.length>0&&dl.configs.every(e=>!!e.local_path&&(!(!e.share_link&&!e.share_code)&&!(e.share_code&&!e.share_receive)))),fl=Se(()=>!!ml.localPath&&(!(!ml.shareLink&&!ml.shareCode)&&!(ml.shareCode&&!ml.shareReceive))),_l=$e({show:!1,isLocal:!0,loading:!1,error:null,currentPath:"/",items:[],selectedPath:"",callback:null}),gl=()=>{dl.show=!0,dl.error=null,Le.initialConfig&&(dl.configs=Array.isArray(Le.initialConfig.share_strm_config)?JSON.parse(JSON.stringify(Le.initialConfig.share_strm_config)):[],dl.globalMediaservers=Array.isArray(Le.initialConfig.share_strm_mediaservers)?[...Le.initialConfig.share_strm_mediaservers]:[],dl.globalMpMediaserverPaths=Le.initialConfig.share_strm_mp_mediaserver_paths||"")},hl=()=>{dl.show=!1,dl.configs=[],dl.error=null},yl=()=>{ml.editingIndex=-1,ml.shareLink="",ml.shareCode="",ml.shareReceive="",ml.sharePath="/",ml.localPath="",ml.minFileSizeFormatted="",ml.moviepilotTransfer=!1,ml.autoDownloadMediainfo=!1,ml.mediaServerRefresh=!1,ml.scrapeMetadata=!1,ml.error=null,ml.show=!0},vl=()=>{ml.show=!1,ml.editingIndex=-1,ml.error=null},xl=()=>{if(ml.error=null,!fl.value)return void(ml.error="请填写必填项");const e={share_link:ml.shareLink||null,share_code:ml.shareCode||null,share_receive:ml.shareReceive||null,share_path:ml.sharePath||null,local_path:ml.localPath,min_file_size:Fe(ml.minFileSizeFormatted)||null,moviepilot_transfer:ml.moviepilotTransfer,auto_download_mediainfo:!ml.moviepilotTransfer&&ml.autoDownloadMediainfo,media_server_refresh:!ml.moviepilotTransfer&&ml.mediaServerRefresh,scrape_metadata:!ml.moviepilotTransfer&&ml.scrapeMetadata};ml.editingIndex>=0?dl.configs[ml.editingIndex]=e:dl.configs.push(e),vl()},bl=async()=>{_l.loading=!0,_l.error=null,_l.items=[];try{if(_l.isLocal)try{const e=await Le.api.post("storage/list",{path:_l.currentPath||"/",type:"share",flag:"ROOT"});if(!e||!Array.isArray(e))throw new Error("浏览目录失败：无效响应");_l.items=e.filter(e=>"dir"===e.type).map(e=>({name:e.name,path:e.path,is_dir:!0})).sort((e,l)=>e.name.localeCompare(l.name,void 0,{numeric:!0,sensitivity:"base"}))}catch(We){console.error("浏览本地目录失败:",We),_l.error=`浏览本地目录失败: ${We.message||"未知错误"}`,_l.items=[]}else{const e="P115StrmHelper";if(!Le.initialConfig?.cookies||""===Le.initialConfig?.cookies.trim())throw new Error("请先设置115 Cookie才能浏览网盘目录");const l=await Le.api.get(`plugin/${e}/browse_dir?path=${encodeURIComponent(_l.currentPath)}&is_local=${_l.isLocal}`);if(!l||0!==l.code||!l.data)throw new Error(l?.msg||"获取网盘目录内容失败");_l.items=l.data.items.filter(e=>e.is_dir),_l.currentPath=l.data.path||_l.currentPath}}catch(We){console.error("加载目录内容失败:",We),_l.error=We.message||"获取目录内容失败",(We.message.includes("Cookie")||We.message.includes("cookie"))&&(_l.items=[])}finally{_l.loading=!1}},kl=()=>{const e=_l.currentPath;if(!_l.isLocal){if("/"===e)return;let l=e.replace(/\\/g,"/");l.length>1&&l.endsWith("/")&&(l=l.slice(0,-1));const a=l.substring(0,l.lastIndexOf("/"));return _l.currentPath=""===a?"/":a,void bl()}if("/"===e||"C:\\"===e||"C:/"===e)return;const l=e.replace(/\\/g,"/"),a=l.split("/").filter(Boolean);0===a.length?_l.currentPath="/":1===a.length&&l.includes(":")?_l.currentPath=a[0]+":/":(a.pop(),_l.currentPath=0===a.length?"/":(l.startsWith("/")?"/":"")+a.join("/")+"/"),bl()},wl=()=>{if(!_l.currentPath)return;let e=_l.currentPath;"/"===e||/^[a-zA-Z]:[\\\/]$/.test(e)||!e.endsWith("/")&&!e.endsWith("\\\\")||(e=e.slice(0,-1)),"function"==typeof _l.callback&&_l.callback(e),Cl()},Cl=()=>{_l.show=!1,_l.items=[],_l.error=null},zl=async()=>{He.value=!0,dl.error=null;try{if(0===dl.configs.length)throw new Error("请至少添加一个分享配置");const e="P115StrmHelper";Le.initialConfig&&(Le.initialConfig.share_strm_config=dl.configs,Le.initialConfig.share_strm_mediaservers=dl.globalMediaservers.length>0?[...dl.globalMediaservers]:null,Le.initialConfig.share_strm_mp_mediaserver_paths=dl.globalMpMediaserverPaths||null,await Le.api.post(`plugin/${e}/save_config`,Le.initialConfig));const l=await Le.api.post(`plugin/${e}/share_sync`);if(!l||0!==l.code)throw new Error(l?.msg||"启动分享同步失败");De.value=l.msg||"分享同步任务已启动",Ke.value="success",await il(),hl()}catch(e){dl.error=`启动分享同步失败: ${e.message||"未知错误"}`,console.error("启动分享同步失败:",e)}finally{He.value=!1}},Pl=()=>{Ye.show=!0,Ye.activeTab="tasks",Ye.error=null,Ye.addError=null},Vl=()=>{Ye.show=!1,Ye.tasks=[],Ye.totalTasks=0,Ye.links="",Ye.destPath=""},Ml=async({page:e,itemsPerPage:l})=>{Ye.loading=!0,Ye.error=null;try{const a="P115StrmHelper",t=await Le.api.post(`plugin/${a}/offline_tasks`,{page:e,limit:l});if(!t||0!==t.code||!t.data)throw new Error(t?.msg||"获取离线任务列表失败");Ye.tasks=t.data.tasks||[],Ye.totalTasks=t.data.total||0}catch(a){Ye.error=`获取任务失败: ${a.message||"未知错误"}`,console.error("获取离线任务失败:",a),Ye.tasks=[],Ye.totalTasks=0}finally{Ye.loading=!1}},Tl=async()=>{if(Ye.links.trim()){Ye.adding=!0,Ye.addError=null;try{const e="P115StrmHelper",l=Ye.links.split("\n").map(e=>e.trim()).filter(Boolean),a=await Le.api.post(`plugin/${e}/add_offline_task`,{links:l,path:Ye.destPath||null});if(!a||0!==a.code)throw new Error(a?.msg||"添加离线任务失败");De.value=a.msg||"离线任务添加成功",Ke.value="success",Ye.links="",Ye.destPath="",Ye.activeTab="tasks",Ml({page:1,itemsPerPage:Ye.itemsPerPage})}catch(e){Ye.addError=`添加任务失败: ${e.message||"未知错误"}`,console.error("添加离线任务失败:",e)}finally{Ye.adding=!1}}else Ye.addError="下载链接不能为空。"},$l=()=>{_l.show=!0,_l.isLocal=!1,_l.loading=!1,_l.error=null,_l.items=[],_l.currentPath=Ye.destPath||"/",_l.callback=e=>{Ye.destPath=e},bl()},Sl=e=>{switch(e){case 0:return"info";case 1:return"error";case 2:return"success";case 3:return"warning";default:return"grey"}},Ul=e=>{if(!e)return[];try{return e.split("\n").filter(e=>e.trim()&&e.includes("#")).map(e=>{const l=e.split("#");return{local:l[0]||"",remote:l[1]||""}})}catch(l){return console.error("解析路径字符串失败:",l),[]}},El=e=>{if(!e)return[];try{return e.split("\n").filter(e=>e.trim()).map(e=>({path:e}))}catch(l){return console.error("解析网盘整理路径字符串失败:",l),[]}};async function Ll(){Qe.loading=!0,Qe.error=null,Xe.loading=!0,Xe.error=null;try{const e="P115StrmHelper",l=await Le.api.get(`plugin/${e}/user_storage_status`);if(l&&l.success)l.user_info?Object.assign(Qe,l.user_info):Qe.error="未能获取有效的用户信息。",l.storage_info?Object.assign(Xe,l.storage_info):Xe.error="未能获取有效的存储空间信息。";else{const e=l?.error_message||"获取用户和存储信息失败。";Qe.error=e,Xe.error=e,(e.includes("Cookie")||e.includes("未配置"))&&(Ze.has_client=!1)}}catch(e){console.error("获取用户/存储状态失败:",e);const l=`请求用户/存储状态时出错: ${e.message||"未知网络错误"}`;Qe.error=l,Xe.error=l}finally{Qe.loading=!1,Xe.loading=!1}}return Ee(()=>Le.initialConfig,e=>{e&&(Ze.enabled=e.enabled||!1,Ze.has_client=Boolean(e.cookies&&""!==e.cookies.trim()))},{immediate:!0}),Ue(async()=>{await il(),Ze.has_client&&Le.initialConfig?.cookies?await Ll():(Qe.loading=!1,Xe.loading=!1,Le.initialConfig?.cookies?Ze.has_client||(Qe.error="115客户端未连接或Cookie无效。",Xe.error="115客户端未连接或Cookie无效。"):(Qe.error="请先配置115 Cookie。",Xe.error="请先配置115 Cookie。"));try{const e="P115StrmHelper",l=await Le.api.get(`plugin/${e}/get_config`);l&&l.mediaservers&&(ul.value=l.mediaservers)}catch(e){console.error("加载媒体服务器列表失败:",e)}}),(l,Te)=>{const $e=a("v-icon"),Se=a("v-card-title"),Ue=a("v-alert"),Ee=a("v-skeleton-loader"),Le=a("v-list-item-title"),Fe=a("v-chip"),il=a("v-list-item"),ol=a("v-divider"),cl=a("v-list"),Ll=a("v-card-text"),Rl=a("v-card"),Fl=a("v-img"),Il=a("v-avatar"),Bl=a("v-list-item-subtitle"),jl=a("v-progress-linear"),Al=a("v-col"),Ol=a("v-row"),Hl=a("v-btn"),Nl=a("v-menu"),Wl=a("v-card-actions"),Dl=a("v-spacer"),Kl=a("v-select"),Gl=a("v-textarea"),Jl=a("v-dialog"),ql=a("v-text-field"),Zl=a("v-switch"),Ql=a("v-expand-transition"),Xl=a("v-tab"),Yl=a("v-tabs"),ea=a("v-data-table-server"),la=a("v-window-item"),aa=a("v-window"),ta=a("v-progress-circular");return o(),m(p,null,[i("div",y,[t(Rl,{flat:"",class:"rounded border",style:{display:"flex","flex-direction":"column","max-height":"85vh"}},{default:s(()=>[t(Se,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t($e,{icon:"mdi-file-link",class:"mr-2",color:"primary",size:"small"}),Te[38]||(Te[38]=i("span",null,"115网盘STRM助手",-1))]),_:1}),t(Ll,{class:"px-3 py-1",style:{"flex-grow":"1","overflow-y":"auto","padding-bottom":"48px"}},{default:s(()=>[We.value?(o(),c(Ue,{key:0,type:"error",density:"compact",class:"mb-2",variant:"tonal",closable:""},{default:s(()=>[r(n(We.value),1)]),_:1})):d("",!0),De.value?(o(),c(Ue,{key:1,type:Ke.value,density:"compact",class:"mb-2",variant:"tonal",closable:""},{default:s(()=>[r(n(De.value),1)]),_:1},8,["type"])):d("",!0),Be.value&&!Ne.value?(o(),c(Ee,{key:2,type:"article, actions"})):d("",!0),Ne.value?(o(),m("div",v,[t(Ol,null,{default:s(()=>[t(Al,{cols:"12",md:"6"},{default:s(()=>[t(Rl,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(Se,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t($e,{icon:"mdi-information",class:"mr-2",color:"primary",size:"small"}),Te[39]||(Te[39]=i("span",null,"系统状态",-1))]),_:1}),t(Ll,{class:"pa-0"},{default:s(()=>[t(cl,{class:"bg-transparent pa-0"},{default:s(()=>[t(il,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t($e,{color:Ze.enabled?"success":"grey",icon:"mdi-power",size:"small"},null,8,["color"])]),append:s(()=>[t(Fe,{color:Ze.enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(Ze.enabled?"已启用":"已禁用"),1)]),_:1},8,["color"])]),default:s(()=>[t(Le,{class:"text-body-2"},{default:s(()=>Te[40]||(Te[40]=[r("插件状态")])),_:1})]),_:1}),t(ol,{class:"my-0"}),t(il,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t($e,{color:Ze.has_client&&e.initialConfig?.cookies?"success":"error",icon:"mdi-account-check",size:"small"},null,8,["color"])]),append:s(()=>[t(Fe,{color:Ze.has_client&&e.initialConfig?.cookies?"success":"error",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(Ze.has_client&&e.initialConfig?.cookies?"已连接":"未连接"),1)]),_:1},8,["color"])]),default:s(()=>[t(Le,{class:"text-body-2"},{default:s(()=>Te[41]||(Te[41]=[r("115客户端状态")])),_:1})]),_:1}),t(ol,{class:"my-0"}),t(il,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t($e,{color:Ze.running?"warning":"success",icon:"mdi-play-circle",size:"small"},null,8,["color"])]),append:s(()=>[t(Fe,{color:Ze.running?"warning":"success",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(Ze.running?"运行中":"空闲"),1)]),_:1},8,["color"])]),default:s(()=>[t(Le,{class:"text-body-2"},{default:s(()=>Te[42]||(Te[42]=[r("任务状态")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(Rl,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(Se,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t($e,{icon:"mdi-account-box",class:"mr-2",color:"primary",size:"small"}),Te[43]||(Te[43]=i("span",null,"115账户信息",-1))]),_:1}),t(Ll,{class:"pa-0"},{default:s(()=>[Qe.loading||Xe.loading?(o(),c(Ee,{key:0,type:"list-item-avatar-three-line, list-item-three-line"})):(o(),m("div",x,[Qe.error||Xe.error?(o(),c(Ue,{key:0,type:"warning",density:"compact",class:"ma-2",variant:"tonal"},{default:s(()=>[r(n(Qe.error||Xe.error),1)]),_:1})):(o(),c(cl,{key:1,class:"bg-transparent pa-0"},{default:s(()=>[t(il,{class:"px-3 py-1"},{prepend:s(()=>[t(Il,{size:"32",class:"mr-2"},{default:s(()=>[Qe.avatar?(o(),c(Fl,{key:0,src:Qe.avatar,alt:Qe.name},null,8,["src","alt"])):(o(),c($e,{key:1,icon:"mdi-account-circle"}))]),_:1})]),default:s(()=>[t(Le,{class:"text-body-1 font-weight-medium"},{default:s(()=>[r(n(Qe.name||"未知用户"),1)]),_:1})]),_:1}),t(ol,{class:"my-0"}),t(il,{class:"px-3 py-1"},{prepend:s(()=>[t($e,{color:Qe.is_vip?"amber-darken-2":"grey",icon:"mdi-shield-crown",size:"small"},null,8,["color"])]),append:s(()=>[t(Fe,{color:Qe.is_vip?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(Qe.is_vip?Qe.is_forever_vip?"永久VIP":`VIP (至 ${Qe.vip_expire_date||"N/A"})`:"非VIP"),1)]),_:1},8,["color"])]),default:s(()=>[t(Le,{class:"text-body-2"},{default:s(()=>Te[44]||(Te[44]=[r("VIP状态")])),_:1})]),_:1}),t(ol,{class:"my-0"}),t(il,{class:"px-3 py-1"},{default:s(()=>[t(Le,{class:"text-body-2 mb-1"},{default:s(()=>Te[45]||(Te[45]=[r("存储空间")])),_:1}),Xe.used&&Xe.total?(o(),c(Bl,{key:0,class:"text-caption"},{default:s(()=>[r(" 已用 "+n(Xe.used)+" / 总共 "+n(Xe.total)+" (剩余 "+n(Xe.remaining)+") ",1)]),_:1})):d("",!0),Xe.used&&Xe.total?(o(),c(jl,{key:1,"model-value":el(Xe.used,Xe.total),color:"primary",height:"6",rounded:"",class:"mt-1"},null,8,["model-value"])):(o(),c(Bl,{key:2,class:"text-caption text-grey"},{default:s(()=>Te[46]||(Te[46]=[r(" 存储信息不可用 ")])),_:1}))]),_:1})]),_:1}))]))]),_:1})]),_:1}),t(Rl,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(Se,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t($e,{icon:"mdi-puzzle",class:"mr-2",color:"primary",size:"small"}),Te[47]||(Te[47]=i("span",null,"功能配置",-1))]),_:1}),t(Ll,{class:"pa-0"},{default:s(()=>[t(cl,{class:"bg-transparent pa-0"},{default:s(()=>[t(il,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t($e,{color:e.initialConfig?.transfer_monitor_enabled?"success":"grey",icon:"mdi-file-move",size:"small"},null,8,["color"])]),append:s(()=>[t(Fe,{color:e.initialConfig?.transfer_monitor_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.transfer_monitor_enabled?"已启用":"已禁用"),1)]),_:1},8,["color"])]),default:s(()=>[t(Le,{class:"text-body-2"},{default:s(()=>Te[48]||(Te[48]=[r("监控MP整理")])),_:1})]),_:1}),t(ol,{class:"my-0"}),t(il,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t($e,{color:e.initialConfig?.timing_full_sync_strm?"success":"grey",icon:"mdi-sync",size:"small"},null,8,["color"])]),append:s(()=>[t(Fe,{color:e.initialConfig?.timing_full_sync_strm?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.timing_full_sync_strm?"已启用":"已禁用"),1)]),_:1},8,["color"])]),default:s(()=>[t(Le,{class:"text-body-2"},{default:s(()=>Te[49]||(Te[49]=[r("定期全量同步")])),_:1})]),_:1}),t(ol,{class:"my-0"}),t(il,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t($e,{color:e.initialConfig?.increment_sync_strm_enabled?"success":"grey",icon:"mdi-book-sync",size:"small"},null,8,["color"])]),append:s(()=>[t(Fe,{color:e.initialConfig?.increment_sync_strm_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.increment_sync_strm_enabled?"已启用":"已禁用"),1)]),_:1},8,["color"])]),default:s(()=>[t(Le,{class:"text-body-2"},{default:s(()=>Te[50]||(Te[50]=[r("定期增量同步")])),_:1})]),_:1}),t(ol,{class:"my-0"}),t(il,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t($e,{color:e.initialConfig?.monitor_life_enabled?"success":"grey",icon:"mdi-calendar-heart",size:"small"},null,8,["color"])]),append:s(()=>[t(Fe,{color:e.initialConfig?.monitor_life_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.monitor_life_enabled?"已启用":"已禁用"),1)]),_:1},8,["color"])]),default:s(()=>[t(Le,{class:"text-body-2"},{default:s(()=>Te[51]||(Te[51]=[r("监控115生活事件")])),_:1})]),_:1}),t(ol,{class:"my-0"}),t(il,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t($e,{color:e.initialConfig?.pan_transfer_enabled?"success":"grey",icon:"mdi-transfer",size:"small"},null,8,["color"])]),append:s(()=>[t(Fe,{color:e.initialConfig?.pan_transfer_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.pan_transfer_enabled?"已启用":"已禁用"),1)]),_:1},8,["color"])]),default:s(()=>[t(Le,{class:"text-body-2"},{default:s(()=>Te[52]||(Te[52]=[r("网盘整理")])),_:1})]),_:1}),t(ol,{class:"my-0"}),t(il,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t($e,{color:e.initialConfig?.clear_recyclebin_enabled||e.initialConfig?.clear_receive_path_enabled?"success":"grey",icon:"mdi-broom",size:"small"},null,8,["color"])]),append:s(()=>[t(Fe,{color:e.initialConfig?.clear_recyclebin_enabled||e.initialConfig?.clear_receive_path_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.clear_recyclebin_enabled||e.initialConfig?.clear_receive_path_enabled?"已启用":"已禁用"),1)]),_:1},8,["color"])]),default:s(()=>[t(Le,{class:"text-body-2"},{default:s(()=>Te[53]||(Te[53]=[r("定期清理")])),_:1})]),_:1}),t(ol,{class:"my-0"})]),_:1})]),_:1})]),_:1})]),_:1}),t(Al,{cols:"12",md:"6"},{default:s(()=>[t(Rl,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(Se,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t($e,{icon:"mdi-folder-search",class:"mr-2",color:"primary",size:"small"}),Te[54]||(Te[54]=i("span",null,"路径配置",-1))]),_:1}),t(Ll,{class:"pa-0"},{default:s(()=>[t(cl,{class:"bg-transparent pa-0"},{default:s(()=>[e.initialConfig?.transfer_monitor_enabled?(o(),c(il,{key:0,class:"px-3 py-2"},{default:s(()=>[i("div",null,[Te[60]||(Te[60]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"监控MP整理路径",-1)),al(e.initialConfig?.transfer_monitor_paths)>0?(o(!0),m(p,{key:0},u(Ul(e.initialConfig?.transfer_monitor_paths),(e,l)=>(o(),m(p,{key:`transfer-${l}`},[l>0?(o(),c(ol,{key:0,class:"my-1"})):d("",!0),i("div",b,[t(Ol,{dense:"",align:"center"},{default:s(()=>[t(Al,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t($e,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>Te[55]||(Te[55]=[r("mdi-folder-home")])),_:1}),i("div",{class:"text-truncate w-100",title:e.local},[Te[56]||(Te[56]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"本地目录",-1)),i("span",w,n(e.local||"-"),1)],8,k)]),_:2},1024),t(Al,{cols:"12",sm:"2",class:"text-center my-1 my-sm-0"},{default:s(()=>[t($e,{color:"primary",class:"icon-spin-animation"},{default:s(()=>Te[57]||(Te[57]=[r("mdi-sync")])),_:1})]),_:1}),t(Al,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t($e,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>Te[58]||(Te[58]=[r("mdi-cloud")])),_:1}),i("div",{class:"text-truncate w-100",title:e.remote},[Te[59]||(Te[59]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"网盘目录",-1)),i("span",z,n(e.remote||"-"),1)],8,C)]),_:2},1024)]),_:2},1024)])],64))),128)):(o(),m("div",P,"未配置路径"))])]),_:1})):d("",!0),e.initialConfig?.transfer_monitor_enabled&&(e.initialConfig?.increment_sync_strm_enabled||e.initialConfig?.timing_full_sync_strm||e.initialConfig?.monitor_life_enabled||e.initialConfig?.pan_transfer_enabled||e.initialConfig?.directory_upload_enabled)?(o(),c(ol,{key:1,class:"my-0"})):d("",!0),e.initialConfig?.timing_full_sync_strm?(o(),c(il,{key:2,class:"px-3 py-2"},{default:s(()=>[i("div",null,[Te[66]||(Te[66]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"全量同步路径",-1)),al(e.initialConfig?.full_sync_strm_paths)>0?(o(!0),m(p,{key:0},u(Ul(e.initialConfig?.full_sync_strm_paths),(e,l)=>(o(),m(p,{key:`fullsync-${l}`},[l>0?(o(),c(ol,{key:0,class:"my-1"})):d("",!0),i("div",V,[t(Ol,{dense:"",align:"center"},{default:s(()=>[t(Al,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t($e,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>Te[61]||(Te[61]=[r("mdi-folder-home")])),_:1}),i("div",{class:"text-truncate w-100",title:e.local},[Te[62]||(Te[62]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"本地目录",-1)),i("span",T,n(e.local||"-"),1)],8,M)]),_:2},1024),t(Al,{cols:"12",sm:"2",class:"text-center my-1 my-sm-0"},{default:s(()=>[t($e,{color:"primary",class:"icon-spin-animation"},{default:s(()=>Te[63]||(Te[63]=[r("mdi-sync")])),_:1})]),_:1}),t(Al,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t($e,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>Te[64]||(Te[64]=[r("mdi-cloud")])),_:1}),i("div",{class:"text-truncate w-100",title:e.remote},[Te[65]||(Te[65]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"网盘目录",-1)),i("span",S,n(e.remote||"-"),1)],8,$)]),_:2},1024)]),_:2},1024)])],64))),128)):(o(),m("div",U,"未配置路径"))])]),_:1})):d("",!0),e.initialConfig?.timing_full_sync_strm&&(e.initialConfig?.increment_sync_strm_enabled||e.initialConfig?.monitor_life_enabled||e.initialConfig?.pan_transfer_enabled||e.initialConfig?.directory_upload_enabled)?(o(),c(ol,{key:3,class:"my-0"})):d("",!0),e.initialConfig?.increment_sync_strm_enabled?(o(),c(il,{key:4,class:"px-3 py-2"},{default:s(()=>[i("div",null,[Te[72]||(Te[72]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"增量同步路径",-1)),al(e.initialConfig?.increment_sync_strm_paths)>0?(o(!0),m(p,{key:0},u(Ul(e.initialConfig?.increment_sync_strm_paths),(e,l)=>(o(),m(p,{key:`incsync-${l}`},[l>0?(o(),c(ol,{key:0,class:"my-1"})):d("",!0),i("div",E,[t(Ol,{dense:"",align:"center"},{default:s(()=>[t(Al,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t($e,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>Te[67]||(Te[67]=[r("mdi-folder-home")])),_:1}),i("div",{class:"text-truncate w-100",title:e.local},[Te[68]||(Te[68]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"本地目录",-1)),i("span",R,n(e.local||"-"),1)],8,L)]),_:2},1024),t(Al,{cols:"12",sm:"2",class:"text-center my-1 my-sm-0"},{default:s(()=>[t($e,{color:"primary",class:"icon-spin-animation"},{default:s(()=>Te[69]||(Te[69]=[r("mdi-sync")])),_:1})]),_:1}),t(Al,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t($e,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>Te[70]||(Te[70]=[r("mdi-cloud")])),_:1}),i("div",{class:"text-truncate w-100",title:e.remote},[Te[71]||(Te[71]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"网盘目录",-1)),i("span",I,n(e.remote||"-"),1)],8,F)]),_:2},1024)]),_:2},1024)])],64))),128)):(o(),m("div",B,"未配置路径"))])]),_:1})):d("",!0),e.initialConfig?.increment_sync_strm_enabled&&(e.initialConfig?.monitor_life_enabled||e.initialConfig?.pan_transfer_enabled||e.initialConfig?.directory_upload_enabled)?(o(),c(ol,{key:5,class:"my-0"})):d("",!0),e.initialConfig?.monitor_life_enabled?(o(),c(il,{key:6,class:"px-3 py-2"},{default:s(()=>[i("div",null,[Te[78]||(Te[78]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"监控115生活事件路径",-1)),al(e.initialConfig?.monitor_life_paths)>0?(o(!0),m(p,{key:0},u(Ul(e.initialConfig?.monitor_life_paths),(e,l)=>(o(),m(p,{key:`life-${l}`},[l>0?(o(),c(ol,{key:0,class:"my-1"})):d("",!0),i("div",j,[t(Ol,{dense:"",align:"center"},{default:s(()=>[t(Al,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t($e,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>Te[73]||(Te[73]=[r("mdi-folder-home")])),_:1}),i("div",{class:"text-truncate w-100",title:e.local},[Te[74]||(Te[74]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"本地目录",-1)),i("span",O,n(e.local||"-"),1)],8,A)]),_:2},1024),t(Al,{cols:"12",sm:"2",class:"text-center my-1 my-sm-0"},{default:s(()=>[t($e,{color:"primary",class:"icon-spin-animation"},{default:s(()=>Te[75]||(Te[75]=[r("mdi-sync")])),_:1})]),_:1}),t(Al,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t($e,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>Te[76]||(Te[76]=[r("mdi-cloud")])),_:1}),i("div",{class:"text-truncate w-100",title:e.remote},[Te[77]||(Te[77]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"网盘目录",-1)),i("span",N,n(e.remote||"-"),1)],8,H)]),_:2},1024)]),_:2},1024)])],64))),128)):(o(),m("div",W,"未配置路径"))])]),_:1})):d("",!0),e.initialConfig?.monitor_life_enabled&&(e.initialConfig?.pan_transfer_enabled||e.initialConfig?.directory_upload_enabled)?(o(),c(ol,{key:7,class:"my-0"})):d("",!0),e.initialConfig?.pan_transfer_enabled?(o(),c(il,{key:8,class:"px-3 py-2"},{default:s(()=>[i("div",null,[Te[81]||(Te[81]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"网盘整理目录",-1)),tl(e.initialConfig?.pan_transfer_paths)>0?(o(!0),m(p,{key:0},u(El(e.initialConfig?.pan_transfer_paths),(e,l)=>(o(),m(p,{key:`pan-${l}`},[l>0?(o(),c(ol,{key:0,class:"my-1"})):d("",!0),i("div",D,[i("div",K,[t($e,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>Te[79]||(Te[79]=[r("mdi-folder-arrow-down")])),_:1}),i("div",{class:"text-truncate w-100",title:e.path},[Te[80]||(Te[80]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"待整理网盘目录",-1)),i("span",J,n(e.path),1)],8,G)])])],64))),128)):(o(),m("div",q,"未配置网盘整理目录"))])]),_:1})):d("",!0),e.initialConfig?.pan_transfer_enabled&&e.initialConfig?.directory_upload_enabled?(o(),c(ol,{key:9,class:"my-0"})):d("",!0),e.initialConfig?.directory_upload_enabled?(o(),c(il,{key:10,class:"px-3 py-2"},{default:s(()=>[i("div",null,[Te[89]||(Te[89]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"目录上传路径",-1)),e.initialConfig?.directory_upload_path&&e.initialConfig.directory_upload_path.length>0?(o(!0),m(p,{key:0},u(e.initialConfig.directory_upload_path,(e,l)=>(o(),m(p,{key:`upload-group-${l}`},[l>0?(o(),c(ol,{key:0,class:"my-1"})):d("",!0),i("div",Z,[t(Ol,{dense:"",align:"center"},{default:s(()=>[t(Al,{cols:"12",md:"5",class:"d-flex align-center"},{default:s(()=>[t($e,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>Te[82]||(Te[82]=[r("mdi-folder-table")])),_:1}),i("div",{class:"text-truncate w-100",title:e.src},[Te[83]||(Te[83]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"本地监控",-1)),i("span",X,n(e.src||"-"),1)],8,Q)]),_:2},1024),t(Al,{cols:"12",md:"2",class:"text-center my-1 my-md-0"},{default:s(()=>[t($e,{color:"primary",class:"icon-spin-animation"},{default:s(()=>Te[84]||(Te[84]=[r("mdi-sync")])),_:1})]),_:1}),t(Al,{cols:"12",md:"5",class:"d-flex align-center"},{default:s(()=>[t($e,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>Te[85]||(Te[85]=[r("mdi-cloud-upload")])),_:1}),i("div",{class:"text-truncate w-100",title:e.dest_remote},[Te[86]||(Te[86]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"网盘上传",-1)),i("span",ee,n(e.dest_remote||"-"),1)],8,Y)]),_:2},1024)]),_:2},1024),e.dest_local||"boolean"==typeof e.delete?(o(),m("div",le,[t(Ol,{dense:"",align:"center",class:"mt-1"},{default:s(()=>[t(Al,{cols:"12",md:"boolean"==typeof e.delete?7:12},{default:s(()=>[e.dest_local?(o(),m("div",ae,[t($e,{size:"small",color:"warning",class:"mr-2 flex-shrink-0"},{default:s(()=>Te[87]||(Te[87]=[r("mdi-content-copy")])),_:1}),i("div",{class:"text-truncate w-100",title:e.dest_local},[Te[88]||(Te[88]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"本地复制",-1)),i("span",ie,n(e.dest_local),1)],8,te)])):d("",!0)]),_:2},1032,["md"]),"boolean"==typeof e.delete?(o(),c(Al,{key:0,cols:"12",md:e.dest_local?5:12,class:f(["d-flex align-center",{"justify-md-end":e.dest_local,"mt-1 mt-md-0":e.dest_local}])},{default:s(()=>[t($e,{size:"small",color:e.delete?"error":"grey-darken-1",class:"mr-1 flex-shrink-0"},{default:s(()=>[r(n(e.delete?"mdi-delete":"mdi-delete-off"),1)]),_:2},1032,["color"]),i("span",{class:f(["text-caption",e.delete?"text-error":"text-grey-darken-1"])},n(e.delete?"删除源":"不删源"),3)]),_:2},1032,["md","class"])):d("",!0)]),_:2},1024)])):d("",!0)])],64))),128)):(o(),m("div",se,"未配置路径"))])]),_:1})):d("",!0)]),_:1})]),_:1})]),_:1}),Ze.has_client&&e.initialConfig.cookies?ll.value?d("",!0):(o(),c(Rl,{key:1,flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(Ll,{class:"pa-3"},{default:s(()=>[i("div",oe,[t($e,{icon:"mdi-alert-circle",color:"warning",class:"mr-2",size:"small"}),i("div",ce,[Te[96]||(Te[96]=i("p",{class:"mb-1"},[i("strong",null,"路径配置不完整")],-1)),Te[97]||(Te[97]=i("p",{class:"mb-0"},"您已配置115 Cookie，但部分功能路径未配置。请前往配置页面完善路径设置。",-1)),t(Hl,{color:"primary",variant:"text",size:"small",class:"mt-1 px-2 py-0",onClick:Te[1]||(Te[1]=e=>Re("switch"))},{default:s(()=>[t($e,{size:"small",class:"mr-1"},{default:s(()=>Te[94]||(Te[94]=[r("mdi-cog")])),_:1}),Te[95]||(Te[95]=r("前往配置 "))]),_:1})])])]),_:1})]),_:1})):(o(),c(Rl,{key:0,flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(Ll,{class:"pa-3"},{default:s(()=>[i("div",ne,[t($e,{icon:"mdi-alert-circle",color:"error",class:"mr-2",size:"small"}),i("div",re,[Te[92]||(Te[92]=i("p",{class:"mb-1"},[i("strong",null,"未配置115 Cookie或Cookie无效")],-1)),Te[93]||(Te[93]=i("p",{class:"mb-0"},"请在配置页面中设置有效的115网盘Cookie，可通过扫码登录获取。",-1)),t(Hl,{color:"primary",variant:"text",size:"small",class:"mt-1 px-2 py-0",onClick:Te[0]||(Te[0]=e=>Re("switch"))},{default:s(()=>[t($e,{size:"small",class:"mr-1"},{default:s(()=>Te[90]||(Te[90]=[r("mdi-cog")])),_:1}),Te[91]||(Te[91]=r("前往配置 "))]),_:1})])])]),_:1})]),_:1}))]),_:1})]),_:1}),t(Rl,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(Ll,{class:"d-flex align-center px-3 py-1"},{default:s(()=>[t($e,{icon:"mdi-information",color:"info",class:"mr-2",size:"small"}),Te[98]||(Te[98]=i("span",{class:"text-body-2"},' 点击"配置"按钮进行设置，"全量同步"和"分享同步"按钮可立即执行相应任务。 ',-1))]),_:1})]),_:1})])):d("",!0)]),_:1}),t(ol),t(Wl,{class:"px-2 py-1 sticky-actions d-flex justify-space-between align-center",style:{"flex-shrink":"0",gap:"8px"}},{default:s(()=>[t(Hl,{color:"info",onClick:sl,"prepend-icon":"mdi-refresh",disabled:je.value,loading:je.value,variant:"text",size:"small"},{default:s(()=>Te[99]||(Te[99]=[r("刷新状态")])),_:1},8,["disabled","loading"]),i("div",de,[t(Nl,{"offset-y":""},{activator:s(({props:e})=>[t(Hl,_(e,{variant:"text",size:"small","append-icon":"mdi-dots-vertical"}),{default:s(()=>Te[100]||(Te[100]=[r(" 更多 ")])),_:2},1040)]),default:s(()=>[t(cl,{density:"compact"},{default:s(()=>[t(il,{onClick:Te[2]||(Te[2]=e=>Je.value=!0),disabled:!Ze.enabled||!Ze.has_client||Ge.value},{prepend:s(()=>[t($e,{color:"warning"},{default:s(()=>Te[101]||(Te[101]=[r("mdi-sync")])),_:1})]),default:s(()=>[t(Le,null,{default:s(()=>Te[102]||(Te[102]=[r("全量同步")])),_:1})]),_:1},8,["disabled"]),t(il,{onClick:Te[3]||(Te[3]=e=>qe.value=!0),disabled:!Ze.enabled||!Ze.has_client||Ge.value},{prepend:s(()=>[t($e,{color:"primary"},{default:s(()=>Te[103]||(Te[103]=[r("mdi-database-sync")])),_:1})]),default:s(()=>[t(Le,null,{default:s(()=>Te[104]||(Te[104]=[r("全量同步数据库")])),_:1})]),_:1},8,["disabled"]),t(il,{onClick:gl,disabled:!Ze.enabled||!Ze.has_client||Ge.value,loading:He.value},{prepend:s(()=>[t($e,{color:"info"},{default:s(()=>Te[105]||(Te[105]=[r("mdi-share-variant")])),_:1})]),default:s(()=>[t(Le,null,{default:s(()=>Te[106]||(Te[106]=[r("分享同步")])),_:1})]),_:1},8,["disabled","loading"]),t(il,{onClick:Pl,disabled:!Ze.enabled||!Ze.has_client||Ge.value},{prepend:s(()=>[t($e,{color:"secondary"},{default:s(()=>Te[107]||(Te[107]=[r("mdi-cloud-download-outline")])),_:1})]),default:s(()=>[t(Le,null,{default:s(()=>Te[108]||(Te[108]=[r("离线下载")])),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1}),t(Hl,{color:"primary",onClick:Te[4]||(Te[4]=e=>Re("switch")),"prepend-icon":"mdi-cog",variant:"text",size:"small"},{default:s(()=>Te[109]||(Te[109]=[r("配置")])),_:1}),t(Hl,{color:"error",onClick:Te[5]||(Te[5]=e=>Re("close")),variant:"flat",size:"small",class:"custom-close-btn","aria-label":"关闭",style:{"min-width":"auto !important",padding:"0 10px !important",height:"28px !important","line-height":"28px !important"}},{default:s(()=>[t($e,{size:"small"},{default:s(()=>Te[110]||(Te[110]=[r("mdi-close")])),_:1})]),_:1})])]),_:1})]),_:1})]),t(Jl,{modelValue:dl.show,"onUpdate:modelValue":Te[8]||(Te[8]=e=>dl.show=e),"max-width":"900",scrollable:""},{default:s(()=>[t(Rl,null,{default:s(()=>[t(Se,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-lighten-5"},{default:s(()=>[t($e,{icon:"mdi-share-variant",class:"mr-2",color:"primary",size:"small"}),Te[111]||(Te[111]=i("span",null,"115网盘分享同步",-1)),t(Dl),t(Hl,{icon:"mdi-close",variant:"text",size:"small",onClick:hl})]),_:1}),t(Ll,{class:"px-3 py-2"},{default:s(()=>[dl.error?(o(),c(Ue,{key:0,type:"error",density:"compact",class:"mb-3",variant:"tonal"},{default:s(()=>[r(n(dl.error),1)]),_:1})):d("",!0),t(Rl,{variant:"outlined",class:"mb-4"},{default:s(()=>[t(Se,{class:"text-subtitle-2 px-3 py-2 bg-grey-lighten-4"},{default:s(()=>[t($e,{icon:"mdi-cog",size:"small",class:"mr-2"}),Te[112]||(Te[112]=r(" 全局配置 "))]),_:1}),t(Ll,{class:"pa-3"},{default:s(()=>[t(Ol,null,{default:s(()=>[t(Al,{cols:"12"},{default:s(()=>[t(Kl,{modelValue:dl.globalMediaservers,"onUpdate:modelValue":Te[6]||(Te[6]=e=>dl.globalMediaservers=e),label:"刷新媒体服务器",hint:"应用于所有分享配置的媒体服务器刷新设置","persistent-hint":"",items:ul.value,multiple:"",chips:"","closable-chips":"",variant:"outlined",density:"compact"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(Ol,{class:"mt-2"},{default:s(()=>[t(Al,{cols:"12"},{default:s(()=>[t(Gl,{modelValue:dl.globalMpMediaserverPaths,"onUpdate:modelValue":Te[7]||(Te[7]=e=>dl.globalMpMediaserverPaths=e),label:"MP-媒体库 目录转换",hint:"格式：媒体库路径#MP路径，多个用换行分隔。应用于所有分享配置","persistent-hint":"",variant:"outlined",density:"compact",rows:"3","auto-grow":"",placeholder:"例如:\n/media#/mp\n/nas#/movie"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(Rl,{variant:"outlined"},{default:s(()=>[t(Se,{class:"text-subtitle-2 px-3 py-2 bg-grey-lighten-4 d-flex align-center"},{default:s(()=>[t($e,{icon:"mdi-share-variant",size:"small",class:"mr-2"}),Te[114]||(Te[114]=i("span",{class:"flex-grow-1"},"分享配置列表",-1)),t(Hl,{size:"small","prepend-icon":"mdi-plus",variant:"tonal",color:"primary",onClick:yl},{default:s(()=>Te[113]||(Te[113]=[r(" 添加分享 ")])),_:1})]),_:1}),t(Ll,{class:"pa-0"},{default:s(()=>[dl.configs.length>0?(o(),c(cl,{key:0,class:"pa-0"},{default:s(()=>[(o(!0),m(p,null,u(dl.configs,(e,l)=>(o(),m(p,{key:l},[t(il,{class:"px-3 py-2"},{prepend:s(()=>[t($e,{icon:"mdi-share-variant",color:"primary",size:"small",class:"mr-2"})]),append:s(()=>[i("div",he,[t(Hl,{icon:"mdi-pencil",size:"small",variant:"text",color:"primary",onClick:e=>(e=>{if(e<0||e>=dl.configs.length)return;const l=dl.configs[e];ml.editingIndex=e,ml.shareLink=l.share_link||"",ml.shareCode=l.share_code||"",ml.shareReceive=l.share_receive||"",ml.sharePath=l.share_path||"/",ml.localPath=l.local_path||"",ml.minFileSizeFormatted=Ie(l.min_file_size||0),ml.moviepilotTransfer=l.moviepilot_transfer||!1,ml.autoDownloadMediainfo=l.auto_download_mediainfo||!1,ml.mediaServerRefresh=l.media_server_refresh||!1,ml.scrapeMetadata=l.scrape_metadata||!1,ml.error=null,ml.show=!0})(l),title:"编辑"},null,8,["onClick"]),t(Hl,{icon:"mdi-delete",size:"small",variant:"text",color:"error",onClick:e=>(e=>{e>=0&&e<dl.configs.length&&dl.configs.splice(e,1)})(l),title:"删除"},null,8,["onClick"])])]),default:s(()=>[t(Le,{class:"text-body-2 font-weight-medium"},{default:s(()=>[r(n(e.share_link||e.share_code||`分享配置 ${l+1}`),1)]),_:2},1024),t(Bl,{class:"text-caption mt-1"},{default:s(()=>[i("div",me,[e.local_path?(o(),m("span",ue,[t($e,{icon:"mdi-folder",size:"x-small",class:"mr-1"}),r(" 本地路径: "+n(e.local_path),1)])):(o(),m("span",pe,"未配置本地路径")),i("div",fe,[e.share_path&&"/"!==e.share_path?(o(),m("span",_e,[t($e,{icon:"mdi-folder-network",size:"x-small",class:"mr-1"}),r(" 分享路径: "+n(e.share_path),1)])):d("",!0),e.min_file_size?(o(),m("span",ge,[t($e,{icon:"mdi-file-size",size:"x-small",class:"mr-1"}),r(" 最小文件: "+n(Ie(e.min_file_size)),1)])):d("",!0),e.moviepilot_transfer?(o(),c(Fe,{key:2,size:"x-small",color:"primary",variant:"tonal"},{default:s(()=>Te[115]||(Te[115]=[r(" MP整理 ")])),_:1})):d("",!0)])])]),_:2},1024)]),_:2},1024),l<dl.configs.length-1?(o(),c(ol,{key:0,class:"my-0"})):d("",!0)],64))),128))]),_:1})):(o(),c(Ue,{key:1,type:"info",density:"compact",variant:"tonal",class:"ma-3"},{default:s(()=>Te[116]||(Te[116]=[i("div",{class:"d-flex align-center"},[i("span",null,'暂无分享配置，请点击"添加分享"按钮添加')],-1)])),_:1}))]),_:1})]),_:1})]),_:1}),t(ol),t(Wl,{class:"px-3 py-1"},{default:s(()=>[t(Hl,{color:"grey",variant:"text",onClick:hl,size:"small"},{default:s(()=>Te[117]||(Te[117]=[r("取消")])),_:1}),t(Dl),t(Hl,{color:"primary",variant:"text",onClick:zl,loading:He.value,disabled:!pl.value,size:"small"},{default:s(()=>Te[118]||(Te[118]=[r(" 开始同步 ")])),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Jl,{modelValue:ml.show,"onUpdate:modelValue":Te[20]||(Te[20]=e=>ml.show=e),"max-width":"700",scrollable:""},{default:s(()=>[t(Rl,null,{default:s(()=>[t(Se,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-lighten-5"},{default:s(()=>[t($e,{icon:"mdi-share-variant",class:"mr-2",color:"primary",size:"small"}),i("span",null,n(ml.editingIndex>=0?"编辑分享配置":"添加分享配置"),1),t(Dl),t(Hl,{icon:"mdi-close",variant:"text",size:"small",onClick:vl})]),_:1}),t(Ll,{class:"px-3 py-3"},{default:s(()=>[ml.error?(o(),c(Ue,{key:0,type:"error",density:"compact",class:"mb-3",variant:"tonal",closable:""},{default:s(()=>[r(n(ml.error),1)]),_:1})):d("",!0),t(Ol,{class:"mb-2"},{default:s(()=>[t(Al,{cols:"12"},{default:s(()=>[t(ql,{modelValue:ml.shareLink,"onUpdate:modelValue":Te[9]||(Te[9]=e=>ml.shareLink=e),label:"分享链接",hint:"115网盘分享链接","persistent-hint":"",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-link"},null,8,["modelValue"])]),_:1})]),_:1}),t(Ol,{class:"mb-2"},{default:s(()=>[t(Al,{cols:"12",md:"6"},{default:s(()=>[t(ql,{modelValue:ml.shareCode,"onUpdate:modelValue":Te[10]||(Te[10]=e=>ml.shareCode=e),label:"分享码",hint:"分享码，和分享链接选填一项","persistent-hint":"",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-key"},null,8,["modelValue"])]),_:1}),t(Al,{cols:"12",md:"6"},{default:s(()=>[t(ql,{modelValue:ml.shareReceive,"onUpdate:modelValue":Te[11]||(Te[11]=e=>ml.shareReceive=e),label:"分享密码",hint:"分享密码，和分享链接选填一项","persistent-hint":"",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-lock",type:"password"},null,8,["modelValue"])]),_:1})]),_:1}),t(Ol,{class:"mb-2"},{default:s(()=>[t(Al,{cols:"12",md:"6"},{default:s(()=>[t(ql,{modelValue:ml.sharePath,"onUpdate:modelValue":Te[12]||(Te[12]=e=>ml.sharePath=e),label:"分享路径",hint:"分享内容列表中的相对路径，默认为根目录 /","persistent-hint":"",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-folder-network"},null,8,["modelValue"])]),_:1}),t(Al,{cols:"12",md:"6"},{default:s(()=>[t(ql,{modelValue:ml.localPath,"onUpdate:modelValue":Te[13]||(Te[13]=e=>ml.localPath=e),label:"本地路径",hint:"本地生成STRM文件的路径","persistent-hint":"",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-folder","append-icon":"mdi-folder-search","onClick:append":Te[14]||(Te[14]=e=>{return l="local",_l.show=!0,_l.isLocal="local"===l,_l.loading=!1,_l.error=null,_l.items=[],_l.currentPath=_l.isLocal&&ml.localPath||"/",_l.callback=e=>{_l.isLocal&&(ml.localPath=e)},void bl();var l})},null,8,["modelValue"])]),_:1})]),_:1}),t(Ol,{class:"mb-2"},{default:s(()=>[t(Al,{cols:"12",md:"6"},{default:s(()=>[t(ql,{modelValue:ml.minFileSizeFormatted,"onUpdate:modelValue":Te[15]||(Te[15]=e=>ml.minFileSizeFormatted=e),label:"分享生成最小文件大小",hint:"小于此值不生成STRM(K,M,G)","persistent-hint":"",variant:"outlined",density:"compact",placeholder:"例如: 100M",clearable:"","prepend-inner-icon":"mdi-file-document"},null,8,["modelValue"])]),_:1})]),_:1}),t(ol,{class:"my-3"}),t(Ol,{class:"mb-2"},{default:s(()=>[t(Al,{cols:"12"},{default:s(()=>[t(Zl,{modelValue:ml.moviepilotTransfer,"onUpdate:modelValue":Te[16]||(Te[16]=e=>ml.moviepilotTransfer=e),label:"STRM 交由 MoviePilot 整理",color:"primary",density:"compact","hide-details":""},{label:s(()=>[i("div",ye,[t($e,{icon:"mdi-transfer",size:"small",class:"mr-2"}),Te[119]||(Te[119]=i("span",null,"STRM 交由 MoviePilot 整理",-1))])]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(Ql,null,{default:s(()=>[ml.moviepilotTransfer?d("",!0):(o(),m("div",ve,[t(Ol,{class:"mb-2"},{default:s(()=>[t(Al,{cols:"12",md:"4",class:"d-flex align-center"},{default:s(()=>[t(Zl,{modelValue:ml.autoDownloadMediainfo,"onUpdate:modelValue":Te[17]||(Te[17]=e=>ml.autoDownloadMediainfo=e),color:"primary",density:"compact","hide-details":"",class:"flex-grow-1"},{label:s(()=>[i("div",xe,[t($e,{icon:"mdi-download",size:"small",class:"mr-2"}),Te[120]||(Te[120]=i("span",null,"自动下载网盘元数据",-1))])]),_:1},8,["modelValue"])]),_:1}),t(Al,{cols:"12",md:"4",class:"d-flex align-center"},{default:s(()=>[t(Zl,{modelValue:ml.mediaServerRefresh,"onUpdate:modelValue":Te[18]||(Te[18]=e=>ml.mediaServerRefresh=e),color:"primary",density:"compact","hide-details":"",class:"flex-grow-1"},{label:s(()=>[i("div",be,[t($e,{icon:"mdi-refresh",size:"small",class:"mr-2"}),Te[121]||(Te[121]=i("span",null,"刷新媒体服务器",-1))])]),_:1},8,["modelValue"])]),_:1}),t(Al,{cols:"12",md:"4",class:"d-flex align-center"},{default:s(()=>[t(Zl,{modelValue:ml.scrapeMetadata,"onUpdate:modelValue":Te[19]||(Te[19]=e=>ml.scrapeMetadata=e),color:"primary",density:"compact","hide-details":"",class:"flex-grow-1"},{label:s(()=>[i("div",ke,[t($e,{icon:"mdi-file-search",size:"small",class:"mr-2"}),Te[122]||(Te[122]=i("span",null,"是否刮削元数据",-1))])]),_:1},8,["modelValue"])]),_:1})]),_:1})]))]),_:1}),t(Ue,{type:"info",variant:"tonal",density:"compact",class:"mt-3"},{default:s(()=>Te[123]||(Te[123]=[i("div",{class:"text-caption"},[i("div",{class:"mb-1"},[i("strong",null,"提示：")]),i("ul",{class:"ma-0 pl-4"},[i("li",null,"分享链接/分享码和分享密码只需要二选一配置即可"),i("li",null,"同时填写分享链接、分享码和分享密码时，优先读取分享链接"),i("li",null,"当 STRM交由MoviePilot整理 关闭时，才能配置自动下载网盘元数据、刷新媒体服务器和是否刮削元数据")])],-1)])),_:1})]),_:1}),t(ol),t(Wl,{class:"px-3 py-1"},{default:s(()=>[t(Hl,{color:"grey",variant:"text",onClick:vl,size:"small"},{default:s(()=>Te[124]||(Te[124]=[r("取消")])),_:1}),t(Dl),t(Hl,{color:"primary",variant:"text",onClick:xl,disabled:!fl.value,size:"small"},{default:s(()=>Te[125]||(Te[125]=[r(" 保存 ")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Jl,{modelValue:Ye.show,"onUpdate:modelValue":Te[31]||(Te[31]=e=>Ye.show=e),"max-width":"800",persistent:""},{default:s(()=>[t(Rl,null,{default:s(()=>[t(Se,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-lighten-5"},{default:s(()=>[t($e,{icon:"mdi-cloud-download-outline",class:"mr-2",color:"primary",size:"small"}),Te[126]||(Te[126]=i("span",null,"115离线下载",-1)),t(Dl),t(Hl,{icon:"mdi-close",variant:"text",size:"small",onClick:Vl})]),_:1}),t(Ll,{class:"pa-0"},{default:s(()=>[t(Yl,{modelValue:Ye.activeTab,"onUpdate:modelValue":Te[21]||(Te[21]=e=>Ye.activeTab=e),"bg-color":"primary-gradient",grow:""},{default:s(()=>[t(Xl,{value:"tasks"},{default:s(()=>Te[127]||(Te[127]=[r("任务列表")])),_:1}),t(Xl,{value:"add"},{default:s(()=>Te[128]||(Te[128]=[r("添加任务")])),_:1})]),_:1},8,["modelValue"]),t(aa,{modelValue:Ye.activeTab,"onUpdate:modelValue":Te[30]||(Te[30]=e=>Ye.activeTab=e),touchless:""},{default:s(()=>[t(la,{value:"tasks"},{default:s(()=>[i("div",{style:{"overflow-x":"auto"},onTouchstart:Te[25]||(Te[25]=g(()=>{},["stop"])),onTouchmove:Te[26]||(Te[26]=g(()=>{},["stop"])),onTouchend:Te[27]||(Te[27]=g(()=>{},["stop"]))},[Ye.error?(o(),c(Ue,{key:0,type:"error",density:"compact",class:"ma-3",variant:"tonal"},{default:s(()=>[r(n(Ye.error),1)]),_:1})):d("",!0),t(ea,{headers:Ye.headers,items:Ye.tasks,"items-length":Ye.totalTasks,loading:Ye.loading,"items-per-page":Ye.itemsPerPage,"onUpdate:options":Ml,density:"compact",class:"ma-2","no-data-text":"没有离线下载任务","loading-text":"正在加载任务...","items-per-page-text":"每页条目数",style:{"min-width":"700px"},onTouchstart:Te[22]||(Te[22]=g(()=>{},["stop"])),onTouchmove:Te[23]||(Te[23]=g(()=>{},["stop"])),onTouchend:Te[24]||(Te[24]=g(()=>{},["stop"]))},{"item.progress":s(({item:e})=>[i("div",we,[t(jl,{"model-value":e.percent,color:Sl(e.status),stream:0===e.status||3===e.status,striped:0===e.status||3===e.status,height:"8",rounded:"",class:"flex-grow-1 mr-3"},null,8,["model-value","color","stream","striped"]),i("div",Ce,n(e.percent)+"% ",1)])]),"item.status_text":s(({item:e})=>[t(Fe,{color:Sl(e.status),size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.status_text),1)]),_:2},1032,["color"])]),_:1},8,["headers","items","items-length","loading","items-per-page"])],32)]),_:1}),t(la,{value:"add"},{default:s(()=>[i("div",ze,[Ye.addError?(o(),c(Ue,{key:0,type:"error",density:"compact",class:"mb-3",variant:"tonal"},{default:s(()=>[r(n(Ye.addError),1)]),_:1})):d("",!0),t(Gl,{modelValue:Ye.links,"onUpdate:modelValue":Te[28]||(Te[28]=e=>Ye.links=e),label:"下载链接",hint:"每行一个链接，支持 http(s)/ftp/magnet/ed2k","persistent-hint":"",variant:"outlined",rows:"5",clearable:""},null,8,["modelValue"]),t(ql,{modelValue:Ye.destPath,"onUpdate:modelValue":Te[29]||(Te[29]=e=>Ye.destPath=e),label:"网盘保存路径 (可选)",hint:"可选，默认为网盘待整理目录","persistent-hint":"",variant:"outlined",density:"compact",class:"mt-3","append-inner-icon":"mdi-folder-network-outline","onClick:appendInner":$l,clearable:""},null,8,["modelValue"]),i("div",Pe,[t(Hl,{color:"primary",onClick:Tl,loading:Ye.adding,disabled:!Ye.links||Ye.adding,"prepend-icon":"mdi-plus"},{default:s(()=>Te[129]||(Te[129]=[r(" 添加任务 ")])),_:1},8,["loading","disabled"])])])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Jl,{modelValue:_l.show,"onUpdate:modelValue":Te[33]||(Te[33]=e=>_l.show=e),"max-width":"800"},{default:s(()=>[t(Rl,null,{default:s(()=>[t(Se,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-lighten-5"},{default:s(()=>[t($e,{icon:_l.isLocal?"mdi-folder-search":"mdi-folder-network",class:"mr-2",color:"primary"},null,8,["icon"]),i("span",null,n(_l.isLocal?"选择本地目录":"选择网盘目录"),1)]),_:1}),t(Ll,{class:"px-3 py-2"},{default:s(()=>[_l.loading?(o(),m("div",Ve,[t(ta,{indeterminate:"",color:"primary"})])):(o(),m("div",Me,[t(ql,{modelValue:_l.currentPath,"onUpdate:modelValue":Te[32]||(Te[32]=e=>_l.currentPath=e),label:"当前路径",variant:"outlined",density:"compact",class:"mb-2",onKeyup:h(bl,["enter"])},null,8,["modelValue"]),t(cl,{class:"border rounded","max-height":"300px","overflow-y":"auto"},{default:s(()=>["/"!==_l.currentPath&&"C:\\"!==_l.currentPath&&"C:/"!==_l.currentPath?(o(),c(il,{key:0,onClick:kl,class:"py-0",style:{"min-height":"auto"}},{prepend:s(()=>[t($e,{icon:"mdi-arrow-up",size:"small",class:"mr-2",color:"grey"})]),default:s(()=>[t(Le,{class:"text-body-2"},{default:s(()=>Te[130]||(Te[130]=[r("上级目录")])),_:1}),t(Bl,null,{default:s(()=>Te[131]||(Te[131]=[r("..")])),_:1})]),_:1})):d("",!0),(o(!0),m(p,null,u(_l.items,(e,l)=>(o(),c(il,{key:l,onClick:l=>(e=>{e&&e.is_dir&&e.path&&(_l.currentPath=e.path,bl())})(e),disabled:!e.is_dir,class:"py-0",style:{"min-height":"auto"}},{prepend:s(()=>[t($e,{icon:e.is_dir?"mdi-folder":"mdi-file",size:"small",class:"mr-2",color:e.is_dir?"success":"blue"},null,8,["icon","color"])]),default:s(()=>[t(Le,{class:"text-body-2"},{default:s(()=>[r(n(e.name),1)]),_:2},1024)]),_:2},1032,["onClick","disabled"]))),128)),_l.items.length?d("",!0):(o(),c(il,{key:1,class:"py-2 text-center"},{default:s(()=>[t(Le,{class:"text-body-2 text-grey"},{default:s(()=>Te[132]||(Te[132]=[r("该目录为空或访问受限")])),_:1})]),_:1}))]),_:1})])),"/"!==_l.currentPath||_l.isLocal?d("",!0):(o(),c(Ue,{key:2,type:"warning",density:"compact",class:"mt-2 text-caption",variant:"tonal",icon:"mdi-alert-circle-outline"},{default:s(()=>Te[133]||(Te[133]=[r(" 115离线下载不支持选择根目录，请选择或进入一个子目录。 ")])),_:1})),_l.error?(o(),c(Ue,{key:3,type:"error",density:"compact",class:"mt-2 text-caption",variant:"tonal"},{default:s(()=>[r(n(_l.error),1)]),_:1})):d("",!0)]),_:1}),t(Wl,{class:"px-3 py-1"},{default:s(()=>[t(Dl),t(Hl,{color:"primary",onClick:wl,disabled:!_l.currentPath||_l.loading||"/"===_l.currentPath&&!_l.isLocal,variant:"text",size:"small"},{default:s(()=>Te[134]||(Te[134]=[r(" 选择当前目录 ")])),_:1},8,["disabled"]),t(Hl,{color:"grey",onClick:Cl,variant:"text",size:"small"},{default:s(()=>Te[135]||(Te[135]=[r(" 取消 ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Jl,{modelValue:Je.value,"onUpdate:modelValue":Te[35]||(Te[35]=e=>Je.value=e),"max-width":"450",persistent:""},{default:s(()=>[t(Rl,null,{default:s(()=>[t(Se,{class:"text-h6 d-flex align-center"},{default:s(()=>[t($e,{icon:"mdi-alert-circle-outline",color:"warning",class:"mr-2"}),Te[136]||(Te[136]=r(" 确认操作 "))]),_:1}),t(Ll,null,{default:s(()=>Te[137]||(Te[137]=[r(" 您确定要立即执行全量同步吗？ ")])),_:1}),t(Wl,null,{default:s(()=>[t(Dl),t(Hl,{color:"grey",variant:"text",onClick:Te[34]||(Te[34]=e=>Je.value=!1),disabled:Ae.value},{default:s(()=>Te[138]||(Te[138]=[r(" 取消 ")])),_:1},8,["disabled"]),t(Hl,{color:"warning",variant:"text",onClick:nl,loading:Ae.value},{default:s(()=>Te[139]||(Te[139]=[r(" 确认执行 ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Jl,{modelValue:qe.value,"onUpdate:modelValue":Te[37]||(Te[37]=e=>qe.value=e),"max-width":"450",persistent:""},{default:s(()=>[t(Rl,null,{default:s(()=>[t(Se,{class:"text-h6 d-flex align-center"},{default:s(()=>[t($e,{icon:"mdi-alert-circle-outline",color:"warning",class:"mr-2"}),Te[140]||(Te[140]=r(" 确认操作 "))]),_:1}),t(Ll,null,{default:s(()=>Te[141]||(Te[141]=[r(" 您确定要立即执行全量同步数据库吗？该操作会覆盖原有数据库数据 ")])),_:1}),t(Wl,null,{default:s(()=>[t(Dl),t(Hl,{color:"grey",variant:"text",onClick:Te[36]||(Te[36]=e=>qe.value=!1),disabled:Oe.value},{default:s(()=>Te[142]||(Te[142]=[r(" 取消 ")])),_:1},8,["disabled"]),t(Hl,{color:"warning",variant:"text",onClick:rl,loading:Oe.value},{default:s(()=>Te[143]||(Te[143]=[r(" 确认执行 ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},[["__scopeId","data-v-1727f8e9"]]);export{Le as default};
