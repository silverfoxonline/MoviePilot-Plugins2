import{importShared as e}from"./__federation_fn_import-B6DyUTOO.js";import{_ as l}from"./_plugin-vue_export-helper-BCo6x5W8.js";const{resolveComponent:a,createVNode:t,createElementVNode:i,withCtx:s,toDisplayString:n,createTextVNode:r,openBlock:o,createBlock:c,createCommentVNode:d,createElementBlock:u,renderList:m,Fragment:p,normalizeClass:f,mergeProps:g,withModifiers:_,withKeys:y}=await e("vue"),h={class:"plugin-page"},v={key:3,class:"my-1"},x={key:1},b={key:1,class:"text-center py-4"},k={class:"d-flex flex-wrap align-center gap-1 mt-1"},w={key:0,class:"text-grey"},C={key:1,class:"text-grey"},z={key:2,class:"text-grey"},P={class:"text-grey mt-1"},V={class:"path-mapping-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},M=["title"],S={class:"text-caption",style:{"line-height":"1.2"}},$=["title"],T={class:"text-caption",style:{"line-height":"1.2"}},U={key:1,class:"text-caption text-error mt-1"},E={class:"path-mapping-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},I=["title"],R={class:"text-caption",style:{"line-height":"1.2"}},L=["title"],A={class:"text-caption",style:{"line-height":"1.2"}},F={key:1,class:"text-caption text-error mt-1"},B={class:"path-mapping-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},j=["title"],O={class:"text-caption",style:{"line-height":"1.2"}},H=["title"],N={class:"text-caption",style:{"line-height":"1.2"}},D={key:1,class:"text-caption text-error mt-1"},W={class:"path-mapping-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},q=["title"],J={class:"text-caption",style:{"line-height":"1.2"}},K=["title"],G={class:"text-caption",style:{"line-height":"1.2"}},Z={key:1,class:"text-caption text-error mt-1"},Q={class:"path-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},X={class:"d-flex align-center"},Y=["title"],ee={class:"text-caption",style:{"line-height":"1.2"}},le={key:1,class:"text-caption text-error mt-1"},ae={class:"path-group-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},te=["title"],ie={class:"text-caption",style:{"line-height":"1.2"}},se=["title"],ne={class:"text-caption",style:{"line-height":"1.2"}},re={key:0,class:"mt-1 pt-1",style:{"border-top":"1px dashed rgba(var(--v-border-color), 0.2)"}},oe={key:0,class:"d-flex align-center"},ce=["title"],de={class:"text-caption",style:{"line-height":"1.2"}},ue={key:1,class:"text-caption text-error mt-1"},me={class:"d-flex"},pe={class:"text-body-2"},fe={class:"d-flex"},ge={class:"text-body-2"},_e={class:"d-flex align-center",style:{gap:"4px"}},ye={class:"d-flex flex-column"},he={key:0,class:"mb-1"},ve={key:1,class:"text-grey"},xe={class:"d-flex flex-wrap ga-2 mt-1"},be={key:0},ke={key:1},we={class:"d-flex align-center"},Ce={class:"d-flex align-center"},ze={key:0},Pe={class:"d-flex align-center"},Ve={class:"d-flex align-center"},Me={class:"d-flex align-center"},Se={class:"pa-3"},$e={class:"d-flex justify-end mt-3"},Te={class:"d-flex align-center"},Ue={class:"text-no-wrap text-caption font-weight-medium",style:{"min-width":"40px","text-align":"right"}},Ee={key:0,class:"d-flex justify-center my-3"},Ie={key:1},Re={key:1,class:"text-center py-8"},Le={class:"d-flex flex-wrap align-center gap-1 mt-1"},Ae={key:0,class:"text-grey"},Fe={key:1,class:"text-grey"},Be={key:2,class:"text-grey"},je={key:0,class:"text-grey mt-1",style:{"word-break":"break-all"}},Oe={class:"text-grey mt-1"},{ref:He,reactive:Ne,computed:De,onMounted:We,onBeforeUnmount:qe,watch:Je}=await e("vue"),Ke="p115strmhelper_offline_paths_cache",Ge=l({__name:"Page",props:{api:{type:[Object,Function],required:!0},initialConfig:{type:Object,default:()=>({})}},emits:["close","switch","update:config","action"],setup(e,{emit:l}){const Ge=e,Ze=l,Qe=e=>{if(!e||"string"!=typeof e)return 0;const l=e.trim().match(/^(\d*\.?\d+)\s*(k|m|g|t)?b?$/i);if(!l)return 0;const a=parseFloat(l[1]);switch((l[2]||"").toLowerCase()){case"t":return Math.round(1024*a*1024*1024*1024);case"g":return Math.round(1024*a*1024*1024);case"m":return Math.round(1024*a*1024);case"k":return Math.round(1024*a);default:return Math.round(a)}},Xe=(e,l=2)=>{if(!+e)return"";const a=l<0?0:l,t=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,t)).toFixed(a))} ${["B","K","M","G","T"][t]}`},Ye=He(!0),el=He(!1),ll=He(!1),al=He(!1),tl=He(!1),il=He(!1),sl=He(!1),nl=He(null),rl=He(null),ol=He("info"),cl=He(!1),dl=He(!1),ul=He(!1),ml=He([]),pl=He(!1),fl=He(null);let gl=null;const _l=De(()=>ml.value.slice(0,6)),yl=Ne({show:!1}),hl=Ne({enabled:!1,has_client:!1,running:!1}),vl=Ne({name:null,is_vip:null,is_forever_vip:null,vip_expire_date:null,avatar:null,error:null,loading:!0}),xl=Ne({total:null,used:null,remaining:null,error:null,loading:!0}),bl=()=>{try{const e=localStorage.getItem(Ke);if(e){const l=JSON.parse(e);return Array.isArray(l)?l.filter(e=>e&&"string"==typeof e):[]}}catch(e){console.error("è¯»å–è·¯å¾„ç¼“å­˜å¤±è´¥:",e)}return[]},kl=Ne({show:!1,activeTab:"add",loading:!1,adding:!1,error:null,addError:null,tasks:[],totalTasks:0,itemsPerPage:10,headers:[{title:"æ–‡ä»¶å",key:"name",align:"start",sortable:!1,minWidth:"200px"},{title:"å¤§å°",key:"size_text",align:"end",sortable:!1,cellProps:{class:"text-no-wrap"},minWidth:"80px"},{title:"çŠ¶æ€",key:"status_text",align:"center",sortable:!1,minWidth:"80px"},{title:"è¿›åº¦",key:"progress",align:"start",sortable:!1,minWidth:"120px"}],links:"",destPath:"",availablePaths:[],availablePathStrings:[]}),wl=(e,l)=>{if(!e||!l)return 0;const a=e=>{if(!e||"string"!=typeof e)return 0;const l=parseFloat(e);return isNaN(l)?0:e.toUpperCase().includes("TB")?1024*l*1024:e.toUpperCase().includes("GB")?1024*l:(e.toUpperCase().includes("MB"),l)},t=a(e),i=a(l);return 0===i?0:Math.min(Math.max(t/i*100,0),100)},Cl=De(()=>{if(!Ge.initialConfig)return!1;if(!(Ge.initialConfig.enabled&&Ge.initialConfig.cookies&&Ge.initialConfig.moviepilot_address))return!1;const e=zl(Ge.initialConfig.transfer_monitor_paths)>0&&Ge.initialConfig.transfer_monitor_enabled,l=zl(Ge.initialConfig.full_sync_strm_paths)>0&&Ge.initialConfig.timing_full_sync_strm,a=zl(Ge.initialConfig.increment_sync_strm_paths)>0&&Ge.initialConfig.increment_sync_strm_enabled,t=zl(Ge.initialConfig.monitor_life_paths)>0&&Ge.initialConfig.monitor_life_enabled,i=Array.isArray(Ge.initialConfig.share_strm_config)&&Ge.initialConfig.share_strm_config.length>0;return e||l||a||t||i}),zl=e=>{if(!e)return 0;try{return e.split("\n").filter(e=>e.trim()&&e.includes("#")).length}catch(l){return console.error("è§£æžè·¯å¾„å­—ç¬¦ä¸²å¤±è´¥:",l),0}},Pl=e=>{if(!e)return 0;try{return e.split("\n").filter(e=>e.trim()).length}catch(l){return console.error("è§£æžç½‘ç›˜æ•´ç†è·¯å¾„å­—ç¬¦ä¸²å¤±è´¥:",l),0}},Vl=async()=>{Ye.value=!0,nl.value=null;try{const l="P115StrmHelper",a=await Ge.api.get(`plugin/${l}/get_status`);if(!a||0!==a.code||!a.data){if(Ge.initialConfig){if(hl.enabled=Boolean(Ge.initialConfig.enabled),hl.has_client=Boolean(Ge.initialConfig.cookies&&""!==Ge.initialConfig.cookies.trim()),hl.running=!1,sl.value=!0,Object.keys(Ge.initialConfig).length<=1)try{const e=await Ge.api.get(`plugin/${l}/get_config`);e&&(Object.assign(Ge.initialConfig,e),console.log("ä»Žé…ç½®APIèŽ·å–é…ç½®:",Ge.initialConfig))}catch(e){console.error("èŽ·å–é…ç½®å¤±è´¥:",e)}throw new Error("çŠ¶æ€APIè°ƒç”¨å¤±è´¥ï¼Œä½¿ç”¨é…ç½®æ•°æ®æ˜¾ç¤ºçŠ¶æ€")}throw new Error(a?.msg||"èŽ·å–çŠ¶æ€å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿žæŽ¥")}hl.enabled=Boolean(a.data.enabled),hl.has_client=Boolean(a.data.has_client),hl.running=Boolean(a.data.running);try{const e=await Ge.api.get(`plugin/${l}/get_config`);e&&(Object.assign(Ge.initialConfig,e),console.log("å·²èŽ·å–æœ€æ–°é…ç½®:",Ge.initialConfig))}catch(e){console.error("èŽ·å–é…ç½®å¤±è´¥:",e)}sl.value=!0}catch(l){l.message.includes("ä½¿ç”¨é…ç½®æ•°æ®æ˜¾ç¤ºçŠ¶æ€")||(nl.value=`èŽ·å–çŠ¶æ€å¤±è´¥: ${l.message||"æœªçŸ¥é”™è¯¯"}`),console.error("èŽ·å–çŠ¶æ€å¤±è´¥:",l)}finally{Ye.value=!1}},Ml=async()=>{el.value=!0,await Vl(),hl.has_client&&Ge.initialConfig?.cookies?await ca():(vl.loading=!1,xl.loading=!1,Ge.initialConfig?.cookies?hl.has_client||(vl.error="115å®¢æˆ·ç«¯æœªè¿žæŽ¥æˆ–Cookieæ— æ•ˆã€‚",xl.error="115å®¢æˆ·ç«¯æœªè¿žæŽ¥æˆ–Cookieæ— æ•ˆã€‚"):(vl.error="è¯·å…ˆé…ç½®115 Cookieã€‚",xl.error="è¯·å…ˆé…ç½®115 Cookieã€‚")),el.value=!1,rl.value="çŠ¶æ€å·²åˆ·æ–°",ol.value="success",setTimeout(()=>{rl.value=null},3e3)},Sl=async()=>{dl.value=!1,await Tl()},$l=async()=>{ul.value=!1,await Ul()},Tl=async()=>{ll.value=!0,cl.value=!0,nl.value=null,rl.value=null;try{if(!hl.enabled)throw new Error("æ’ä»¶æœªå¯ç”¨ï¼Œè¯·å…ˆåœ¨é…ç½®é¡µé¢å¯ç”¨æ’ä»¶");if(!hl.has_client)throw new Error("æ’ä»¶æœªé…ç½®Cookieæˆ–Cookieæ— æ•ˆï¼Œè¯·å…ˆåœ¨é…ç½®é¡µé¢è®¾ç½®115 Cookie");if(0===zl(Ge.initialConfig?.full_sync_strm_paths))throw new Error("æœªé…ç½®å…¨é‡åŒæ­¥è·¯å¾„ï¼Œè¯·å…ˆåœ¨é…ç½®é¡µé¢è®¾ç½®åŒæ­¥è·¯å¾„");const e="P115StrmHelper",l=await Ge.api.post(`plugin/${e}/full_sync`);if(!l||0!==l.code)throw new Error(l?.msg||"å¯åŠ¨å…¨é‡åŒæ­¥å¤±è´¥");rl.value=l.msg||"å…¨é‡åŒæ­¥ä»»åŠ¡å·²å¯åŠ¨",ol.value="success",await Vl()}catch(e){nl.value=`å¯åŠ¨å…¨é‡åŒæ­¥å¤±è´¥: ${e.message||"æœªçŸ¥é”™è¯¯"}`,console.error("å¯åŠ¨å…¨é‡åŒæ­¥å¤±è´¥:",e)}finally{ll.value=!1,cl.value=!1}},Ul=async()=>{al.value=!0,cl.value=!0,nl.value=null,rl.value=null;try{if(!hl.enabled)throw new Error("æ’ä»¶æœªå¯ç”¨ï¼Œè¯·å…ˆåœ¨é…ç½®é¡µé¢å¯ç”¨æ’ä»¶");if(!hl.has_client)throw new Error("æ’ä»¶æœªé…ç½®Cookieæˆ–Cookieæ— æ•ˆï¼Œè¯·å…ˆåœ¨é…ç½®é¡µé¢è®¾ç½®115 Cookie");const e="P115StrmHelper",l=await Ge.api.post(`plugin/${e}/full_sync_db`);if(!l||0!==l.code)throw new Error(l?.msg||"å¯åŠ¨å…¨é‡åŒæ­¥æ•°æ®åº“å¤±è´¥");rl.value=l.msg||"å…¨é‡åŒæ­¥æ•°æ®åº“ä»»åŠ¡å·²å¯åŠ¨",ol.value="success",await Vl()}catch(e){nl.value=`å¯åŠ¨å…¨é‡åŒæ­¥æ•°æ®åº“å¤±è´¥: ${e.message||"æœªçŸ¥é”™è¯¯"}`,console.error("å¯åŠ¨å…¨é‡åŒæ­¥æ•°æ®åº“å¤±è´¥:",e)}finally{al.value=!1,cl.value=!1}},El=Ne({show:!1,error:null,configs:[],globalMediaservers:[],globalMpMediaserverPaths:""}),Il=Ne({show:!1,error:null,editingIndex:-1,shareLink:"",shareCode:"",shareReceive:"",sharePath:"/",localPath:"",minFileSizeFormatted:"",moviepilotTransfer:!1,autoDownloadMediainfo:!1,mediaServerRefresh:!1,scrapeMetadata:!1}),Rl=He([]),Ll=De(()=>El.configs.length>0&&El.configs.every(e=>!!e.local_path&&(!(!e.share_link&&!e.share_code)&&!(e.share_code&&!e.share_receive)))),Al=De(()=>!!Il.localPath&&(!(!Il.shareLink&&!Il.shareCode)&&!(Il.shareCode&&!Il.shareReceive))),Fl=Ne({show:!1,isLocal:!0,loading:!1,error:null,currentPath:"/",items:[],selectedPath:"",callback:null}),Bl=()=>{El.show=!0,El.error=null,Ge.initialConfig&&(El.configs=Array.isArray(Ge.initialConfig.share_strm_config)?JSON.parse(JSON.stringify(Ge.initialConfig.share_strm_config)):[],El.globalMediaservers=Array.isArray(Ge.initialConfig.share_strm_mediaservers)?[...Ge.initialConfig.share_strm_mediaservers]:[],El.globalMpMediaserverPaths=Ge.initialConfig.share_strm_mp_mediaserver_paths||"")},jl=()=>{El.show=!1,El.configs=[],El.error=null},Ol=()=>{Il.editingIndex=-1,Il.shareLink="",Il.shareCode="",Il.shareReceive="",Il.sharePath="/",Il.localPath="",Il.minFileSizeFormatted="",Il.moviepilotTransfer=!1,Il.autoDownloadMediainfo=!1,Il.mediaServerRefresh=!1,Il.scrapeMetadata=!1,Il.error=null,Il.show=!0},Hl=()=>{0!==El.configs.length&&confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰åˆ†äº«é…ç½®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚")&&(El.configs=[])},Nl=async()=>{il.value=!0,El.error=null;try{const e="P115StrmHelper";if(!Ge.initialConfig)throw new Error("é…ç½®å¯¹è±¡ä¸å­˜åœ¨");{Ge.initialConfig.share_strm_config=El.configs,Ge.initialConfig.share_strm_mediaservers=El.globalMediaservers.length>0?[...El.globalMediaservers]:null,Ge.initialConfig.share_strm_mp_mediaserver_paths=El.globalMpMediaserverPaths||null;const l=await Ge.api.post(`plugin/${e}/save_config`,Ge.initialConfig);if(!l||0!==l.code)throw new Error(l?.msg||"ä¿å­˜é…ç½®å¤±è´¥");rl.value="åˆ†äº«é…ç½®å·²ä¿å­˜",ol.value="success",await Vl(),jl()}}catch(e){El.error=`ä¿å­˜é…ç½®å¤±è´¥: ${e.message||"æœªçŸ¥é”™è¯¯"}`,console.error("ä¿å­˜é…ç½®å¤±è´¥:",e)}finally{il.value=!1}},Dl=()=>{Il.show=!1,Il.editingIndex=-1,Il.error=null},Wl=()=>{if(Il.error=null,!Al.value)return void(Il.error="è¯·å¡«å†™å¿…å¡«é¡¹");const e={share_link:Il.shareLink||null,share_code:Il.shareCode||null,share_receive:Il.shareReceive||null,share_path:Il.sharePath||null,local_path:Il.localPath,min_file_size:Qe(Il.minFileSizeFormatted)||null,moviepilot_transfer:Il.moviepilotTransfer,auto_download_mediainfo:!Il.moviepilotTransfer&&Il.autoDownloadMediainfo,media_server_refresh:!Il.moviepilotTransfer&&Il.mediaServerRefresh,scrape_metadata:!Il.moviepilotTransfer&&Il.scrapeMetadata};Il.editingIndex>=0?El.configs[Il.editingIndex]=e:El.configs.push(e),Dl()},ql=async()=>{Fl.loading=!0,Fl.error=null,Fl.items=[];try{if(Fl.isLocal)try{const e=await Ge.api.post("storage/list",{path:Fl.currentPath||"/",type:"share",flag:"ROOT"});if(!e||!Array.isArray(e))throw new Error("æµè§ˆç›®å½•å¤±è´¥ï¼šæ— æ•ˆå“åº”");Fl.items=e.filter(e=>"dir"===e.type).map(e=>({name:e.name,path:e.path,is_dir:!0})).sort((e,l)=>e.name.localeCompare(l.name,void 0,{numeric:!0,sensitivity:"base"}))}catch(nl){console.error("æµè§ˆæœ¬åœ°ç›®å½•å¤±è´¥:",nl),Fl.error=`æµè§ˆæœ¬åœ°ç›®å½•å¤±è´¥: ${nl.message||"æœªçŸ¥é”™è¯¯"}`,Fl.items=[]}else{const e="P115StrmHelper";if(!Ge.initialConfig?.cookies||""===Ge.initialConfig?.cookies.trim())throw new Error("è¯·å…ˆè®¾ç½®115 Cookieæ‰èƒ½æµè§ˆç½‘ç›˜ç›®å½•");const l=await Ge.api.get(`plugin/${e}/browse_dir?path=${encodeURIComponent(Fl.currentPath)}&is_local=${Fl.isLocal}`);if(!l||0!==l.code||!l.data)throw new Error(l?.msg||"èŽ·å–ç½‘ç›˜ç›®å½•å†…å®¹å¤±è´¥");Fl.items=l.data.items.filter(e=>e.is_dir),Fl.currentPath=l.data.path||Fl.currentPath}}catch(nl){console.error("åŠ è½½ç›®å½•å†…å®¹å¤±è´¥:",nl),Fl.error=nl.message||"èŽ·å–ç›®å½•å†…å®¹å¤±è´¥",(nl.message.includes("Cookie")||nl.message.includes("cookie"))&&(Fl.items=[])}finally{Fl.loading=!1}},Jl=()=>{const e=Fl.currentPath;if(!Fl.isLocal){if("/"===e)return;let l=e.replace(/\\/g,"/");l.length>1&&l.endsWith("/")&&(l=l.slice(0,-1));const a=l.substring(0,l.lastIndexOf("/"));return Fl.currentPath=""===a?"/":a,void ql()}if("/"===e||"C:\\"===e||"C:/"===e)return;const l=e.replace(/\\/g,"/"),a=l.split("/").filter(Boolean);0===a.length?Fl.currentPath="/":1===a.length&&l.includes(":")?Fl.currentPath=a[0]+":/":(a.pop(),Fl.currentPath=0===a.length?"/":(l.startsWith("/")?"/":"")+a.join("/")+"/"),ql()},Kl=()=>{if(!Fl.currentPath)return;let e=Fl.currentPath;"/"===e||/^[a-zA-Z]:[\\\/]$/.test(e)||!e.endsWith("/")&&!e.endsWith("\\\\")||(e=e.slice(0,-1)),"function"==typeof Fl.callback&&Fl.callback(e),Gl()},Gl=()=>{Fl.show=!1,Fl.items=[],Fl.error=null},Zl=async()=>{tl.value=!0,El.error=null;try{if(0===El.configs.length)throw new Error("è¯·è‡³å°‘æ·»åŠ ä¸€ä¸ªåˆ†äº«é…ç½®");const e="P115StrmHelper";Ge.initialConfig&&(Ge.initialConfig.share_strm_config=El.configs,Ge.initialConfig.share_strm_mediaservers=El.globalMediaservers.length>0?[...El.globalMediaservers]:null,Ge.initialConfig.share_strm_mp_mediaserver_paths=El.globalMpMediaserverPaths||null,await Ge.api.post(`plugin/${e}/save_config`,Ge.initialConfig));const l=await Ge.api.post(`plugin/${e}/share_sync`);if(!l||0!==l.code)throw new Error(l?.msg||"å¯åŠ¨åˆ†äº«åŒæ­¥å¤±è´¥");rl.value=l.msg||"åˆ†äº«åŒæ­¥ä»»åŠ¡å·²å¯åŠ¨",ol.value="success",await Vl(),jl()}catch(e){El.error=`å¯åŠ¨åˆ†äº«åŒæ­¥å¤±è´¥: ${e.message||"æœªçŸ¥é”™è¯¯"}`,console.error("å¯åŠ¨åˆ†äº«åŒæ­¥å¤±è´¥:",e)}finally{tl.value=!1}},Ql=()=>{const e=[],l=new Set;bl().forEach(a=>{a&&!l.has(a)&&(e.push({label:`ðŸ“ ${a}`,path:a,type:"cached"}),l.add(a))}),Ge.initialConfig?.offline_download_paths&&Array.isArray(Ge.initialConfig.offline_download_paths)&&Ge.initialConfig.offline_download_paths.forEach(a=>{a&&"string"==typeof a&&a.trim()&&!l.has(a.trim())&&(e.push({label:`âš™ï¸ ${a.trim()}`,path:a.trim(),type:"config"}),l.add(a.trim()))}),kl.availablePaths=e,kl.availablePathStrings=e.map(e=>e.path)},Xl=e=>{if(!e)return"";const l=kl.availablePaths.find(l=>l.path===e);return l?l.label:e},Yl=()=>{kl.show=!0,kl.activeTab="add",kl.error=null,kl.addError=null,Ql()},ea=()=>{kl.show=!1,kl.tasks=[],kl.totalTasks=0,kl.links="",kl.destPath=""},la=async({page:e,itemsPerPage:l})=>{kl.loading=!0,kl.error=null;try{const a="P115StrmHelper",t=await Ge.api.post(`plugin/${a}/offline_tasks`,{page:e,limit:l});if(!t||0!==t.code||!t.data)throw new Error(t?.msg||"èŽ·å–ç¦»çº¿ä»»åŠ¡åˆ—è¡¨å¤±è´¥");kl.tasks=t.data.tasks||[],kl.totalTasks=t.data.total||0}catch(a){kl.error=`èŽ·å–ä»»åŠ¡å¤±è´¥: ${a.message||"æœªçŸ¥é”™è¯¯"}`,console.error("èŽ·å–ç¦»çº¿ä»»åŠ¡å¤±è´¥:",a),kl.tasks=[],kl.totalTasks=0}finally{kl.loading=!1}},aa=async()=>{if(kl.links.trim()){kl.adding=!0,kl.addError=null;try{const e="P115StrmHelper",l=kl.links.split("\n").map(e=>e.trim()).filter(Boolean),a=await Ge.api.post(`plugin/${e}/add_offline_task`,{links:l,path:kl.destPath||null});if(!a||0!==a.code)throw new Error(a?.msg||"æ·»åŠ ç¦»çº¿ä»»åŠ¡å¤±è´¥");rl.value=a.msg||"ç¦»çº¿ä»»åŠ¡æ·»åŠ æˆåŠŸ",ol.value="success",kl.destPath&&kl.destPath.trim()&&((e=>{if(!e||!e.trim())return;const l=e.trim();let a=bl();a=a.filter(e=>e!==l),a.unshift(l),a=a.slice(0,20);try{localStorage.setItem(Ke,JSON.stringify(a))}catch(t){console.error("ä¿å­˜è·¯å¾„ç¼“å­˜å¤±è´¥:",t)}})(kl.destPath),Ql()),kl.links="",kl.destPath="",kl.activeTab="tasks",la({page:1,itemsPerPage:kl.itemsPerPage})}catch(e){kl.addError=`æ·»åŠ ä»»åŠ¡å¤±è´¥: ${e.message||"æœªçŸ¥é”™è¯¯"}`,console.error("æ·»åŠ ç¦»çº¿ä»»åŠ¡å¤±è´¥:",e)}finally{kl.adding=!1}}else kl.addError="ä¸‹è½½é“¾æŽ¥ä¸èƒ½ä¸ºç©ºã€‚"},ta=()=>{Fl.show=!0,Fl.isLocal=!1,Fl.loading=!1,Fl.error=null,Fl.items=[],Fl.currentPath=kl.destPath||"/",Fl.callback=e=>{kl.destPath=e},ql()},ia=e=>{switch(e){case 0:return"info";case 1:return"error";case 2:return"success";case 3:return"warning";default:return"grey"}},sa=e=>{if(!e)return[];try{return e.split("\n").filter(e=>e.trim()&&e.includes("#")).map(e=>{const l=e.split("#");return{local:l[0]||"",remote:l[1]||""}})}catch(l){return console.error("è§£æžè·¯å¾„å­—ç¬¦ä¸²å¤±è´¥:",l),[]}},na=e=>{if(!e)return[];try{return e.split("\n").filter(e=>e.trim()).map(e=>({path:e}))}catch(l){return console.error("è§£æžç½‘ç›˜æ•´ç†è·¯å¾„å­—ç¬¦ä¸²å¤±è´¥:",l),[]}};Je(()=>Ge.initialConfig,e=>{e&&(hl.enabled=e.enabled||!1,hl.has_client=Boolean(e.cookies&&""!==e.cookies.trim()),e.sync_del_enabled?(ra(),gl&&clearInterval(gl),gl=setInterval(()=>{Ge.initialConfig?.sync_del_enabled&&ra()},3e4)):(ml.value=[],gl&&(clearInterval(gl),gl=null)))},{immediate:!0});const ra=async()=>{if(Ge.initialConfig?.sync_del_enabled){pl.value=!0;try{const e="P115StrmHelper",l=await Ge.api.get(`plugin/${e}/get_sync_del_history`);l&&l.success&&l.data?ml.value=Array.isArray(l.data)?l.data.sort((e,l)=>{const a=new Date(e.del_time||0).getTime();return new Date(l.del_time||0).getTime()-a}):[]:ml.value=[]}catch(e){console.error("åŠ è½½åŒæ­¥åˆ é™¤åŽ†å²å¤±è´¥:",e),ml.value=[]}finally{pl.value=!1}}else ml.value=[]},oa=async e=>{if(e){fl.value=e;try{const l="P115StrmHelper",a=await Ge.api.get("system/config?key=app.api_token"),t=a?.value||"",i=await Ge.api.get(`plugin/${l}/delete_sync_del_history?key=${encodeURIComponent(e)}&apikey=${encodeURIComponent(t)}`);i&&i.success?(rl.value="åˆ é™¤æˆåŠŸ",ol.value="success",await ra()):(rl.value=i?.message||"åˆ é™¤å¤±è´¥",ol.value="error")}catch(l){console.error("åˆ é™¤åŒæ­¥åˆ é™¤åŽ†å²å¤±è´¥:",l),rl.value=`åˆ é™¤å¤±è´¥: ${l.message||"æœªçŸ¥é”™è¯¯"}`,ol.value="error"}finally{fl.value=null}}};async function ca(){vl.loading=!0,vl.error=null,xl.loading=!0,xl.error=null;try{const e="P115StrmHelper",l=await Ge.api.get(`plugin/${e}/user_storage_status`);if(l&&l.success)l.user_info?Object.assign(vl,l.user_info):vl.error="æœªèƒ½èŽ·å–æœ‰æ•ˆçš„ç”¨æˆ·ä¿¡æ¯ã€‚",l.storage_info?Object.assign(xl,l.storage_info):xl.error="æœªèƒ½èŽ·å–æœ‰æ•ˆçš„å­˜å‚¨ç©ºé—´ä¿¡æ¯ã€‚";else{const e=l?.error_message||"èŽ·å–ç”¨æˆ·å’Œå­˜å‚¨ä¿¡æ¯å¤±è´¥ã€‚";vl.error=e,xl.error=e,(e.includes("Cookie")||e.includes("æœªé…ç½®"))&&(hl.has_client=!1)}}catch(e){console.error("èŽ·å–ç”¨æˆ·/å­˜å‚¨çŠ¶æ€å¤±è´¥:",e);const l=`è¯·æ±‚ç”¨æˆ·/å­˜å‚¨çŠ¶æ€æ—¶å‡ºé”™: ${e.message||"æœªçŸ¥ç½‘ç»œé”™è¯¯"}`;vl.error=l,xl.error=l}finally{vl.loading=!1,xl.loading=!1}}return We(async()=>{await Vl(),hl.has_client&&Ge.initialConfig?.cookies?await ca():(vl.loading=!1,xl.loading=!1,Ge.initialConfig?.cookies?hl.has_client||(vl.error="115å®¢æˆ·ç«¯æœªè¿žæŽ¥æˆ–Cookieæ— æ•ˆã€‚",xl.error="115å®¢æˆ·ç«¯æœªè¿žæŽ¥æˆ–Cookieæ— æ•ˆã€‚"):(vl.error="è¯·å…ˆé…ç½®115 Cookieã€‚",xl.error="è¯·å…ˆé…ç½®115 Cookieã€‚"));try{const e="P115StrmHelper",l=await Ge.api.get(`plugin/${e}/get_config`);l&&l.mediaservers&&(Rl.value=l.mediaservers)}catch(e){console.error("åŠ è½½åª’ä½“æœåŠ¡å™¨åˆ—è¡¨å¤±è´¥:",e)}Ge.initialConfig?.sync_del_enabled&&(await ra(),gl=setInterval(()=>{Ge.initialConfig?.sync_del_enabled&&ra()},3e4))}),qe(()=>{gl&&(clearInterval(gl),gl=null)}),(l,He)=>{const Ne=a("v-icon"),De=a("v-card-title"),We=a("v-alert"),qe=a("v-skeleton-loader"),Je=a("v-list-item-title"),Ke=a("v-chip"),Ge=a("v-list-item"),Qe=a("v-divider"),gl=a("v-list"),bl=a("v-card-text"),Vl=a("v-card"),Tl=a("v-img"),Ul=a("v-avatar"),Ql=a("v-list-item-subtitle"),ca=a("v-progress-linear"),da=a("v-spacer"),ua=a("v-btn"),ma=a("v-col"),pa=a("v-row"),fa=a("v-menu"),ga=a("v-card-actions"),_a=a("v-select"),ya=a("v-textarea"),ha=a("v-tooltip"),va=a("v-dialog"),xa=a("v-text-field"),ba=a("v-switch"),ka=a("v-expand-transition"),wa=a("v-tab"),Ca=a("v-tabs"),za=a("v-combobox"),Pa=a("v-window-item"),Va=a("v-data-table-server"),Ma=a("v-window"),Sa=a("v-progress-circular");return o(),u(p,null,[i("div",h,[t(Vl,{flat:"",class:"rounded border",style:{display:"flex","flex-direction":"column","max-height":"85vh"}},{default:s(()=>[t(De,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(Ne,{icon:"mdi-file-link",class:"mr-2",color:"primary",size:"small"}),He[41]||(He[41]=i("span",null,"115ç½‘ç›˜STRMåŠ©æ‰‹",-1))]),_:1}),t(bl,{class:"px-3 py-1",style:{"flex-grow":"1","overflow-y":"auto","padding-bottom":"48px"}},{default:s(()=>[nl.value?(o(),c(We,{key:0,type:"error",density:"compact",class:"mb-2",variant:"tonal",closable:""},{default:s(()=>[r(n(nl.value),1)]),_:1})):d("",!0),rl.value?(o(),c(We,{key:1,type:ol.value,density:"compact",class:"mb-2",variant:"tonal",closable:""},{default:s(()=>[r(n(rl.value),1)]),_:1},8,["type"])):d("",!0),Ye.value&&!sl.value?(o(),c(qe,{key:2,type:"article, actions"})):d("",!0),sl.value?(o(),u("div",v,[t(pa,null,{default:s(()=>[t(ma,{cols:"12",md:"6"},{default:s(()=>[t(Vl,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(De,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(Ne,{icon:"mdi-information",class:"mr-2",color:"primary",size:"small"}),He[42]||(He[42]=i("span",null,"ç³»ç»ŸçŠ¶æ€",-1))]),_:1}),t(bl,{class:"pa-0"},{default:s(()=>[t(gl,{class:"bg-transparent pa-0"},{default:s(()=>[t(Ge,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ne,{color:hl.enabled?"success":"grey",icon:"mdi-power",size:"small"},null,8,["color"])]),append:s(()=>[t(Ke,{color:hl.enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(hl.enabled?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)]),_:1},8,["color"])]),default:s(()=>[t(Je,{class:"text-body-2"},{default:s(()=>He[43]||(He[43]=[r("æ’ä»¶çŠ¶æ€")])),_:1})]),_:1}),t(Qe,{class:"my-0"}),t(Ge,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ne,{color:hl.has_client&&e.initialConfig?.cookies?"success":"error",icon:"mdi-account-check",size:"small"},null,8,["color"])]),append:s(()=>[t(Ke,{color:hl.has_client&&e.initialConfig?.cookies?"success":"error",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(hl.has_client&&e.initialConfig?.cookies?"å·²è¿žæŽ¥":"æœªè¿žæŽ¥"),1)]),_:1},8,["color"])]),default:s(()=>[t(Je,{class:"text-body-2"},{default:s(()=>He[44]||(He[44]=[r("115å®¢æˆ·ç«¯çŠ¶æ€")])),_:1})]),_:1}),t(Qe,{class:"my-0"}),t(Ge,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ne,{color:hl.running?"warning":"success",icon:"mdi-play-circle",size:"small"},null,8,["color"])]),append:s(()=>[t(Ke,{color:hl.running?"warning":"success",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(hl.running?"è¿è¡Œä¸­":"ç©ºé—²"),1)]),_:1},8,["color"])]),default:s(()=>[t(Je,{class:"text-body-2"},{default:s(()=>He[45]||(He[45]=[r("ä»»åŠ¡çŠ¶æ€")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(Vl,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(De,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(Ne,{icon:"mdi-account-box",class:"mr-2",color:"primary",size:"small"}),He[46]||(He[46]=i("span",null,"115è´¦æˆ·ä¿¡æ¯",-1))]),_:1}),t(bl,{class:"pa-0"},{default:s(()=>[vl.loading||xl.loading?(o(),c(qe,{key:0,type:"list-item-avatar-three-line, list-item-three-line"})):(o(),u("div",x,[vl.error||xl.error?(o(),c(We,{key:0,type:"warning",density:"compact",class:"ma-2",variant:"tonal"},{default:s(()=>[r(n(vl.error||xl.error),1)]),_:1})):(o(),c(gl,{key:1,class:"bg-transparent pa-0"},{default:s(()=>[t(Ge,{class:"px-3 py-1"},{prepend:s(()=>[t(Ul,{size:"32",class:"mr-2"},{default:s(()=>[vl.avatar?(o(),c(Tl,{key:0,src:vl.avatar,alt:vl.name},null,8,["src","alt"])):(o(),c(Ne,{key:1,icon:"mdi-account-circle"}))]),_:1})]),default:s(()=>[t(Je,{class:"text-body-1 font-weight-medium"},{default:s(()=>[r(n(vl.name||"æœªçŸ¥ç”¨æˆ·"),1)]),_:1})]),_:1}),t(Qe,{class:"my-0"}),t(Ge,{class:"px-3 py-1"},{prepend:s(()=>[t(Ne,{color:vl.is_vip?"amber-darken-2":"grey",icon:"mdi-shield-crown",size:"small"},null,8,["color"])]),append:s(()=>[t(Ke,{color:vl.is_vip?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(vl.is_vip?vl.is_forever_vip?"æ°¸ä¹…VIP":`VIP (è‡³ ${vl.vip_expire_date||"N/A"})`:"éžVIP"),1)]),_:1},8,["color"])]),default:s(()=>[t(Je,{class:"text-body-2"},{default:s(()=>He[47]||(He[47]=[r("VIPçŠ¶æ€")])),_:1})]),_:1}),t(Qe,{class:"my-0"}),t(Ge,{class:"px-3 py-1"},{default:s(()=>[t(Je,{class:"text-body-2 mb-1"},{default:s(()=>He[48]||(He[48]=[r("å­˜å‚¨ç©ºé—´")])),_:1}),xl.used&&xl.total?(o(),c(Ql,{key:0,class:"text-caption"},{default:s(()=>[r(" å·²ç”¨ "+n(xl.used)+" / æ€»å…± "+n(xl.total)+" (å‰©ä½™ "+n(xl.remaining)+") ",1)]),_:1})):d("",!0),xl.used&&xl.total?(o(),c(ca,{key:1,"model-value":wl(xl.used,xl.total),color:"primary",height:"6",rounded:"",class:"mt-1"},null,8,["model-value"])):(o(),c(Ql,{key:2,class:"text-caption text-grey"},{default:s(()=>He[49]||(He[49]=[r(" å­˜å‚¨ä¿¡æ¯ä¸å¯ç”¨ ")])),_:1}))]),_:1})]),_:1}))]))]),_:1})]),_:1}),t(Vl,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(De,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(Ne,{icon:"mdi-puzzle",class:"mr-2",color:"primary",size:"small"}),He[50]||(He[50]=i("span",null,"åŠŸèƒ½é…ç½®",-1))]),_:1}),t(bl,{class:"pa-0"},{default:s(()=>[t(gl,{class:"bg-transparent pa-0"},{default:s(()=>[t(Ge,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ne,{color:e.initialConfig?.transfer_monitor_enabled?"success":"grey",icon:"mdi-file-move",size:"small"},null,8,["color"])]),append:s(()=>[t(Ke,{color:e.initialConfig?.transfer_monitor_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.transfer_monitor_enabled?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)]),_:1},8,["color"])]),default:s(()=>[t(Je,{class:"text-body-2"},{default:s(()=>He[51]||(He[51]=[r("ç›‘æŽ§MPæ•´ç†")])),_:1})]),_:1}),t(Qe,{class:"my-0"}),t(Ge,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ne,{color:e.initialConfig?.timing_full_sync_strm?"success":"grey",icon:"mdi-sync",size:"small"},null,8,["color"])]),append:s(()=>[t(Ke,{color:e.initialConfig?.timing_full_sync_strm?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.timing_full_sync_strm?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)]),_:1},8,["color"])]),default:s(()=>[t(Je,{class:"text-body-2"},{default:s(()=>He[52]||(He[52]=[r("å®šæœŸå…¨é‡åŒæ­¥")])),_:1})]),_:1}),t(Qe,{class:"my-0"}),t(Ge,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ne,{color:e.initialConfig?.increment_sync_strm_enabled?"success":"grey",icon:"mdi-book-sync",size:"small"},null,8,["color"])]),append:s(()=>[t(Ke,{color:e.initialConfig?.increment_sync_strm_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.increment_sync_strm_enabled?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)]),_:1},8,["color"])]),default:s(()=>[t(Je,{class:"text-body-2"},{default:s(()=>He[53]||(He[53]=[r("å®šæœŸå¢žé‡åŒæ­¥")])),_:1})]),_:1}),t(Qe,{class:"my-0"}),t(Ge,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ne,{color:e.initialConfig?.monitor_life_enabled?"success":"grey",icon:"mdi-calendar-heart",size:"small"},null,8,["color"])]),append:s(()=>[t(Ke,{color:e.initialConfig?.monitor_life_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.monitor_life_enabled?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)]),_:1},8,["color"])]),default:s(()=>[t(Je,{class:"text-body-2"},{default:s(()=>He[54]||(He[54]=[r("ç›‘æŽ§115ç”Ÿæ´»äº‹ä»¶")])),_:1})]),_:1}),t(Qe,{class:"my-0"}),t(Ge,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ne,{color:e.initialConfig?.pan_transfer_enabled?"success":"grey",icon:"mdi-transfer",size:"small"},null,8,["color"])]),append:s(()=>[t(Ke,{color:e.initialConfig?.pan_transfer_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.pan_transfer_enabled?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)]),_:1},8,["color"])]),default:s(()=>[t(Je,{class:"text-body-2"},{default:s(()=>He[55]||(He[55]=[r("ç½‘ç›˜æ•´ç†")])),_:1})]),_:1}),t(Qe,{class:"my-0"}),t(Ge,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ne,{color:e.initialConfig?.clear_recyclebin_enabled||e.initialConfig?.clear_receive_path_enabled?"success":"grey",icon:"mdi-broom",size:"small"},null,8,["color"])]),append:s(()=>[t(Ke,{color:e.initialConfig?.clear_recyclebin_enabled||e.initialConfig?.clear_receive_path_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.clear_recyclebin_enabled||e.initialConfig?.clear_receive_path_enabled?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)]),_:1},8,["color"])]),default:s(()=>[t(Je,{class:"text-body-2"},{default:s(()=>He[56]||(He[56]=[r("å®šæœŸæ¸…ç†")])),_:1})]),_:1}),t(Qe,{class:"my-0"}),t(Ge,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ne,{color:e.initialConfig?.sync_del_enabled?"warning":"grey",icon:"mdi-delete-sweep",size:"small"},null,8,["color"])]),append:s(()=>[t(Ke,{color:e.initialConfig?.sync_del_enabled?"warning":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.sync_del_enabled?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)]),_:1},8,["color"])]),default:s(()=>[t(Je,{class:"text-body-2"},{default:s(()=>He[57]||(He[57]=[r("åŒæ­¥åˆ é™¤")])),_:1})]),_:1}),t(Qe,{class:"my-0"})]),_:1})]),_:1})]),_:1}),e.initialConfig?.sync_del_enabled?(o(),c(Vl,{key:0,flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(De,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(Ne,{icon:"mdi-history",class:"mr-2",color:"primary",size:"small"}),He[59]||(He[59]=i("span",null,"åŒæ­¥åˆ é™¤åŽ†å²",-1)),t(da),ml.value.length>6?(o(),c(ua,{key:0,size:"x-small",variant:"text",onClick:He[0]||(He[0]=e=>yl.show=!0),"prepend-icon":"mdi-open-in-new"},{default:s(()=>[r(" æŸ¥çœ‹å…¨éƒ¨ ("+n(ml.value.length)+") ",1)]),_:1})):d("",!0),t(ua,{icon:"",size:"x-small",variant:"text",onClick:ra,loading:pl.value,class:"ml-1"},{default:s(()=>[t(Ne,null,{default:s(()=>He[58]||(He[58]=[r("mdi-refresh")])),_:1})]),_:1},8,["loading"])]),_:1}),t(bl,{class:"pa-0"},{default:s(()=>[pl.value?(o(),c(qe,{key:0,type:"list-item-avatar-three-line@3"})):0===ml.value.length?(o(),u("div",b,[t(Ne,{icon:"mdi-information-outline",size:"large",color:"grey",class:"mb-2"}),He[60]||(He[60]=i("div",{class:"text-caption text-grey"},"æš‚æ— åˆ é™¤åŽ†å²",-1))])):(o(),c(gl,{key:2,class:"bg-transparent pa-0"},{default:s(()=>[(o(!0),u(p,null,m(_l.value,(e,l)=>(o(),u(p,{key:e.unique||l},[t(Ge,{class:"px-3 py-2"},{prepend:s(()=>[t(Ul,{size:"48",rounded:"",class:"mr-3"},{default:s(()=>[e.image?(o(),c(Tl,{key:0,src:e.image,alt:e.title,cover:""},null,8,["src","alt"])):(o(),c(Ne,{key:1,icon:"mdi-movie"}))]),_:2},1024)]),append:s(()=>[t(ua,{icon:"",size:"x-small",variant:"text",color:"error",onClick:l=>oa(e.unique),loading:fl.value===e.unique},{default:s(()=>[t(Ne,null,{default:s(()=>He[61]||(He[61]=[r("mdi-delete")])),_:1})]),_:2},1032,["onClick","loading"])]),default:s(()=>[t(Je,{class:"text-body-2 font-weight-medium"},{default:s(()=>[r(n(e.title),1)]),_:2},1024),t(Ql,{class:"text-caption"},{default:s(()=>[i("div",k,[t(Ke,{size:"x-small",variant:"tonal",color:"primary"},{default:s(()=>[r(n(e.type),1)]),_:2},1024),e.year?(o(),u("span",w,"Â· "+n(e.year),1)):d("",!0),e.season?(o(),u("span",C,"Â· S"+n(String(e.season).padStart(2,"0")),1)):d("",!0),e.episode?(o(),u("span",z,"Â· E"+n(String(e.episode).padStart(2,"0")),1)):d("",!0)]),i("div",P,n(e.del_time),1)]),_:2},1024)]),_:2},1024),l<_l.value.length-1?(o(),c(Qe,{key:0,class:"my-0"})):d("",!0)],64))),128))]),_:1}))]),_:1})]),_:1})):d("",!0)]),_:1}),t(ma,{cols:"12",md:"6"},{default:s(()=>[t(Vl,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(De,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(Ne,{icon:"mdi-folder-search",class:"mr-2",color:"primary",size:"small"}),He[62]||(He[62]=i("span",null,"è·¯å¾„é…ç½®",-1))]),_:1}),t(bl,{class:"pa-0"},{default:s(()=>[t(gl,{class:"bg-transparent pa-0"},{default:s(()=>[e.initialConfig?.transfer_monitor_enabled?(o(),c(Ge,{key:0,class:"px-3 py-2"},{default:s(()=>[i("div",null,[He[68]||(He[68]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"ç›‘æŽ§MPæ•´ç†è·¯å¾„",-1)),zl(e.initialConfig?.transfer_monitor_paths)>0?(o(!0),u(p,{key:0},m(sa(e.initialConfig?.transfer_monitor_paths),(e,l)=>(o(),u(p,{key:`transfer-${l}`},[l>0?(o(),c(Qe,{key:0,class:"my-1"})):d("",!0),i("div",V,[t(pa,{dense:"",align:"center"},{default:s(()=>[t(ma,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(Ne,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>He[63]||(He[63]=[r("mdi-folder-home")])),_:1}),i("div",{class:"text-truncate w-100",title:e.local},[He[64]||(He[64]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"æœ¬åœ°ç›®å½•",-1)),i("span",S,n(e.local||"-"),1)],8,M)]),_:2},1024),t(ma,{cols:"12",sm:"2",class:"text-center my-1 my-sm-0"},{default:s(()=>[t(Ne,{color:"primary",class:"icon-spin-animation"},{default:s(()=>He[65]||(He[65]=[r("mdi-sync")])),_:1})]),_:1}),t(ma,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(Ne,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>He[66]||(He[66]=[r("mdi-cloud")])),_:1}),i("div",{class:"text-truncate w-100",title:e.remote},[He[67]||(He[67]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"ç½‘ç›˜ç›®å½•",-1)),i("span",T,n(e.remote||"-"),1)],8,$)]),_:2},1024)]),_:2},1024)])],64))),128)):(o(),u("div",U,"æœªé…ç½®è·¯å¾„"))])]),_:1})):d("",!0),e.initialConfig?.transfer_monitor_enabled&&(e.initialConfig?.increment_sync_strm_enabled||e.initialConfig?.timing_full_sync_strm||e.initialConfig?.monitor_life_enabled||e.initialConfig?.pan_transfer_enabled||e.initialConfig?.directory_upload_enabled)?(o(),c(Qe,{key:1,class:"my-0"})):d("",!0),e.initialConfig?.timing_full_sync_strm?(o(),c(Ge,{key:2,class:"px-3 py-2"},{default:s(()=>[i("div",null,[He[74]||(He[74]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"å…¨é‡åŒæ­¥è·¯å¾„",-1)),zl(e.initialConfig?.full_sync_strm_paths)>0?(o(!0),u(p,{key:0},m(sa(e.initialConfig?.full_sync_strm_paths),(e,l)=>(o(),u(p,{key:`fullsync-${l}`},[l>0?(o(),c(Qe,{key:0,class:"my-1"})):d("",!0),i("div",E,[t(pa,{dense:"",align:"center"},{default:s(()=>[t(ma,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(Ne,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>He[69]||(He[69]=[r("mdi-folder-home")])),_:1}),i("div",{class:"text-truncate w-100",title:e.local},[He[70]||(He[70]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"æœ¬åœ°ç›®å½•",-1)),i("span",R,n(e.local||"-"),1)],8,I)]),_:2},1024),t(ma,{cols:"12",sm:"2",class:"text-center my-1 my-sm-0"},{default:s(()=>[t(Ne,{color:"primary",class:"icon-spin-animation"},{default:s(()=>He[71]||(He[71]=[r("mdi-sync")])),_:1})]),_:1}),t(ma,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(Ne,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>He[72]||(He[72]=[r("mdi-cloud")])),_:1}),i("div",{class:"text-truncate w-100",title:e.remote},[He[73]||(He[73]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"ç½‘ç›˜ç›®å½•",-1)),i("span",A,n(e.remote||"-"),1)],8,L)]),_:2},1024)]),_:2},1024)])],64))),128)):(o(),u("div",F,"æœªé…ç½®è·¯å¾„"))])]),_:1})):d("",!0),e.initialConfig?.timing_full_sync_strm&&(e.initialConfig?.increment_sync_strm_enabled||e.initialConfig?.monitor_life_enabled||e.initialConfig?.pan_transfer_enabled||e.initialConfig?.directory_upload_enabled)?(o(),c(Qe,{key:3,class:"my-0"})):d("",!0),e.initialConfig?.increment_sync_strm_enabled?(o(),c(Ge,{key:4,class:"px-3 py-2"},{default:s(()=>[i("div",null,[He[80]||(He[80]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"å¢žé‡åŒæ­¥è·¯å¾„",-1)),zl(e.initialConfig?.increment_sync_strm_paths)>0?(o(!0),u(p,{key:0},m(sa(e.initialConfig?.increment_sync_strm_paths),(e,l)=>(o(),u(p,{key:`incsync-${l}`},[l>0?(o(),c(Qe,{key:0,class:"my-1"})):d("",!0),i("div",B,[t(pa,{dense:"",align:"center"},{default:s(()=>[t(ma,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(Ne,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>He[75]||(He[75]=[r("mdi-folder-home")])),_:1}),i("div",{class:"text-truncate w-100",title:e.local},[He[76]||(He[76]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"æœ¬åœ°ç›®å½•",-1)),i("span",O,n(e.local||"-"),1)],8,j)]),_:2},1024),t(ma,{cols:"12",sm:"2",class:"text-center my-1 my-sm-0"},{default:s(()=>[t(Ne,{color:"primary",class:"icon-spin-animation"},{default:s(()=>He[77]||(He[77]=[r("mdi-sync")])),_:1})]),_:1}),t(ma,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(Ne,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>He[78]||(He[78]=[r("mdi-cloud")])),_:1}),i("div",{class:"text-truncate w-100",title:e.remote},[He[79]||(He[79]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"ç½‘ç›˜ç›®å½•",-1)),i("span",N,n(e.remote||"-"),1)],8,H)]),_:2},1024)]),_:2},1024)])],64))),128)):(o(),u("div",D,"æœªé…ç½®è·¯å¾„"))])]),_:1})):d("",!0),e.initialConfig?.increment_sync_strm_enabled&&(e.initialConfig?.monitor_life_enabled||e.initialConfig?.pan_transfer_enabled||e.initialConfig?.directory_upload_enabled)?(o(),c(Qe,{key:5,class:"my-0"})):d("",!0),e.initialConfig?.monitor_life_enabled?(o(),c(Ge,{key:6,class:"px-3 py-2"},{default:s(()=>[i("div",null,[He[86]||(He[86]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"ç›‘æŽ§115ç”Ÿæ´»äº‹ä»¶è·¯å¾„",-1)),zl(e.initialConfig?.monitor_life_paths)>0?(o(!0),u(p,{key:0},m(sa(e.initialConfig?.monitor_life_paths),(e,l)=>(o(),u(p,{key:`life-${l}`},[l>0?(o(),c(Qe,{key:0,class:"my-1"})):d("",!0),i("div",W,[t(pa,{dense:"",align:"center"},{default:s(()=>[t(ma,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(Ne,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>He[81]||(He[81]=[r("mdi-folder-home")])),_:1}),i("div",{class:"text-truncate w-100",title:e.local},[He[82]||(He[82]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"æœ¬åœ°ç›®å½•",-1)),i("span",J,n(e.local||"-"),1)],8,q)]),_:2},1024),t(ma,{cols:"12",sm:"2",class:"text-center my-1 my-sm-0"},{default:s(()=>[t(Ne,{color:"primary",class:"icon-spin-animation"},{default:s(()=>He[83]||(He[83]=[r("mdi-sync")])),_:1})]),_:1}),t(ma,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(Ne,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>He[84]||(He[84]=[r("mdi-cloud")])),_:1}),i("div",{class:"text-truncate w-100",title:e.remote},[He[85]||(He[85]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"ç½‘ç›˜ç›®å½•",-1)),i("span",G,n(e.remote||"-"),1)],8,K)]),_:2},1024)]),_:2},1024)])],64))),128)):(o(),u("div",Z,"æœªé…ç½®è·¯å¾„"))])]),_:1})):d("",!0),e.initialConfig?.monitor_life_enabled&&(e.initialConfig?.pan_transfer_enabled||e.initialConfig?.directory_upload_enabled)?(o(),c(Qe,{key:7,class:"my-0"})):d("",!0),e.initialConfig?.pan_transfer_enabled?(o(),c(Ge,{key:8,class:"px-3 py-2"},{default:s(()=>[i("div",null,[He[89]||(He[89]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"ç½‘ç›˜æ•´ç†ç›®å½•",-1)),Pl(e.initialConfig?.pan_transfer_paths)>0?(o(!0),u(p,{key:0},m(na(e.initialConfig?.pan_transfer_paths),(e,l)=>(o(),u(p,{key:`pan-${l}`},[l>0?(o(),c(Qe,{key:0,class:"my-1"})):d("",!0),i("div",Q,[i("div",X,[t(Ne,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>He[87]||(He[87]=[r("mdi-folder-arrow-down")])),_:1}),i("div",{class:"text-truncate w-100",title:e.path},[He[88]||(He[88]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"å¾…æ•´ç†ç½‘ç›˜ç›®å½•",-1)),i("span",ee,n(e.path),1)],8,Y)])])],64))),128)):(o(),u("div",le,"æœªé…ç½®ç½‘ç›˜æ•´ç†ç›®å½•"))])]),_:1})):d("",!0),e.initialConfig?.pan_transfer_enabled&&e.initialConfig?.directory_upload_enabled?(o(),c(Qe,{key:9,class:"my-0"})):d("",!0),e.initialConfig?.directory_upload_enabled?(o(),c(Ge,{key:10,class:"px-3 py-2"},{default:s(()=>[i("div",null,[He[97]||(He[97]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"ç›®å½•ä¸Šä¼ è·¯å¾„",-1)),e.initialConfig?.directory_upload_path&&e.initialConfig.directory_upload_path.length>0?(o(!0),u(p,{key:0},m(e.initialConfig.directory_upload_path,(e,l)=>(o(),u(p,{key:`upload-group-${l}`},[l>0?(o(),c(Qe,{key:0,class:"my-1"})):d("",!0),i("div",ae,[t(pa,{dense:"",align:"center"},{default:s(()=>[t(ma,{cols:"12",md:"5",class:"d-flex align-center"},{default:s(()=>[t(Ne,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>He[90]||(He[90]=[r("mdi-folder-table")])),_:1}),i("div",{class:"text-truncate w-100",title:e.src},[He[91]||(He[91]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"æœ¬åœ°ç›‘æŽ§",-1)),i("span",ie,n(e.src||"-"),1)],8,te)]),_:2},1024),t(ma,{cols:"12",md:"2",class:"text-center my-1 my-md-0"},{default:s(()=>[t(Ne,{color:"primary",class:"icon-spin-animation"},{default:s(()=>He[92]||(He[92]=[r("mdi-sync")])),_:1})]),_:1}),t(ma,{cols:"12",md:"5",class:"d-flex align-center"},{default:s(()=>[t(Ne,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>He[93]||(He[93]=[r("mdi-cloud-upload")])),_:1}),i("div",{class:"text-truncate w-100",title:e.dest_remote},[He[94]||(He[94]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"ç½‘ç›˜ä¸Šä¼ ",-1)),i("span",ne,n(e.dest_remote||"-"),1)],8,se)]),_:2},1024)]),_:2},1024),e.dest_local||"boolean"==typeof e.delete?(o(),u("div",re,[t(pa,{dense:"",align:"center",class:"mt-1"},{default:s(()=>[t(ma,{cols:"12",md:"boolean"==typeof e.delete?7:12},{default:s(()=>[e.dest_local?(o(),u("div",oe,[t(Ne,{size:"small",color:"warning",class:"mr-2 flex-shrink-0"},{default:s(()=>He[95]||(He[95]=[r("mdi-content-copy")])),_:1}),i("div",{class:"text-truncate w-100",title:e.dest_local},[He[96]||(He[96]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"æœ¬åœ°å¤åˆ¶",-1)),i("span",de,n(e.dest_local),1)],8,ce)])):d("",!0)]),_:2},1032,["md"]),"boolean"==typeof e.delete?(o(),c(ma,{key:0,cols:"12",md:e.dest_local?5:12,class:f(["d-flex align-center",{"justify-md-end":e.dest_local,"mt-1 mt-md-0":e.dest_local}])},{default:s(()=>[t(Ne,{size:"small",color:e.delete?"error":"grey-darken-1",class:"mr-1 flex-shrink-0"},{default:s(()=>[r(n(e.delete?"mdi-delete":"mdi-delete-off"),1)]),_:2},1032,["color"]),i("span",{class:f(["text-caption",e.delete?"text-error":"text-grey-darken-1"])},n(e.delete?"åˆ é™¤æº":"ä¸åˆ æº"),3)]),_:2},1032,["md","class"])):d("",!0)]),_:2},1024)])):d("",!0)])],64))),128)):(o(),u("div",ue,"æœªé…ç½®è·¯å¾„"))])]),_:1})):d("",!0)]),_:1})]),_:1})]),_:1}),hl.has_client&&e.initialConfig.cookies?Cl.value?d("",!0):(o(),c(Vl,{key:1,flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(bl,{class:"pa-3"},{default:s(()=>[i("div",fe,[t(Ne,{icon:"mdi-alert-circle",color:"warning",class:"mr-2",size:"small"}),i("div",ge,[He[104]||(He[104]=i("p",{class:"mb-1"},[i("strong",null,"è·¯å¾„é…ç½®ä¸å®Œæ•´")],-1)),He[105]||(He[105]=i("p",{class:"mb-0"},"æ‚¨å·²é…ç½®115 Cookieï¼Œä½†éƒ¨åˆ†åŠŸèƒ½è·¯å¾„æœªé…ç½®ã€‚è¯·å‰å¾€é…ç½®é¡µé¢å®Œå–„è·¯å¾„è®¾ç½®ã€‚",-1)),t(ua,{color:"primary",variant:"text",size:"small",class:"mt-1 px-2 py-0",onClick:He[2]||(He[2]=e=>Ze("switch"))},{default:s(()=>[t(Ne,{size:"small",class:"mr-1"},{default:s(()=>He[102]||(He[102]=[r("mdi-cog")])),_:1}),He[103]||(He[103]=r("å‰å¾€é…ç½® "))]),_:1})])])]),_:1})]),_:1})):(o(),c(Vl,{key:0,flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(bl,{class:"pa-3"},{default:s(()=>[i("div",me,[t(Ne,{icon:"mdi-alert-circle",color:"error",class:"mr-2",size:"small"}),i("div",pe,[He[100]||(He[100]=i("p",{class:"mb-1"},[i("strong",null,"æœªé…ç½®115 Cookieæˆ–Cookieæ— æ•ˆ")],-1)),He[101]||(He[101]=i("p",{class:"mb-0"},"è¯·åœ¨é…ç½®é¡µé¢ä¸­è®¾ç½®æœ‰æ•ˆçš„115ç½‘ç›˜Cookieï¼Œå¯é€šè¿‡æ‰«ç ç™»å½•èŽ·å–ã€‚",-1)),t(ua,{color:"primary",variant:"text",size:"small",class:"mt-1 px-2 py-0",onClick:He[1]||(He[1]=e=>Ze("switch"))},{default:s(()=>[t(Ne,{size:"small",class:"mr-1"},{default:s(()=>He[98]||(He[98]=[r("mdi-cog")])),_:1}),He[99]||(He[99]=r("å‰å¾€é…ç½® "))]),_:1})])])]),_:1})]),_:1}))]),_:1})]),_:1}),t(Vl,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(bl,{class:"d-flex align-center px-3 py-1"},{default:s(()=>[t(Ne,{icon:"mdi-information",color:"info",class:"mr-2",size:"small"}),He[106]||(He[106]=i("span",{class:"text-body-2"},' ç‚¹å‡»"é…ç½®"æŒ‰é’®è¿›è¡Œè®¾ç½®ï¼Œ"å…¨é‡åŒæ­¥"å’Œ"åˆ†äº«åŒæ­¥"æŒ‰é’®å¯ç«‹å³æ‰§è¡Œç›¸åº”ä»»åŠ¡ã€‚ ',-1))]),_:1})]),_:1})])):d("",!0)]),_:1}),t(Qe),t(ga,{class:"px-2 py-1 sticky-actions d-flex justify-space-between align-center",style:{"flex-shrink":"0",gap:"8px"}},{default:s(()=>[t(ua,{color:"info",onClick:Ml,"prepend-icon":"mdi-refresh",disabled:el.value,loading:el.value,variant:"text",size:"small"},{default:s(()=>He[107]||(He[107]=[r("åˆ·æ–°çŠ¶æ€")])),_:1},8,["disabled","loading"]),i("div",_e,[t(fa,{"offset-y":""},{activator:s(({props:e})=>[t(ua,g(e,{variant:"text",size:"small","append-icon":"mdi-dots-vertical"}),{default:s(()=>He[108]||(He[108]=[r(" æ›´å¤š ")])),_:2},1040)]),default:s(()=>[t(gl,{density:"compact"},{default:s(()=>[t(Ge,{onClick:He[3]||(He[3]=e=>dl.value=!0),disabled:!hl.enabled||!hl.has_client||cl.value},{prepend:s(()=>[t(Ne,{color:"warning"},{default:s(()=>He[109]||(He[109]=[r("mdi-sync")])),_:1})]),default:s(()=>[t(Je,null,{default:s(()=>He[110]||(He[110]=[r("å…¨é‡åŒæ­¥")])),_:1})]),_:1},8,["disabled"]),t(Ge,{onClick:He[4]||(He[4]=e=>ul.value=!0),disabled:!hl.enabled||!hl.has_client||cl.value},{prepend:s(()=>[t(Ne,{color:"primary"},{default:s(()=>He[111]||(He[111]=[r("mdi-database-sync")])),_:1})]),default:s(()=>[t(Je,null,{default:s(()=>He[112]||(He[112]=[r("å…¨é‡åŒæ­¥æ•°æ®åº“")])),_:1})]),_:1},8,["disabled"]),t(Ge,{onClick:Bl,disabled:!hl.enabled||!hl.has_client||cl.value,loading:tl.value},{prepend:s(()=>[t(Ne,{color:"info"},{default:s(()=>He[113]||(He[113]=[r("mdi-share-variant")])),_:1})]),default:s(()=>[t(Je,null,{default:s(()=>He[114]||(He[114]=[r("åˆ†äº«åŒæ­¥")])),_:1})]),_:1},8,["disabled","loading"]),t(Ge,{onClick:Yl,disabled:!hl.enabled||!hl.has_client||cl.value},{prepend:s(()=>[t(Ne,{color:"secondary"},{default:s(()=>He[115]||(He[115]=[r("mdi-cloud-download-outline")])),_:1})]),default:s(()=>[t(Je,null,{default:s(()=>He[116]||(He[116]=[r("ç¦»çº¿ä¸‹è½½")])),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1}),t(ua,{color:"primary",onClick:He[5]||(He[5]=e=>Ze("switch")),"prepend-icon":"mdi-cog",variant:"text",size:"small"},{default:s(()=>He[117]||(He[117]=[r("é…ç½®")])),_:1}),t(ua,{color:"error",onClick:He[6]||(He[6]=e=>Ze("close")),variant:"flat",size:"small",class:"custom-close-btn","aria-label":"å…³é—­",style:{"min-width":"auto !important",padding:"0 10px !important",height:"28px !important","line-height":"28px !important"}},{default:s(()=>[t(Ne,{size:"small"},{default:s(()=>He[118]||(He[118]=[r("mdi-close")])),_:1})]),_:1})])]),_:1})]),_:1})]),t(va,{modelValue:El.show,"onUpdate:modelValue":He[9]||(He[9]=e=>El.show=e),"max-width":"900",scrollable:""},{default:s(()=>[t(Vl,null,{default:s(()=>[t(De,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-lighten-5"},{default:s(()=>[t(Ne,{icon:"mdi-share-variant",class:"mr-2",color:"primary",size:"small"}),He[119]||(He[119]=i("span",null,"115ç½‘ç›˜åˆ†äº«åŒæ­¥",-1)),t(da),t(ua,{icon:"mdi-close",variant:"text",size:"small",onClick:jl})]),_:1}),t(bl,{class:"px-3 py-2"},{default:s(()=>[El.error?(o(),c(We,{key:0,type:"error",density:"compact",class:"mb-3",variant:"tonal"},{default:s(()=>[r(n(El.error),1)]),_:1})):d("",!0),t(Vl,{variant:"outlined",class:"mb-4"},{default:s(()=>[t(De,{class:"text-subtitle-2 px-3 py-2 bg-grey-lighten-4"},{default:s(()=>[t(Ne,{icon:"mdi-cog",size:"small",class:"mr-2"}),He[120]||(He[120]=r(" å…¨å±€é…ç½® "))]),_:1}),t(bl,{class:"pa-3"},{default:s(()=>[t(pa,null,{default:s(()=>[t(ma,{cols:"12"},{default:s(()=>[t(_a,{modelValue:El.globalMediaservers,"onUpdate:modelValue":He[7]||(He[7]=e=>El.globalMediaservers=e),label:"åˆ·æ–°åª’ä½“æœåŠ¡å™¨",hint:"åº”ç”¨äºŽæ‰€æœ‰åˆ†äº«é…ç½®çš„åª’ä½“æœåŠ¡å™¨åˆ·æ–°è®¾ç½®","persistent-hint":"",items:Rl.value,multiple:"",chips:"","closable-chips":"",variant:"outlined",density:"compact"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(pa,{class:"mt-2"},{default:s(()=>[t(ma,{cols:"12"},{default:s(()=>[t(ya,{modelValue:El.globalMpMediaserverPaths,"onUpdate:modelValue":He[8]||(He[8]=e=>El.globalMpMediaserverPaths=e),label:"MP-åª’ä½“åº“ ç›®å½•è½¬æ¢",hint:"æ ¼å¼ï¼šåª’ä½“åº“è·¯å¾„#MPè·¯å¾„ï¼Œå¤šä¸ªç”¨æ¢è¡Œåˆ†éš”ã€‚åº”ç”¨äºŽæ‰€æœ‰åˆ†äº«é…ç½®","persistent-hint":"",variant:"outlined",density:"compact",rows:"3","auto-grow":"",placeholder:"ä¾‹å¦‚:\n/media#/mp\n/nas#/movie"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(Vl,{variant:"outlined"},{default:s(()=>[t(De,{class:"text-subtitle-2 px-3 py-2 bg-grey-lighten-4 d-flex align-center"},{default:s(()=>[t(Ne,{icon:"mdi-share-variant",size:"small",class:"mr-2"}),He[123]||(He[123]=i("span",{class:"flex-grow-1"},"åˆ†äº«é…ç½®åˆ—è¡¨",-1)),t(ua,{size:"small","prepend-icon":"mdi-delete-sweep",variant:"text",color:"error",onClick:Hl,disabled:0===El.configs.length,title:"æ¸…ç©ºæ‰€æœ‰åˆ†äº«é…ç½®"},{default:s(()=>He[121]||(He[121]=[r(" æ¸…ç©º ")])),_:1},8,["disabled"]),t(ua,{size:"small","prepend-icon":"mdi-plus",variant:"tonal",color:"primary",onClick:Ol,class:"ml-2"},{default:s(()=>He[122]||(He[122]=[r(" æ·»åŠ åˆ†äº« ")])),_:1})]),_:1}),t(bl,{class:"pa-0"},{default:s(()=>[El.configs.length>0?(o(),c(gl,{key:0,class:"pa-0"},{default:s(()=>[(o(!0),u(p,null,m(El.configs,(e,l)=>(o(),u(p,{key:l},[t(Ge,{class:"px-3 py-2"},{prepend:s(()=>[t(Ne,{icon:"mdi-share-variant",color:"primary",size:"small",class:"mr-2"})]),append:s(()=>[i("div",we,[t(ua,{icon:"mdi-pencil",size:"small",variant:"text",color:"primary",onClick:e=>(e=>{if(e<0||e>=El.configs.length)return;const l=El.configs[e];Il.editingIndex=e,Il.shareLink=l.share_link||"",Il.shareCode=l.share_code||"",Il.shareReceive=l.share_receive||"",Il.sharePath=l.share_path||"/",Il.localPath=l.local_path||"",Il.minFileSizeFormatted=Xe(l.min_file_size||0),Il.moviepilotTransfer=l.moviepilot_transfer||!1,Il.autoDownloadMediainfo=l.auto_download_mediainfo||!1,Il.mediaServerRefresh=l.media_server_refresh||!1,Il.scrapeMetadata=l.scrape_metadata||!1,Il.error=null,Il.show=!0})(l),title:"ç¼–è¾‘"},null,8,["onClick"]),t(ua,{icon:"mdi-delete",size:"small",variant:"text",color:"error",onClick:e=>(e=>{e>=0&&e<El.configs.length&&El.configs.splice(e,1)})(l),title:"åˆ é™¤"},null,8,["onClick"])])]),default:s(()=>[t(Je,{class:"text-body-2 font-weight-medium"},{default:s(()=>[r(n(e.share_link||e.share_code||`åˆ†äº«é…ç½® ${l+1}`),1)]),_:2},1024),t(Ql,{class:"text-caption mt-1"},{default:s(()=>[i("div",ye,[e.local_path?(o(),u("span",he,[t(Ne,{icon:"mdi-folder",size:"x-small",class:"mr-1"}),r(" æœ¬åœ°è·¯å¾„: "+n(e.local_path),1)])):(o(),u("span",ve,"æœªé…ç½®æœ¬åœ°è·¯å¾„")),i("div",xe,[e.share_path&&"/"!==e.share_path?(o(),u("span",be,[t(Ne,{icon:"mdi-folder-network",size:"x-small",class:"mr-1"}),r(" åˆ†äº«è·¯å¾„: "+n(e.share_path),1)])):d("",!0),e.min_file_size?(o(),u("span",ke,[t(Ne,{icon:"mdi-file-size",size:"x-small",class:"mr-1"}),r(" æœ€å°æ–‡ä»¶: "+n(Xe(e.min_file_size)),1)])):d("",!0),e.moviepilot_transfer?(o(),c(Ke,{key:2,size:"x-small",color:"primary",variant:"tonal"},{default:s(()=>He[124]||(He[124]=[r(" MPæ•´ç† ")])),_:1})):d("",!0)])])]),_:2},1024)]),_:2},1024),l<El.configs.length-1?(o(),c(Qe,{key:0,class:"my-0"})):d("",!0)],64))),128))]),_:1})):(o(),c(We,{key:1,type:"info",density:"compact",variant:"tonal",class:"ma-3"},{default:s(()=>He[125]||(He[125]=[i("div",{class:"d-flex align-center"},[i("span",null,'æš‚æ— åˆ†äº«é…ç½®ï¼Œè¯·ç‚¹å‡»"æ·»åŠ åˆ†äº«"æŒ‰é’®æ·»åŠ ')],-1)])),_:1}))]),_:1})]),_:1})]),_:1}),t(Qe),t(ga,{class:"px-3 py-1"},{default:s(()=>[t(ua,{color:"grey",variant:"text",onClick:jl,size:"small"},{default:s(()=>He[126]||(He[126]=[r("å–æ¶ˆ")])),_:1}),t(da),t(ha,{location:"top"},{activator:s(({props:e})=>[t(ua,g({color:"info",variant:"text",onClick:Nl,loading:il.value,size:"small"},e),{default:s(()=>He[127]||(He[127]=[r(" ä¿å­˜é…ç½® ")])),_:2},1040,["loading"])]),default:s(()=>[He[128]||(He[128]=i("span",null,"ä»…ä¿å­˜é…ç½®åˆ°ç³»ç»Ÿï¼Œä¸æ‰§è¡ŒåŒæ­¥ä»»åŠ¡",-1))]),_:1}),t(ha,{location:"top"},{activator:s(({props:e})=>[t(ua,g({color:"primary",variant:"text",onClick:Zl,loading:tl.value,disabled:!Ll.value,size:"small",class:"ml-2"},e),{default:s(()=>He[129]||(He[129]=[r(" ä¿å­˜å¹¶åŒæ­¥ ")])),_:2},1040,["loading","disabled"])]),default:s(()=>[He[130]||(He[130]=i("span",null,"ä¿å­˜é…ç½®å¹¶ç«‹å³æ‰§è¡Œåˆ†äº«åŒæ­¥ä»»åŠ¡ï¼ˆéœ€è¦è‡³å°‘ä¸€ä¸ªæœ‰æ•ˆé…ç½®ï¼‰",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(va,{modelValue:Il.show,"onUpdate:modelValue":He[21]||(He[21]=e=>Il.show=e),"max-width":"700",scrollable:""},{default:s(()=>[t(Vl,null,{default:s(()=>[t(De,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-lighten-5"},{default:s(()=>[t(Ne,{icon:"mdi-share-variant",class:"mr-2",color:"primary",size:"small"}),i("span",null,n(Il.editingIndex>=0?"ç¼–è¾‘åˆ†äº«é…ç½®":"æ·»åŠ åˆ†äº«é…ç½®"),1),t(da),t(ua,{icon:"mdi-close",variant:"text",size:"small",onClick:Dl})]),_:1}),t(bl,{class:"px-3 py-3"},{default:s(()=>[Il.error?(o(),c(We,{key:0,type:"error",density:"compact",class:"mb-3",variant:"tonal",closable:""},{default:s(()=>[r(n(Il.error),1)]),_:1})):d("",!0),t(pa,{class:"mb-2"},{default:s(()=>[t(ma,{cols:"12"},{default:s(()=>[t(xa,{modelValue:Il.shareLink,"onUpdate:modelValue":He[10]||(He[10]=e=>Il.shareLink=e),label:"åˆ†äº«é“¾æŽ¥",hint:"115ç½‘ç›˜åˆ†äº«é“¾æŽ¥","persistent-hint":"",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-link"},null,8,["modelValue"])]),_:1})]),_:1}),t(pa,{class:"mb-2"},{default:s(()=>[t(ma,{cols:"12",md:"6"},{default:s(()=>[t(xa,{modelValue:Il.shareCode,"onUpdate:modelValue":He[11]||(He[11]=e=>Il.shareCode=e),label:"åˆ†äº«ç ",hint:"åˆ†äº«ç ï¼Œå’Œåˆ†äº«é“¾æŽ¥é€‰å¡«ä¸€é¡¹","persistent-hint":"",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-key"},null,8,["modelValue"])]),_:1}),t(ma,{cols:"12",md:"6"},{default:s(()=>[t(xa,{modelValue:Il.shareReceive,"onUpdate:modelValue":He[12]||(He[12]=e=>Il.shareReceive=e),label:"åˆ†äº«å¯†ç ",hint:"åˆ†äº«å¯†ç ï¼Œå’Œåˆ†äº«é“¾æŽ¥é€‰å¡«ä¸€é¡¹","persistent-hint":"",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-lock",type:"password"},null,8,["modelValue"])]),_:1})]),_:1}),t(pa,{class:"mb-2"},{default:s(()=>[t(ma,{cols:"12",md:"6"},{default:s(()=>[t(xa,{modelValue:Il.sharePath,"onUpdate:modelValue":He[13]||(He[13]=e=>Il.sharePath=e),label:"åˆ†äº«è·¯å¾„",hint:"åˆ†äº«å†…å®¹åˆ—è¡¨ä¸­çš„ç›¸å¯¹è·¯å¾„ï¼Œé»˜è®¤ä¸ºæ ¹ç›®å½• /","persistent-hint":"",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-folder-network"},null,8,["modelValue"])]),_:1}),t(ma,{cols:"12",md:"6"},{default:s(()=>[t(xa,{modelValue:Il.localPath,"onUpdate:modelValue":He[14]||(He[14]=e=>Il.localPath=e),label:"æœ¬åœ°è·¯å¾„",hint:"æœ¬åœ°ç”ŸæˆSTRMæ–‡ä»¶çš„è·¯å¾„","persistent-hint":"",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-folder","append-icon":"mdi-folder-search","onClick:append":He[15]||(He[15]=e=>{return l="local",Fl.show=!0,Fl.isLocal="local"===l,Fl.loading=!1,Fl.error=null,Fl.items=[],Fl.currentPath=Fl.isLocal&&Il.localPath||"/",Fl.callback=e=>{Fl.isLocal&&(Il.localPath=e)},void ql();var l})},null,8,["modelValue"])]),_:1})]),_:1}),t(pa,{class:"mb-2"},{default:s(()=>[t(ma,{cols:"12",md:"6"},{default:s(()=>[t(xa,{modelValue:Il.minFileSizeFormatted,"onUpdate:modelValue":He[16]||(He[16]=e=>Il.minFileSizeFormatted=e),label:"åˆ†äº«ç”Ÿæˆæœ€å°æ–‡ä»¶å¤§å°",hint:"å°äºŽæ­¤å€¼ä¸ç”ŸæˆSTRM(K,M,G)","persistent-hint":"",variant:"outlined",density:"compact",placeholder:"ä¾‹å¦‚: 100M",clearable:"","prepend-inner-icon":"mdi-file-document"},null,8,["modelValue"])]),_:1})]),_:1}),t(Qe,{class:"my-3"}),t(pa,{class:"mb-2"},{default:s(()=>[t(ma,{cols:"12"},{default:s(()=>[t(ba,{modelValue:Il.moviepilotTransfer,"onUpdate:modelValue":He[17]||(He[17]=e=>Il.moviepilotTransfer=e),label:"STRM äº¤ç”± MoviePilot æ•´ç†",color:"primary",density:"compact","hide-details":""},{label:s(()=>[i("div",Ce,[t(Ne,{icon:"mdi-transfer",size:"small",class:"mr-2"}),He[131]||(He[131]=i("span",null,"STRM äº¤ç”± MoviePilot æ•´ç†",-1))])]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(ka,null,{default:s(()=>[Il.moviepilotTransfer?d("",!0):(o(),u("div",ze,[t(pa,{class:"mb-2"},{default:s(()=>[t(ma,{cols:"12",md:"4",class:"d-flex align-center"},{default:s(()=>[t(ba,{modelValue:Il.autoDownloadMediainfo,"onUpdate:modelValue":He[18]||(He[18]=e=>Il.autoDownloadMediainfo=e),color:"primary",density:"compact","hide-details":"",class:"flex-grow-1"},{label:s(()=>[i("div",Pe,[t(Ne,{icon:"mdi-download",size:"small",class:"mr-2"}),He[132]||(He[132]=i("span",null,"è‡ªåŠ¨ä¸‹è½½ç½‘ç›˜å…ƒæ•°æ®",-1))])]),_:1},8,["modelValue"])]),_:1}),t(ma,{cols:"12",md:"4",class:"d-flex align-center"},{default:s(()=>[t(ba,{modelValue:Il.mediaServerRefresh,"onUpdate:modelValue":He[19]||(He[19]=e=>Il.mediaServerRefresh=e),color:"primary",density:"compact","hide-details":"",class:"flex-grow-1"},{label:s(()=>[i("div",Ve,[t(Ne,{icon:"mdi-refresh",size:"small",class:"mr-2"}),He[133]||(He[133]=i("span",null,"åˆ·æ–°åª’ä½“æœåŠ¡å™¨",-1))])]),_:1},8,["modelValue"])]),_:1}),t(ma,{cols:"12",md:"4",class:"d-flex align-center"},{default:s(()=>[t(ba,{modelValue:Il.scrapeMetadata,"onUpdate:modelValue":He[20]||(He[20]=e=>Il.scrapeMetadata=e),color:"primary",density:"compact","hide-details":"",class:"flex-grow-1"},{label:s(()=>[i("div",Me,[t(Ne,{icon:"mdi-file-search",size:"small",class:"mr-2"}),He[134]||(He[134]=i("span",null,"æ˜¯å¦åˆ®å‰Šå…ƒæ•°æ®",-1))])]),_:1},8,["modelValue"])]),_:1})]),_:1})]))]),_:1}),t(We,{type:"info",variant:"tonal",density:"compact",class:"mt-3"},{default:s(()=>He[135]||(He[135]=[i("div",{class:"text-caption"},[i("div",{class:"mb-1"},[i("strong",null,"æç¤ºï¼š")]),i("ul",{class:"ma-0 pl-4"},[i("li",null,"åˆ†äº«é“¾æŽ¥/åˆ†äº«ç å’Œåˆ†äº«å¯†ç åªéœ€è¦äºŒé€‰ä¸€é…ç½®å³å¯"),i("li",null,"åŒæ—¶å¡«å†™åˆ†äº«é“¾æŽ¥ã€åˆ†äº«ç å’Œåˆ†äº«å¯†ç æ—¶ï¼Œä¼˜å…ˆè¯»å–åˆ†äº«é“¾æŽ¥"),i("li",null,"å½“ STRMäº¤ç”±MoviePilotæ•´ç† å…³é—­æ—¶ï¼Œæ‰èƒ½é…ç½®è‡ªåŠ¨ä¸‹è½½ç½‘ç›˜å…ƒæ•°æ®ã€åˆ·æ–°åª’ä½“æœåŠ¡å™¨å’Œæ˜¯å¦åˆ®å‰Šå…ƒæ•°æ®")])],-1)])),_:1})]),_:1}),t(Qe),t(ga,{class:"px-3 py-1"},{default:s(()=>[t(ua,{color:"grey",variant:"text",onClick:Dl,size:"small"},{default:s(()=>He[136]||(He[136]=[r("å–æ¶ˆ")])),_:1}),t(da),t(ua,{color:"primary",variant:"text",onClick:Wl,disabled:!Al.value,size:"small"},{default:s(()=>He[137]||(He[137]=[r(" ä¿å­˜ ")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(va,{modelValue:kl.show,"onUpdate:modelValue":He[32]||(He[32]=e=>kl.show=e),"max-width":"800",persistent:""},{default:s(()=>[t(Vl,null,{default:s(()=>[t(De,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-lighten-5"},{default:s(()=>[t(Ne,{icon:"mdi-cloud-download-outline",class:"mr-2",color:"primary",size:"small"}),He[138]||(He[138]=i("span",null,"115ç¦»çº¿ä¸‹è½½",-1)),t(da),t(ua,{icon:"mdi-close",variant:"text",size:"small",onClick:ea})]),_:1}),t(bl,{class:"pa-0"},{default:s(()=>[t(Ca,{modelValue:kl.activeTab,"onUpdate:modelValue":He[22]||(He[22]=e=>kl.activeTab=e),"bg-color":"primary-gradient",grow:""},{default:s(()=>[t(wa,{value:"add"},{default:s(()=>He[139]||(He[139]=[r("æ·»åŠ ä»»åŠ¡")])),_:1}),t(wa,{value:"tasks"},{default:s(()=>He[140]||(He[140]=[r("ä»»åŠ¡åˆ—è¡¨")])),_:1})]),_:1},8,["modelValue"]),t(Ma,{modelValue:kl.activeTab,"onUpdate:modelValue":He[31]||(He[31]=e=>kl.activeTab=e),touchless:""},{default:s(()=>[t(Pa,{value:"add"},{default:s(()=>[i("div",Se,[kl.addError?(o(),c(We,{key:0,type:"error",density:"compact",class:"mb-3",variant:"tonal"},{default:s(()=>[r(n(kl.addError),1)]),_:1})):d("",!0),t(ya,{modelValue:kl.links,"onUpdate:modelValue":He[23]||(He[23]=e=>kl.links=e),label:"ä¸‹è½½é“¾æŽ¥",hint:"æ¯è¡Œä¸€ä¸ªé“¾æŽ¥ï¼Œæ”¯æŒ http(s)/ftp/magnet/ed2k","persistent-hint":"",variant:"outlined",rows:"5",clearable:""},null,8,["modelValue"]),t(za,{modelValue:kl.destPath,"onUpdate:modelValue":He[24]||(He[24]=e=>kl.destPath=e),items:kl.availablePathStrings,label:"ç½‘ç›˜ä¿å­˜è·¯å¾„ (å¯é€‰)",hint:"å¯é€‰ï¼Œé»˜è®¤ä¸ºç½‘ç›˜å¾…æ•´ç†ç›®å½•ã€‚å¯ä»Žç¼“å­˜è·¯å¾„æˆ–é…ç½®è·¯å¾„ä¸­é€‰æ‹©ï¼Œä¹Ÿå¯æ‰‹åŠ¨è¾“å…¥","persistent-hint":"",variant:"outlined",density:"compact",class:"mt-3",clearable:""},{"prepend-inner":s(()=>[t(Ne,{icon:"mdi-folder-network-outline",size:"small"})]),"append-inner":s(()=>[t(ua,{icon:"mdi-folder-network",variant:"text",size:"x-small",onClick:_(ta,["stop"]),class:"mr-n2"})]),item:s(({props:e,item:l})=>[t(Ge,g(e,{title:Xl(l.raw)}),null,16,["title"])]),_:1},8,["modelValue","items"]),i("div",$e,[t(ua,{color:"primary",onClick:aa,loading:kl.adding,disabled:!kl.links||kl.adding,"prepend-icon":"mdi-plus"},{default:s(()=>He[141]||(He[141]=[r(" æ·»åŠ ä»»åŠ¡ ")])),_:1},8,["loading","disabled"])])])]),_:1}),t(Pa,{value:"tasks"},{default:s(()=>[i("div",{style:{"overflow-x":"auto"},onTouchstart:He[28]||(He[28]=_(()=>{},["stop"])),onTouchmove:He[29]||(He[29]=_(()=>{},["stop"])),onTouchend:He[30]||(He[30]=_(()=>{},["stop"]))},[kl.error?(o(),c(We,{key:0,type:"error",density:"compact",class:"ma-3",variant:"tonal"},{default:s(()=>[r(n(kl.error),1)]),_:1})):d("",!0),t(Va,{headers:kl.headers,items:kl.tasks,"items-length":kl.totalTasks,loading:kl.loading,"items-per-page":kl.itemsPerPage,"onUpdate:options":la,density:"compact",class:"ma-2","no-data-text":"æ²¡æœ‰ç¦»çº¿ä¸‹è½½ä»»åŠ¡","loading-text":"æ­£åœ¨åŠ è½½ä»»åŠ¡...","items-per-page-text":"æ¯é¡µæ¡ç›®æ•°",style:{"min-width":"700px"},onTouchstart:He[25]||(He[25]=_(()=>{},["stop"])),onTouchmove:He[26]||(He[26]=_(()=>{},["stop"])),onTouchend:He[27]||(He[27]=_(()=>{},["stop"]))},{"item.progress":s(({item:e})=>[i("div",Te,[t(ca,{"model-value":e.percent,color:ia(e.status),stream:0===e.status||3===e.status,striped:0===e.status||3===e.status,height:"8",rounded:"",class:"flex-grow-1 mr-3"},null,8,["model-value","color","stream","striped"]),i("div",Ue,n(e.percent)+"% ",1)])]),"item.status_text":s(({item:e})=>[t(Ke,{color:ia(e.status),size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.status_text),1)]),_:2},1032,["color"])]),_:1},8,["headers","items","items-length","loading","items-per-page"])],32)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(va,{modelValue:Fl.show,"onUpdate:modelValue":He[34]||(He[34]=e=>Fl.show=e),"max-width":"800"},{default:s(()=>[t(Vl,null,{default:s(()=>[t(De,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-lighten-5"},{default:s(()=>[t(Ne,{icon:Fl.isLocal?"mdi-folder-search":"mdi-folder-network",class:"mr-2",color:"primary"},null,8,["icon"]),i("span",null,n(Fl.isLocal?"é€‰æ‹©æœ¬åœ°ç›®å½•":"é€‰æ‹©ç½‘ç›˜ç›®å½•"),1)]),_:1}),t(bl,{class:"px-3 py-2"},{default:s(()=>[Fl.loading?(o(),u("div",Ee,[t(Sa,{indeterminate:"",color:"primary"})])):(o(),u("div",Ie,[t(xa,{modelValue:Fl.currentPath,"onUpdate:modelValue":He[33]||(He[33]=e=>Fl.currentPath=e),label:"å½“å‰è·¯å¾„",variant:"outlined",density:"compact",class:"mb-2",onKeyup:y(ql,["enter"])},null,8,["modelValue"]),t(gl,{class:"border rounded","max-height":"300px","overflow-y":"auto"},{default:s(()=>["/"!==Fl.currentPath&&"C:\\"!==Fl.currentPath&&"C:/"!==Fl.currentPath?(o(),c(Ge,{key:0,onClick:Jl,class:"py-0",style:{"min-height":"auto"}},{prepend:s(()=>[t(Ne,{icon:"mdi-arrow-up",size:"small",class:"mr-2",color:"grey"})]),default:s(()=>[t(Je,{class:"text-body-2"},{default:s(()=>He[142]||(He[142]=[r("ä¸Šçº§ç›®å½•")])),_:1}),t(Ql,null,{default:s(()=>He[143]||(He[143]=[r("..")])),_:1})]),_:1})):d("",!0),(o(!0),u(p,null,m(Fl.items,(e,l)=>(o(),c(Ge,{key:l,onClick:l=>(e=>{e&&e.is_dir&&e.path&&(Fl.currentPath=e.path,ql())})(e),disabled:!e.is_dir,class:"py-0",style:{"min-height":"auto"}},{prepend:s(()=>[t(Ne,{icon:e.is_dir?"mdi-folder":"mdi-file",size:"small",class:"mr-2",color:e.is_dir?"success":"blue"},null,8,["icon","color"])]),default:s(()=>[t(Je,{class:"text-body-2"},{default:s(()=>[r(n(e.name),1)]),_:2},1024)]),_:2},1032,["onClick","disabled"]))),128)),Fl.items.length?d("",!0):(o(),c(Ge,{key:1,class:"py-2 text-center"},{default:s(()=>[t(Je,{class:"text-body-2 text-grey"},{default:s(()=>He[144]||(He[144]=[r("è¯¥ç›®å½•ä¸ºç©ºæˆ–è®¿é—®å—é™")])),_:1})]),_:1}))]),_:1})])),"/"!==Fl.currentPath||Fl.isLocal?d("",!0):(o(),c(We,{key:2,type:"warning",density:"compact",class:"mt-2 text-caption",variant:"tonal",icon:"mdi-alert-circle-outline"},{default:s(()=>He[145]||(He[145]=[r(" 115ç¦»çº¿ä¸‹è½½ä¸æ”¯æŒé€‰æ‹©æ ¹ç›®å½•ï¼Œè¯·é€‰æ‹©æˆ–è¿›å…¥ä¸€ä¸ªå­ç›®å½•ã€‚ ")])),_:1})),Fl.error?(o(),c(We,{key:3,type:"error",density:"compact",class:"mt-2 text-caption",variant:"tonal"},{default:s(()=>[r(n(Fl.error),1)]),_:1})):d("",!0)]),_:1}),t(ga,{class:"px-3 py-1"},{default:s(()=>[t(da),t(ua,{color:"primary",onClick:Kl,disabled:!Fl.currentPath||Fl.loading||"/"===Fl.currentPath&&!Fl.isLocal,variant:"text",size:"small"},{default:s(()=>He[146]||(He[146]=[r(" é€‰æ‹©å½“å‰ç›®å½• ")])),_:1},8,["disabled"]),t(ua,{color:"grey",onClick:Gl,variant:"text",size:"small"},{default:s(()=>He[147]||(He[147]=[r(" å–æ¶ˆ ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(va,{modelValue:dl.value,"onUpdate:modelValue":He[36]||(He[36]=e=>dl.value=e),"max-width":"500",persistent:""},{default:s(()=>[t(Vl,null,{default:s(()=>[t(De,{class:"text-h6 d-flex align-center"},{default:s(()=>[t(Ne,{icon:"mdi-alert-circle-outline",color:"warning",class:"mr-2"}),He[148]||(He[148]=r(" ç¡®è®¤æ“ä½œ "))]),_:1}),t(bl,null,{default:s(()=>[He[150]||(He[150]=i("div",{class:"mb-2"},"æ‚¨ç¡®å®šè¦ç«‹å³æ‰§è¡Œå…¨é‡åŒæ­¥å—ï¼Ÿ",-1)),e.initialConfig?.full_sync_media_server_refresh_enabled?(o(),c(We,{key:0,type:"warning",variant:"tonal",density:"compact",class:"mt-2",icon:"mdi-alert"},{default:s(()=>He[149]||(He[149]=[i("div",{class:"text-body-2 mb-1"},[i("strong",null,"é‡è¦è­¦å‘Š")],-1),i("div",{class:"text-caption"}," å…¨é‡åŒæ­¥å®ŒæˆåŽå°†è‡ªåŠ¨åˆ·æ–°æ•´ä¸ªåª’ä½“åº“ï¼Œæ­¤æ“ä½œä¼šæ‰«ææ‰€æœ‰åª’ä½“æ–‡ä»¶ï¼Œå¯èƒ½å¯¼è‡´åª’ä½“æœåŠ¡å™¨è´Ÿè½½å¢žåŠ ã€‚è¯·ç¡®ä¿æ‚¨å·²äº†è§£æ­¤é£Žé™©å¹¶è‡ªè¡Œæ‰¿æ‹…ç›¸åº”è´£ä»»ã€‚ ",-1)])),_:1})):d("",!0)]),_:1}),t(ga,null,{default:s(()=>[t(da),t(ua,{color:"grey",variant:"text",onClick:He[35]||(He[35]=e=>dl.value=!1),disabled:ll.value},{default:s(()=>He[151]||(He[151]=[r(" å–æ¶ˆ ")])),_:1},8,["disabled"]),t(ua,{color:"warning",variant:"text",onClick:Sl,loading:ll.value},{default:s(()=>He[152]||(He[152]=[r(" ç¡®è®¤æ‰§è¡Œ ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(va,{modelValue:ul.value,"onUpdate:modelValue":He[38]||(He[38]=e=>ul.value=e),"max-width":"450",persistent:""},{default:s(()=>[t(Vl,null,{default:s(()=>[t(De,{class:"text-h6 d-flex align-center"},{default:s(()=>[t(Ne,{icon:"mdi-alert-circle-outline",color:"warning",class:"mr-2"}),He[153]||(He[153]=r(" ç¡®è®¤æ“ä½œ "))]),_:1}),t(bl,null,{default:s(()=>He[154]||(He[154]=[r(" æ‚¨ç¡®å®šè¦ç«‹å³æ‰§è¡Œå…¨é‡åŒæ­¥æ•°æ®åº“å—ï¼Ÿè¯¥æ“ä½œä¼šè¦†ç›–åŽŸæœ‰æ•°æ®åº“æ•°æ® ")])),_:1}),t(ga,null,{default:s(()=>[t(da),t(ua,{color:"grey",variant:"text",onClick:He[37]||(He[37]=e=>ul.value=!1),disabled:al.value},{default:s(()=>He[155]||(He[155]=[r(" å–æ¶ˆ ")])),_:1},8,["disabled"]),t(ua,{color:"warning",variant:"text",onClick:$l,loading:al.value},{default:s(()=>He[156]||(He[156]=[r(" ç¡®è®¤æ‰§è¡Œ ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(va,{modelValue:yl.show,"onUpdate:modelValue":He[40]||(He[40]=e=>yl.show=e),"max-width":"900",scrollable:""},{default:s(()=>[t(Vl,null,{default:s(()=>[t(De,{class:"text-subtitle-1 d-flex align-center px-3 py-2 bg-primary-gradient"},{default:s(()=>[t(Ne,{icon:"mdi-history",class:"mr-2",color:"primary",size:"small"}),i("span",null,"åŒæ­¥åˆ é™¤åŽ†å²è®°å½• (å…± "+n(ml.value.length)+" æ¡)",1),t(da),t(ua,{icon:"",size:"x-small",variant:"text",onClick:ra,loading:pl.value},{default:s(()=>[t(Ne,null,{default:s(()=>He[157]||(He[157]=[r("mdi-refresh")])),_:1})]),_:1},8,["loading"]),t(ua,{icon:"",size:"small",variant:"text",onClick:He[39]||(He[39]=e=>yl.show=!1)},{default:s(()=>[t(Ne,null,{default:s(()=>He[158]||(He[158]=[r("mdi-close")])),_:1})]),_:1})]),_:1}),t(bl,{class:"pa-0 sync-del-history-content"},{default:s(()=>[pl.value?(o(),c(qe,{key:0,type:"list-item-avatar-three-line@5"})):0===ml.value.length?(o(),u("div",Re,[t(Ne,{icon:"mdi-information-outline",size:"large",color:"grey",class:"mb-2"}),He[159]||(He[159]=i("div",{class:"text-caption text-grey"},"æš‚æ— åˆ é™¤åŽ†å²",-1))])):(o(),c(gl,{key:2,class:"bg-transparent pa-0"},{default:s(()=>[(o(!0),u(p,null,m(ml.value,(e,l)=>(o(),u(p,{key:e.unique||l},[t(Ge,{class:"px-3 py-2"},{prepend:s(()=>[t(Ul,{size:"56",rounded:"",class:"mr-3"},{default:s(()=>[e.image?(o(),c(Tl,{key:0,src:e.image,alt:e.title,cover:""},null,8,["src","alt"])):(o(),c(Ne,{key:1,icon:"mdi-movie"}))]),_:2},1024)]),append:s(()=>[t(ua,{icon:"",size:"small",variant:"text",color:"error",onClick:l=>oa(e.unique),loading:fl.value===e.unique},{default:s(()=>[t(Ne,null,{default:s(()=>He[160]||(He[160]=[r("mdi-delete")])),_:1})]),_:2},1032,["onClick","loading"])]),default:s(()=>[t(Je,{class:"text-body-1 font-weight-medium"},{default:s(()=>[r(n(e.title),1)]),_:2},1024),t(Ql,{class:"text-caption"},{default:s(()=>[i("div",Le,[t(Ke,{size:"small",variant:"tonal",color:"primary"},{default:s(()=>[r(n(e.type),1)]),_:2},1024),e.year?(o(),u("span",Ae,"Â· "+n(e.year),1)):d("",!0),e.season?(o(),u("span",Fe,"Â· S"+n(String(e.season).padStart(2,"0")),1)):d("",!0),e.episode?(o(),u("span",Be,"Â· E"+n(String(e.episode).padStart(2,"0")),1)):d("",!0)]),e.path?(o(),u("div",je,n(e.path),1)):d("",!0),i("div",Oe,n(e.del_time),1)]),_:2},1024)]),_:2},1024),l<ml.value.length-1?(o(),c(Qe,{key:0,class:"my-0"})):d("",!0)],64))),128))]),_:1}))]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},[["__scopeId","data-v-d5556364"]]);export{Ge as default};
