import{importShared as e}from"./__federation_fn_import-B6DyUTOO.js";import{_ as l}from"./_plugin-vue_export-helper-BCo6x5W8.js";const{resolveComponent:a,createVNode:t,createElementVNode:i,withCtx:s,toDisplayString:n,createTextVNode:r,openBlock:o,createBlock:c,createCommentVNode:d,createElementBlock:u,renderList:m,Fragment:p,normalizeClass:f,mergeProps:g,withModifiers:_,withKeys:y}=await e("vue"),h={class:"plugin-page"},v={key:3,class:"my-1"},x={key:1},b={key:1,class:"text-center py-4"},k={class:"d-flex flex-wrap align-center gap-1 mt-1"},w={key:0,class:"text-grey"},C={key:1,class:"text-grey"},z={key:2,class:"text-grey"},P={class:"text-grey mt-1"},V={class:"path-mapping-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},M=["title"],S={class:"text-caption",style:{"line-height":"1.2"}},$=["title"],T={class:"text-caption",style:{"line-height":"1.2"}},U={key:1,class:"text-caption text-error mt-1"},E={class:"path-mapping-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},I=["title"],L={class:"text-caption",style:{"line-height":"1.2"}},R=["title"],A={class:"text-caption",style:{"line-height":"1.2"}},F={key:1,class:"text-caption text-error mt-1"},B={class:"path-mapping-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},j=["title"],O={class:"text-caption",style:{"line-height":"1.2"}},H=["title"],N={class:"text-caption",style:{"line-height":"1.2"}},q={key:1,class:"text-caption text-error mt-1"},D={class:"path-mapping-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},W=["title"],J={class:"text-caption",style:{"line-height":"1.2"}},K=["title"],G={class:"text-caption",style:{"line-height":"1.2"}},Z={key:1,class:"text-caption text-error mt-1"},Q={class:"path-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},X={class:"d-flex align-center"},Y=["title"],ee={class:"text-caption",style:{"line-height":"1.2"}},le={key:1,class:"text-caption text-error mt-1"},ae={class:"path-group-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},te=["title"],ie={class:"text-caption",style:{"line-height":"1.2"}},se=["title"],ne={class:"text-caption",style:{"line-height":"1.2"}},re={key:0,class:"mt-1 pt-1",style:{"border-top":"1px dashed rgba(var(--v-border-color), 0.2)"}},oe={key:0,class:"d-flex align-center"},ce=["title"],de={class:"text-caption",style:{"line-height":"1.2"}},ue={key:1,class:"text-caption text-error mt-1"},me={class:"d-flex"},pe={class:"text-body-2"},fe={class:"d-flex"},ge={class:"text-body-2"},_e={class:"d-flex align-center",style:{gap:"4px"}},ye={class:"d-flex flex-column"},he={key:0,class:"mb-1"},ve={key:1,class:"text-grey"},xe={class:"d-flex flex-wrap ga-2 mt-1"},be={key:0},ke={key:1},we={class:"d-flex align-center"},Ce={class:"d-flex align-center"},ze={key:0},Pe={class:"d-flex align-center"},Ve={class:"d-flex align-center"},Me={class:"d-flex align-center"},Se={class:"pa-3"},$e={class:"d-flex justify-end mt-3"},Te={class:"d-flex align-center"},Ue={class:"text-no-wrap text-caption font-weight-medium",style:{"min-width":"40px","text-align":"right"}},Ee={key:0,class:"d-flex justify-center my-3"},Ie={key:1},Le={class:"text-body-1 font-weight-medium"},Re={key:0,class:"text-caption text-grey mt-1",style:{"word-break":"break-all"}},Ae={class:"text-caption text-grey mt-1"},Fe={class:"mb-2"},Be={key:1,class:"text-center py-8"},je={class:"d-flex flex-wrap align-center gap-1 mt-1"},Oe={key:0,class:"text-grey"},He={key:1,class:"text-grey"},Ne={key:2,class:"text-grey"},qe={key:0,class:"text-grey mt-1",style:{"word-break":"break-all"}},De={class:"text-grey mt-1"},We={class:"text-caption text-grey"},{ref:Je,reactive:Ke,computed:Ge,onMounted:Ze,onBeforeUnmount:Qe,watch:Xe}=await e("vue"),Ye="p115strmhelper_offline_paths_cache",el=l({__name:"Page",props:{api:{type:[Object,Function],required:!0},initialConfig:{type:Object,default:()=>({})}},emits:["close","switch","update:config","action"],setup(e,{emit:l}){const el=e,ll=l,al=e=>{if(!e||"string"!=typeof e)return 0;const l=e.trim().match(/^(\d*\.?\d+)\s*(k|m|g|t)?b?$/i);if(!l)return 0;const a=parseFloat(l[1]);switch((l[2]||"").toLowerCase()){case"t":return Math.round(1024*a*1024*1024*1024);case"g":return Math.round(1024*a*1024*1024);case"m":return Math.round(1024*a*1024);case"k":return Math.round(1024*a);default:return Math.round(a)}},tl=(e,l=2)=>{if(!+e)return"";const a=l<0?0:l,t=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,t)).toFixed(a))} ${["B","K","M","G","T"][t]}`},il=Je(!0),sl=Je(!1),nl=Je(!1),rl=Je(!1),ol=Je(!1),cl=Je(!1),dl=Je(!1),ul=Je(null),ml=Je(null),pl=Je("info"),fl=Je(!1),gl=Je(!1),_l=Je(!1),yl=Je(!1),hl=Ke({show:!1,item:null}),vl=Je([]),xl=Je(!1),bl=Je(null),kl=Je(!1),wl=Je(0),Cl=Je(1),zl=Je(20);let Pl=null;const Vl=Ge(()=>vl.value.slice(0,5)),Ml=Ke({show:!1}),Sl=Ke({enabled:!1,has_client:!1,running:!1}),$l=Ke({name:null,is_vip:null,is_forever_vip:null,vip_expire_date:null,avatar:null,error:null,loading:!0}),Tl=Ke({total:null,used:null,remaining:null,error:null,loading:!0}),Ul=()=>{try{const e=localStorage.getItem(Ye);if(e){const l=JSON.parse(e);return Array.isArray(l)?l.filter(e=>e&&"string"==typeof e):[]}}catch(e){console.error("è¯»å–è·¯å¾„ç¼“å­˜å¤±è´¥:",e)}return[]},El=Ke({show:!1,activeTab:"add",loading:!1,adding:!1,error:null,addError:null,tasks:[],totalTasks:0,itemsPerPage:10,headers:[{title:"æ–‡ä»¶å",key:"name",align:"start",sortable:!1,minWidth:"200px"},{title:"å¤§å°",key:"size_text",align:"end",sortable:!1,cellProps:{class:"text-no-wrap"},minWidth:"80px"},{title:"çŠ¶æ€",key:"status_text",align:"center",sortable:!1,minWidth:"80px"},{title:"è¿›åº¦",key:"progress",align:"start",sortable:!1,minWidth:"120px"}],links:"",destPath:"",availablePaths:[],availablePathStrings:[]}),Il=(e,l)=>{if(!e||!l)return 0;const a=e=>{if(!e||"string"!=typeof e)return 0;const l=parseFloat(e);return isNaN(l)?0:e.toUpperCase().includes("TB")?1024*l*1024:e.toUpperCase().includes("GB")?1024*l:(e.toUpperCase().includes("MB"),l)},t=a(e),i=a(l);return 0===i?0:Math.min(Math.max(t/i*100,0),100)},Ll=Ge(()=>{if(!el.initialConfig)return!1;if(!(el.initialConfig.enabled&&el.initialConfig.cookies&&el.initialConfig.moviepilot_address))return!1;const e=Rl(el.initialConfig.transfer_monitor_paths)>0&&el.initialConfig.transfer_monitor_enabled,l=Rl(el.initialConfig.full_sync_strm_paths)>0&&el.initialConfig.timing_full_sync_strm,a=Rl(el.initialConfig.increment_sync_strm_paths)>0&&el.initialConfig.increment_sync_strm_enabled,t=Rl(el.initialConfig.monitor_life_paths)>0&&el.initialConfig.monitor_life_enabled,i=Array.isArray(el.initialConfig.share_strm_config)&&el.initialConfig.share_strm_config.length>0;return e||l||a||t||i}),Rl=e=>{if(!e)return 0;try{return e.split("\n").filter(e=>e.trim()&&e.includes("#")).length}catch(l){return console.error("è§£æžè·¯å¾„å­—ç¬¦ä¸²å¤±è´¥:",l),0}},Al=e=>{if(!e)return 0;try{return e.split("\n").filter(e=>e.trim()).length}catch(l){return console.error("è§£æžç½‘ç›˜æ•´ç†è·¯å¾„å­—ç¬¦ä¸²å¤±è´¥:",l),0}},Fl=async()=>{il.value=!0,ul.value=null;try{const l="P115StrmHelper",a=await el.api.get(`plugin/${l}/get_status`);if(!a||0!==a.code||!a.data){if(el.initialConfig){if(Sl.enabled=Boolean(el.initialConfig.enabled),Sl.has_client=Boolean(el.initialConfig.cookies&&""!==el.initialConfig.cookies.trim()),Sl.running=!1,dl.value=!0,Object.keys(el.initialConfig).length<=1)try{const e=await el.api.get(`plugin/${l}/get_config`);e&&(Object.assign(el.initialConfig,e),console.log("ä»Žé…ç½®APIèŽ·å–é…ç½®:",el.initialConfig))}catch(e){console.error("èŽ·å–é…ç½®å¤±è´¥:",e)}throw new Error("çŠ¶æ€APIè°ƒç”¨å¤±è´¥ï¼Œä½¿ç”¨é…ç½®æ•°æ®æ˜¾ç¤ºçŠ¶æ€")}throw new Error(a?.msg||"èŽ·å–çŠ¶æ€å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿žæŽ¥")}Sl.enabled=Boolean(a.data.enabled),Sl.has_client=Boolean(a.data.has_client),Sl.running=Boolean(a.data.running);try{const e=await el.api.get(`plugin/${l}/get_config`);e&&(Object.assign(el.initialConfig,e),console.log("å·²èŽ·å–æœ€æ–°é…ç½®:",el.initialConfig))}catch(e){console.error("èŽ·å–é…ç½®å¤±è´¥:",e)}dl.value=!0}catch(l){l.message.includes("ä½¿ç”¨é…ç½®æ•°æ®æ˜¾ç¤ºçŠ¶æ€")||(ul.value=`èŽ·å–çŠ¶æ€å¤±è´¥: ${l.message||"æœªçŸ¥é”™è¯¯"}`),console.error("èŽ·å–çŠ¶æ€å¤±è´¥:",l)}finally{il.value=!1}},Bl=async()=>{sl.value=!0,await Fl(),Sl.has_client&&el.initialConfig?.cookies?await za():($l.loading=!1,Tl.loading=!1,el.initialConfig?.cookies?Sl.has_client||($l.error="115å®¢æˆ·ç«¯æœªè¿žæŽ¥æˆ–Cookieæ— æ•ˆã€‚",Tl.error="115å®¢æˆ·ç«¯æœªè¿žæŽ¥æˆ–Cookieæ— æ•ˆã€‚"):($l.error="è¯·å…ˆé…ç½®115 Cookieã€‚",Tl.error="è¯·å…ˆé…ç½®115 Cookieã€‚")),sl.value=!1,ml.value="çŠ¶æ€å·²åˆ·æ–°",pl.value="success",setTimeout(()=>{ml.value=null},3e3)},jl=async()=>{gl.value=!1,await Hl()},Ol=async()=>{_l.value=!1,await Nl()},Hl=async()=>{nl.value=!0,fl.value=!0,ul.value=null,ml.value=null;try{if(!Sl.enabled)throw new Error("æ’ä»¶æœªå¯ç”¨ï¼Œè¯·å…ˆåœ¨é…ç½®é¡µé¢å¯ç”¨æ’ä»¶");if(!Sl.has_client)throw new Error("æ’ä»¶æœªé…ç½®Cookieæˆ–Cookieæ— æ•ˆï¼Œè¯·å…ˆåœ¨é…ç½®é¡µé¢è®¾ç½®115 Cookie");if(0===Rl(el.initialConfig?.full_sync_strm_paths))throw new Error("æœªé…ç½®å…¨é‡åŒæ­¥è·¯å¾„ï¼Œè¯·å…ˆåœ¨é…ç½®é¡µé¢è®¾ç½®åŒæ­¥è·¯å¾„");const e="P115StrmHelper",l=await el.api.post(`plugin/${e}/full_sync`);if(!l||0!==l.code)throw new Error(l?.msg||"å¯åŠ¨å…¨é‡åŒæ­¥å¤±è´¥");ml.value=l.msg||"å…¨é‡åŒæ­¥ä»»åŠ¡å·²å¯åŠ¨",pl.value="success",await Fl()}catch(e){ul.value=`å¯åŠ¨å…¨é‡åŒæ­¥å¤±è´¥: ${e.message||"æœªçŸ¥é”™è¯¯"}`,console.error("å¯åŠ¨å…¨é‡åŒæ­¥å¤±è´¥:",e)}finally{nl.value=!1,fl.value=!1}},Nl=async()=>{rl.value=!0,fl.value=!0,ul.value=null,ml.value=null;try{if(!Sl.enabled)throw new Error("æ’ä»¶æœªå¯ç”¨ï¼Œè¯·å…ˆåœ¨é…ç½®é¡µé¢å¯ç”¨æ’ä»¶");if(!Sl.has_client)throw new Error("æ’ä»¶æœªé…ç½®Cookieæˆ–Cookieæ— æ•ˆï¼Œè¯·å…ˆåœ¨é…ç½®é¡µé¢è®¾ç½®115 Cookie");const e="P115StrmHelper",l=await el.api.post(`plugin/${e}/full_sync_db`);if(!l||0!==l.code)throw new Error(l?.msg||"å¯åŠ¨å…¨é‡åŒæ­¥æ•°æ®åº“å¤±è´¥");ml.value=l.msg||"å…¨é‡åŒæ­¥æ•°æ®åº“ä»»åŠ¡å·²å¯åŠ¨",pl.value="success",await Fl()}catch(e){ul.value=`å¯åŠ¨å…¨é‡åŒæ­¥æ•°æ®åº“å¤±è´¥: ${e.message||"æœªçŸ¥é”™è¯¯"}`,console.error("å¯åŠ¨å…¨é‡åŒæ­¥æ•°æ®åº“å¤±è´¥:",e)}finally{rl.value=!1,fl.value=!1}},ql=Ke({show:!1,error:null,configs:[],globalMediaservers:[],globalMpMediaserverPaths:""}),Dl=Ke({show:!1,error:null,editingIndex:-1,shareLink:"",shareCode:"",shareReceive:"",sharePath:"/",localPath:"",minFileSizeFormatted:"",moviepilotTransfer:!1,autoDownloadMediainfo:!1,mediaServerRefresh:!1,scrapeMetadata:!1}),Wl=Je([]),Jl=Ge(()=>ql.configs.length>0&&ql.configs.every(e=>!!e.local_path&&(!(!e.share_link&&!e.share_code)&&!(e.share_code&&!e.share_receive)))),Kl=Ge(()=>!!Dl.localPath&&(!(!Dl.shareLink&&!Dl.shareCode)&&!(Dl.shareCode&&!Dl.shareReceive))),Gl=Ke({show:!1,isLocal:!0,loading:!1,error:null,currentPath:"/",items:[],selectedPath:"",callback:null}),Zl=()=>{ql.show=!0,ql.error=null,el.initialConfig&&(ql.configs=Array.isArray(el.initialConfig.share_strm_config)?JSON.parse(JSON.stringify(el.initialConfig.share_strm_config)):[],ql.globalMediaservers=Array.isArray(el.initialConfig.share_strm_mediaservers)?[...el.initialConfig.share_strm_mediaservers]:[],ql.globalMpMediaserverPaths=el.initialConfig.share_strm_mp_mediaserver_paths||"")},Ql=()=>{ql.show=!1,ql.configs=[],ql.error=null},Xl=()=>{Dl.editingIndex=-1,Dl.shareLink="",Dl.shareCode="",Dl.shareReceive="",Dl.sharePath="/",Dl.localPath="",Dl.minFileSizeFormatted="",Dl.moviepilotTransfer=!1,Dl.autoDownloadMediainfo=!1,Dl.mediaServerRefresh=!1,Dl.scrapeMetadata=!1,Dl.error=null,Dl.show=!0},Yl=()=>{0!==ql.configs.length&&confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰åˆ†äº«é…ç½®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚")&&(ql.configs=[])},ea=async()=>{cl.value=!0,ql.error=null;try{const e="P115StrmHelper";if(!el.initialConfig)throw new Error("é…ç½®å¯¹è±¡ä¸å­˜åœ¨");{el.initialConfig.share_strm_config=ql.configs,el.initialConfig.share_strm_mediaservers=ql.globalMediaservers.length>0?[...ql.globalMediaservers]:null,el.initialConfig.share_strm_mp_mediaserver_paths=ql.globalMpMediaserverPaths||null;const l=await el.api.post(`plugin/${e}/save_config`,el.initialConfig);if(!l||0!==l.code)throw new Error(l?.msg||"ä¿å­˜é…ç½®å¤±è´¥");ml.value="åˆ†äº«é…ç½®å·²ä¿å­˜",pl.value="success",await Fl(),Ql()}}catch(e){ql.error=`ä¿å­˜é…ç½®å¤±è´¥: ${e.message||"æœªçŸ¥é”™è¯¯"}`,console.error("ä¿å­˜é…ç½®å¤±è´¥:",e)}finally{cl.value=!1}},la=()=>{Dl.show=!1,Dl.editingIndex=-1,Dl.error=null},aa=()=>{if(Dl.error=null,!Kl.value)return void(Dl.error="è¯·å¡«å†™å¿…å¡«é¡¹");const e={share_link:Dl.shareLink||null,share_code:Dl.shareCode||null,share_receive:Dl.shareReceive||null,share_path:Dl.sharePath||null,local_path:Dl.localPath,min_file_size:al(Dl.minFileSizeFormatted)||null,moviepilot_transfer:Dl.moviepilotTransfer,auto_download_mediainfo:!Dl.moviepilotTransfer&&Dl.autoDownloadMediainfo,media_server_refresh:!Dl.moviepilotTransfer&&Dl.mediaServerRefresh,scrape_metadata:!Dl.moviepilotTransfer&&Dl.scrapeMetadata};Dl.editingIndex>=0?ql.configs[Dl.editingIndex]=e:ql.configs.push(e),la()},ta=async()=>{Gl.loading=!0,Gl.error=null,Gl.items=[];try{if(Gl.isLocal)try{const e=await el.api.post("storage/list",{path:Gl.currentPath||"/",type:"share",flag:"ROOT"});if(!e||!Array.isArray(e))throw new Error("æµè§ˆç›®å½•å¤±è´¥ï¼šæ— æ•ˆå“åº”");Gl.items=e.filter(e=>"dir"===e.type).map(e=>({name:e.name,path:e.path,is_dir:!0})).sort((e,l)=>e.name.localeCompare(l.name,void 0,{numeric:!0,sensitivity:"base"}))}catch(ul){console.error("æµè§ˆæœ¬åœ°ç›®å½•å¤±è´¥:",ul),Gl.error=`æµè§ˆæœ¬åœ°ç›®å½•å¤±è´¥: ${ul.message||"æœªçŸ¥é”™è¯¯"}`,Gl.items=[]}else{const e="P115StrmHelper";if(!el.initialConfig?.cookies||""===el.initialConfig?.cookies.trim())throw new Error("è¯·å…ˆè®¾ç½®115 Cookieæ‰èƒ½æµè§ˆç½‘ç›˜ç›®å½•");const l=await el.api.get(`plugin/${e}/browse_dir?path=${encodeURIComponent(Gl.currentPath)}&is_local=${Gl.isLocal}`);if(!l||0!==l.code||!l.data)throw new Error(l?.msg||"èŽ·å–ç½‘ç›˜ç›®å½•å†…å®¹å¤±è´¥");Gl.items=l.data.items.filter(e=>e.is_dir),Gl.currentPath=l.data.path||Gl.currentPath}}catch(ul){console.error("åŠ è½½ç›®å½•å†…å®¹å¤±è´¥:",ul),Gl.error=ul.message||"èŽ·å–ç›®å½•å†…å®¹å¤±è´¥",(ul.message.includes("Cookie")||ul.message.includes("cookie"))&&(Gl.items=[])}finally{Gl.loading=!1}},ia=()=>{const e=Gl.currentPath;if(!Gl.isLocal){if("/"===e)return;let l=e.replace(/\\/g,"/");l.length>1&&l.endsWith("/")&&(l=l.slice(0,-1));const a=l.substring(0,l.lastIndexOf("/"));return Gl.currentPath=""===a?"/":a,void ta()}if("/"===e||"C:\\"===e||"C:/"===e)return;const l=e.replace(/\\/g,"/"),a=l.split("/").filter(Boolean);0===a.length?Gl.currentPath="/":1===a.length&&l.includes(":")?Gl.currentPath=a[0]+":/":(a.pop(),Gl.currentPath=0===a.length?"/":(l.startsWith("/")?"/":"")+a.join("/")+"/"),ta()},sa=()=>{if(!Gl.currentPath)return;let e=Gl.currentPath;"/"===e||/^[a-zA-Z]:[\\\/]$/.test(e)||!e.endsWith("/")&&!e.endsWith("\\\\")||(e=e.slice(0,-1)),"function"==typeof Gl.callback&&Gl.callback(e),na()},na=()=>{Gl.show=!1,Gl.items=[],Gl.error=null},ra=async()=>{ol.value=!0,ql.error=null;try{if(0===ql.configs.length)throw new Error("è¯·è‡³å°‘æ·»åŠ ä¸€ä¸ªåˆ†äº«é…ç½®");const e="P115StrmHelper";el.initialConfig&&(el.initialConfig.share_strm_config=ql.configs,el.initialConfig.share_strm_mediaservers=ql.globalMediaservers.length>0?[...ql.globalMediaservers]:null,el.initialConfig.share_strm_mp_mediaserver_paths=ql.globalMpMediaserverPaths||null,await el.api.post(`plugin/${e}/save_config`,el.initialConfig));const l=await el.api.post(`plugin/${e}/share_sync`);if(!l||0!==l.code)throw new Error(l?.msg||"å¯åŠ¨åˆ†äº«åŒæ­¥å¤±è´¥");ml.value=l.msg||"åˆ†äº«åŒæ­¥ä»»åŠ¡å·²å¯åŠ¨",pl.value="success",await Fl(),Ql()}catch(e){ql.error=`å¯åŠ¨åˆ†äº«åŒæ­¥å¤±è´¥: ${e.message||"æœªçŸ¥é”™è¯¯"}`,console.error("å¯åŠ¨åˆ†äº«åŒæ­¥å¤±è´¥:",e)}finally{ol.value=!1}},oa=()=>{const e=[],l=new Set;Ul().forEach(a=>{a&&!l.has(a)&&(e.push({label:`ðŸ“ ${a}`,path:a,type:"cached"}),l.add(a))}),el.initialConfig?.offline_download_paths&&Array.isArray(el.initialConfig.offline_download_paths)&&el.initialConfig.offline_download_paths.forEach(a=>{a&&"string"==typeof a&&a.trim()&&!l.has(a.trim())&&(e.push({label:`âš™ï¸ ${a.trim()}`,path:a.trim(),type:"config"}),l.add(a.trim()))}),El.availablePaths=e,El.availablePathStrings=e.map(e=>e.path)},ca=e=>{if(!e)return"";const l=El.availablePaths.find(l=>l.path===e);return l?l.label:e},da=()=>{El.show=!0,El.activeTab="add",El.error=null,El.addError=null,oa()},ua=()=>{El.show=!1,El.tasks=[],El.totalTasks=0,El.links="",El.destPath=""},ma=async({page:e,itemsPerPage:l})=>{El.loading=!0,El.error=null;try{const a="P115StrmHelper",t=await el.api.post(`plugin/${a}/offline_tasks`,{page:e,limit:l});if(!t||0!==t.code||!t.data)throw new Error(t?.msg||"èŽ·å–ç¦»çº¿ä»»åŠ¡åˆ—è¡¨å¤±è´¥");El.tasks=t.data.tasks||[],El.totalTasks=t.data.total||0}catch(a){El.error=`èŽ·å–ä»»åŠ¡å¤±è´¥: ${a.message||"æœªçŸ¥é”™è¯¯"}`,console.error("èŽ·å–ç¦»çº¿ä»»åŠ¡å¤±è´¥:",a),El.tasks=[],El.totalTasks=0}finally{El.loading=!1}},pa=async()=>{if(El.links.trim()){El.adding=!0,El.addError=null;try{const e="P115StrmHelper",l=El.links.split("\n").map(e=>e.trim()).filter(Boolean),a=await el.api.post(`plugin/${e}/add_offline_task`,{links:l,path:El.destPath||null});if(!a||0!==a.code)throw new Error(a?.msg||"æ·»åŠ ç¦»çº¿ä»»åŠ¡å¤±è´¥");ml.value=a.msg||"ç¦»çº¿ä»»åŠ¡æ·»åŠ æˆåŠŸ",pl.value="success",El.destPath&&El.destPath.trim()&&((e=>{if(!e||!e.trim())return;const l=e.trim();let a=Ul();a=a.filter(e=>e!==l),a.unshift(l),a=a.slice(0,20);try{localStorage.setItem(Ye,JSON.stringify(a))}catch(t){console.error("ä¿å­˜è·¯å¾„ç¼“å­˜å¤±è´¥:",t)}})(El.destPath),oa()),El.links="",El.destPath="",El.activeTab="tasks",ma({page:1,itemsPerPage:El.itemsPerPage})}catch(e){El.addError=`æ·»åŠ ä»»åŠ¡å¤±è´¥: ${e.message||"æœªçŸ¥é”™è¯¯"}`,console.error("æ·»åŠ ç¦»çº¿ä»»åŠ¡å¤±è´¥:",e)}finally{El.adding=!1}}else El.addError="ä¸‹è½½é“¾æŽ¥ä¸èƒ½ä¸ºç©ºã€‚"},fa=()=>{Gl.show=!0,Gl.isLocal=!1,Gl.loading=!1,Gl.error=null,Gl.items=[],Gl.currentPath=El.destPath||"/",Gl.callback=e=>{El.destPath=e},ta()},ga=e=>{switch(e){case 0:return"info";case 1:return"error";case 2:return"success";case 3:return"warning";default:return"grey"}},_a=e=>{if(!e)return[];try{return e.split("\n").filter(e=>e.trim()&&e.includes("#")).map(e=>{const l=e.split("#");return{local:l[0]||"",remote:l[1]||""}})}catch(l){return console.error("è§£æžè·¯å¾„å­—ç¬¦ä¸²å¤±è´¥:",l),[]}},ya=e=>{if(!e)return[];try{return e.split("\n").filter(e=>e.trim()).map(e=>({path:e}))}catch(l){return console.error("è§£æžç½‘ç›˜æ•´ç†è·¯å¾„å­—ç¬¦ä¸²å¤±è´¥:",l),[]}};Xe(()=>el.initialConfig,e=>{e&&(Sl.enabled=e.enabled||!1,Sl.has_client=Boolean(e.cookies&&""!==e.cookies.trim()),e.sync_del_enabled?(ha(),Pl&&clearInterval(Pl),Pl=setInterval(()=>{el.initialConfig?.sync_del_enabled&&ha()},3e4)):(vl.value=[],Pl&&(clearInterval(Pl),Pl=null)))},{immediate:!0}),Xe(()=>Ml.show,e=>{e&&(Cl.value=1,ha())});const ha=async()=>{if(el.initialConfig?.sync_del_enabled){xl.value=!0;try{const e="P115StrmHelper",l=await el.api.get(`plugin/${e}/get_sync_del_history?page=${Cl.value}&limit=${zl.value}`);l&&0===l.code&&l.data?l.data.items&&Array.isArray(l.data.items)?(vl.value=l.data.items,wl.value=l.data.total||0):Array.isArray(l.data)?(vl.value=l.data.sort((e,l)=>{const a=new Date(e.del_time||0).getTime();return new Date(l.del_time||0).getTime()-a}),wl.value=l.data.length):(vl.value=[],wl.value=0):(vl.value=[],wl.value=0)}catch(e){console.error("åŠ è½½åŒæ­¥åˆ é™¤åŽ†å²å¤±è´¥:",e),vl.value=[],wl.value=0}finally{xl.value=!1}}else vl.value=[]},va=e=>{e&&e.unique&&(hl.item=e,hl.show=!0)},xa=async()=>{const e=hl.item?.unique;e&&(hl.show=!1,await ba(e))},ba=async e=>{if(e){bl.value=e;try{const l="P115StrmHelper",a=await el.api.post(`plugin/${l}/delete_sync_del_history`,{key:e});a&&0===a.code?(ml.value=a.msg||"åˆ é™¤æˆåŠŸ",pl.value="success",1===vl.value.length&&Cl.value>1&&Cl.value--,await ha()):(ml.value=a?.msg||"åˆ é™¤å¤±è´¥",pl.value="error")}catch(l){console.error("åˆ é™¤åŒæ­¥åˆ é™¤åŽ†å²å¤±è´¥:",l),ml.value=`åˆ é™¤å¤±è´¥: ${l.message||"æœªçŸ¥é”™è¯¯"}`,pl.value="error"}finally{bl.value=null}}},ka=()=>{0!==wl.value&&(yl.value=!0)},wa=async()=>{yl.value=!1,await Ca()},Ca=async()=>{kl.value=!0;try{const e="P115StrmHelper",l=await el.api.post(`plugin/${e}/delete_all_sync_del_history`);l&&0===l.code?(ml.value=l.msg||"å…¨éƒ¨åˆ é™¤æˆåŠŸ",pl.value="success",Cl.value=1,await ha()):(ml.value=l?.msg||"åˆ é™¤å¤±è´¥",pl.value="error")}catch(e){console.error("ä¸€é”®åˆ é™¤åŒæ­¥åˆ é™¤åŽ†å²å¤±è´¥:",e),ml.value=`åˆ é™¤å¤±è´¥: ${e.message||"æœªçŸ¥é”™è¯¯"}`,pl.value="error"}finally{kl.value=!1}};async function za(){$l.loading=!0,$l.error=null,Tl.loading=!0,Tl.error=null;try{const e="P115StrmHelper",l=await el.api.get(`plugin/${e}/user_storage_status`);if(l&&l.success)l.user_info?Object.assign($l,l.user_info):$l.error="æœªèƒ½èŽ·å–æœ‰æ•ˆçš„ç”¨æˆ·ä¿¡æ¯ã€‚",l.storage_info?Object.assign(Tl,l.storage_info):Tl.error="æœªèƒ½èŽ·å–æœ‰æ•ˆçš„å­˜å‚¨ç©ºé—´ä¿¡æ¯ã€‚";else{const e=l?.error_message||"èŽ·å–ç”¨æˆ·å’Œå­˜å‚¨ä¿¡æ¯å¤±è´¥ã€‚";$l.error=e,Tl.error=e,(e.includes("Cookie")||e.includes("æœªé…ç½®"))&&(Sl.has_client=!1)}}catch(e){console.error("èŽ·å–ç”¨æˆ·/å­˜å‚¨çŠ¶æ€å¤±è´¥:",e);const l=`è¯·æ±‚ç”¨æˆ·/å­˜å‚¨çŠ¶æ€æ—¶å‡ºé”™: ${e.message||"æœªçŸ¥ç½‘ç»œé”™è¯¯"}`;$l.error=l,Tl.error=l}finally{$l.loading=!1,Tl.loading=!1}}return Ze(async()=>{await Fl(),Sl.has_client&&el.initialConfig?.cookies?await za():($l.loading=!1,Tl.loading=!1,el.initialConfig?.cookies?Sl.has_client||($l.error="115å®¢æˆ·ç«¯æœªè¿žæŽ¥æˆ–Cookieæ— æ•ˆã€‚",Tl.error="115å®¢æˆ·ç«¯æœªè¿žæŽ¥æˆ–Cookieæ— æ•ˆã€‚"):($l.error="è¯·å…ˆé…ç½®115 Cookieã€‚",Tl.error="è¯·å…ˆé…ç½®115 Cookieã€‚"));try{const e="P115StrmHelper",l=await el.api.get(`plugin/${e}/get_config`);l&&l.mediaservers&&(Wl.value=l.mediaservers)}catch(e){console.error("åŠ è½½åª’ä½“æœåŠ¡å™¨åˆ—è¡¨å¤±è´¥:",e)}el.initialConfig?.sync_del_enabled&&(await ha(),Pl=setInterval(()=>{el.initialConfig?.sync_del_enabled&&ha()},3e4))}),Qe(()=>{Pl&&(clearInterval(Pl),Pl=null)}),(l,Je)=>{const Ke=a("v-icon"),Ge=a("v-card-title"),Ze=a("v-alert"),Qe=a("v-skeleton-loader"),Xe=a("v-list-item-title"),Ye=a("v-chip"),el=a("v-list-item"),al=a("v-divider"),Pl=a("v-list"),Ul=a("v-card-text"),Fl=a("v-card"),Hl=a("v-img"),Nl=a("v-avatar"),oa=a("v-list-item-subtitle"),ba=a("v-progress-linear"),Ca=a("v-spacer"),za=a("v-btn"),Pa=a("v-col"),Va=a("v-row"),Ma=a("v-menu"),Sa=a("v-card-actions"),$a=a("v-select"),Ta=a("v-textarea"),Ua=a("v-tooltip"),Ea=a("v-dialog"),Ia=a("v-text-field"),La=a("v-switch"),Ra=a("v-expand-transition"),Aa=a("v-tab"),Fa=a("v-tabs"),Ba=a("v-combobox"),ja=a("v-window-item"),Oa=a("v-data-table-server"),Ha=a("v-window"),Na=a("v-progress-circular"),qa=a("v-pagination");return o(),u(p,null,[i("div",h,[t(Fl,{flat:"",class:"rounded border",style:{display:"flex","flex-direction":"column","max-height":"85vh"}},{default:s(()=>[t(Ge,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(Ke,{icon:"mdi-file-link",class:"mr-2",color:"primary",size:"small"}),Je[46]||(Je[46]=i("span",null,"115ç½‘ç›˜STRMåŠ©æ‰‹",-1))]),_:1}),t(Ul,{class:"px-3 py-1",style:{"flex-grow":"1","overflow-y":"auto","padding-bottom":"48px"}},{default:s(()=>[ul.value?(o(),c(Ze,{key:0,type:"error",density:"compact",class:"mb-2",variant:"tonal",closable:""},{default:s(()=>[r(n(ul.value),1)]),_:1})):d("",!0),ml.value?(o(),c(Ze,{key:1,type:pl.value,density:"compact",class:"mb-2",variant:"tonal",closable:""},{default:s(()=>[r(n(ml.value),1)]),_:1},8,["type"])):d("",!0),il.value&&!dl.value?(o(),c(Qe,{key:2,type:"article, actions"})):d("",!0),dl.value?(o(),u("div",v,[t(Va,null,{default:s(()=>[t(Pa,{cols:"12",md:"6"},{default:s(()=>[t(Fl,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(Ge,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(Ke,{icon:"mdi-information",class:"mr-2",color:"primary",size:"small"}),Je[47]||(Je[47]=i("span",null,"ç³»ç»ŸçŠ¶æ€",-1))]),_:1}),t(Ul,{class:"pa-0"},{default:s(()=>[t(Pl,{class:"bg-transparent pa-0"},{default:s(()=>[t(el,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ke,{color:Sl.enabled?"success":"grey",icon:"mdi-power",size:"small"},null,8,["color"])]),append:s(()=>[t(Ye,{color:Sl.enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(Sl.enabled?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)]),_:1},8,["color"])]),default:s(()=>[t(Xe,{class:"text-body-2"},{default:s(()=>Je[48]||(Je[48]=[r("æ’ä»¶çŠ¶æ€")])),_:1})]),_:1}),t(al,{class:"my-0"}),t(el,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ke,{color:Sl.has_client&&e.initialConfig?.cookies?"success":"error",icon:"mdi-account-check",size:"small"},null,8,["color"])]),append:s(()=>[t(Ye,{color:Sl.has_client&&e.initialConfig?.cookies?"success":"error",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(Sl.has_client&&e.initialConfig?.cookies?"å·²è¿žæŽ¥":"æœªè¿žæŽ¥"),1)]),_:1},8,["color"])]),default:s(()=>[t(Xe,{class:"text-body-2"},{default:s(()=>Je[49]||(Je[49]=[r("115å®¢æˆ·ç«¯çŠ¶æ€")])),_:1})]),_:1}),t(al,{class:"my-0"}),t(el,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ke,{color:Sl.running?"warning":"success",icon:"mdi-play-circle",size:"small"},null,8,["color"])]),append:s(()=>[t(Ye,{color:Sl.running?"warning":"success",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(Sl.running?"è¿è¡Œä¸­":"ç©ºé—²"),1)]),_:1},8,["color"])]),default:s(()=>[t(Xe,{class:"text-body-2"},{default:s(()=>Je[50]||(Je[50]=[r("ä»»åŠ¡çŠ¶æ€")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(Fl,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(Ge,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(Ke,{icon:"mdi-account-box",class:"mr-2",color:"primary",size:"small"}),Je[51]||(Je[51]=i("span",null,"115è´¦æˆ·ä¿¡æ¯",-1))]),_:1}),t(Ul,{class:"pa-0"},{default:s(()=>[$l.loading||Tl.loading?(o(),c(Qe,{key:0,type:"list-item-avatar-three-line, list-item-three-line"})):(o(),u("div",x,[$l.error||Tl.error?(o(),c(Ze,{key:0,type:"warning",density:"compact",class:"ma-2",variant:"tonal"},{default:s(()=>[r(n($l.error||Tl.error),1)]),_:1})):(o(),c(Pl,{key:1,class:"bg-transparent pa-0"},{default:s(()=>[t(el,{class:"px-3 py-1"},{prepend:s(()=>[t(Nl,{size:"32",class:"mr-2"},{default:s(()=>[$l.avatar?(o(),c(Hl,{key:0,src:$l.avatar,alt:$l.name},null,8,["src","alt"])):(o(),c(Ke,{key:1,icon:"mdi-account-circle"}))]),_:1})]),default:s(()=>[t(Xe,{class:"text-body-1 font-weight-medium"},{default:s(()=>[r(n($l.name||"æœªçŸ¥ç”¨æˆ·"),1)]),_:1})]),_:1}),t(al,{class:"my-0"}),t(el,{class:"px-3 py-1"},{prepend:s(()=>[t(Ke,{color:$l.is_vip?"amber-darken-2":"grey",icon:"mdi-shield-crown",size:"small"},null,8,["color"])]),append:s(()=>[t(Ye,{color:$l.is_vip?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n($l.is_vip?$l.is_forever_vip?"æ°¸ä¹…VIP":`VIP (è‡³ ${$l.vip_expire_date||"N/A"})`:"éžVIP"),1)]),_:1},8,["color"])]),default:s(()=>[t(Xe,{class:"text-body-2"},{default:s(()=>Je[52]||(Je[52]=[r("VIPçŠ¶æ€")])),_:1})]),_:1}),t(al,{class:"my-0"}),t(el,{class:"px-3 py-1"},{default:s(()=>[t(Xe,{class:"text-body-2 mb-1"},{default:s(()=>Je[53]||(Je[53]=[r("å­˜å‚¨ç©ºé—´")])),_:1}),Tl.used&&Tl.total?(o(),c(oa,{key:0,class:"text-caption"},{default:s(()=>[r(" å·²ç”¨ "+n(Tl.used)+" / æ€»å…± "+n(Tl.total)+" (å‰©ä½™ "+n(Tl.remaining)+") ",1)]),_:1})):d("",!0),Tl.used&&Tl.total?(o(),c(ba,{key:1,"model-value":Il(Tl.used,Tl.total),color:"primary",height:"6",rounded:"",class:"mt-1"},null,8,["model-value"])):(o(),c(oa,{key:2,class:"text-caption text-grey"},{default:s(()=>Je[54]||(Je[54]=[r(" å­˜å‚¨ä¿¡æ¯ä¸å¯ç”¨ ")])),_:1}))]),_:1})]),_:1}))]))]),_:1})]),_:1}),t(Fl,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(Ge,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(Ke,{icon:"mdi-puzzle",class:"mr-2",color:"primary",size:"small"}),Je[55]||(Je[55]=i("span",null,"åŠŸèƒ½é…ç½®",-1))]),_:1}),t(Ul,{class:"pa-0"},{default:s(()=>[t(Pl,{class:"bg-transparent pa-0"},{default:s(()=>[t(el,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ke,{color:e.initialConfig?.transfer_monitor_enabled?"success":"grey",icon:"mdi-file-move",size:"small"},null,8,["color"])]),append:s(()=>[t(Ye,{color:e.initialConfig?.transfer_monitor_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.transfer_monitor_enabled?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)]),_:1},8,["color"])]),default:s(()=>[t(Xe,{class:"text-body-2"},{default:s(()=>Je[56]||(Je[56]=[r("ç›‘æŽ§MPæ•´ç†")])),_:1})]),_:1}),t(al,{class:"my-0"}),t(el,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ke,{color:e.initialConfig?.timing_full_sync_strm?"success":"grey",icon:"mdi-sync",size:"small"},null,8,["color"])]),append:s(()=>[t(Ye,{color:e.initialConfig?.timing_full_sync_strm?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.timing_full_sync_strm?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)]),_:1},8,["color"])]),default:s(()=>[t(Xe,{class:"text-body-2"},{default:s(()=>Je[57]||(Je[57]=[r("å®šæœŸå…¨é‡åŒæ­¥")])),_:1})]),_:1}),t(al,{class:"my-0"}),t(el,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ke,{color:e.initialConfig?.increment_sync_strm_enabled?"success":"grey",icon:"mdi-book-sync",size:"small"},null,8,["color"])]),append:s(()=>[t(Ye,{color:e.initialConfig?.increment_sync_strm_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.increment_sync_strm_enabled?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)]),_:1},8,["color"])]),default:s(()=>[t(Xe,{class:"text-body-2"},{default:s(()=>Je[58]||(Je[58]=[r("å®šæœŸå¢žé‡åŒæ­¥")])),_:1})]),_:1}),t(al,{class:"my-0"}),t(el,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ke,{color:e.initialConfig?.monitor_life_enabled?"success":"grey",icon:"mdi-calendar-heart",size:"small"},null,8,["color"])]),append:s(()=>[t(Ye,{color:e.initialConfig?.monitor_life_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.monitor_life_enabled?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)]),_:1},8,["color"])]),default:s(()=>[t(Xe,{class:"text-body-2"},{default:s(()=>Je[59]||(Je[59]=[r("ç›‘æŽ§115ç”Ÿæ´»äº‹ä»¶")])),_:1})]),_:1}),t(al,{class:"my-0"}),t(el,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ke,{color:e.initialConfig?.pan_transfer_enabled?"success":"grey",icon:"mdi-transfer",size:"small"},null,8,["color"])]),append:s(()=>[t(Ye,{color:e.initialConfig?.pan_transfer_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.pan_transfer_enabled?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)]),_:1},8,["color"])]),default:s(()=>[t(Xe,{class:"text-body-2"},{default:s(()=>Je[60]||(Je[60]=[r("ç½‘ç›˜æ•´ç†")])),_:1})]),_:1}),t(al,{class:"my-0"}),t(el,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ke,{color:e.initialConfig?.clear_recyclebin_enabled||e.initialConfig?.clear_receive_path_enabled?"success":"grey",icon:"mdi-broom",size:"small"},null,8,["color"])]),append:s(()=>[t(Ye,{color:e.initialConfig?.clear_recyclebin_enabled||e.initialConfig?.clear_receive_path_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.clear_recyclebin_enabled||e.initialConfig?.clear_receive_path_enabled?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)]),_:1},8,["color"])]),default:s(()=>[t(Xe,{class:"text-body-2"},{default:s(()=>Je[61]||(Je[61]=[r("å®šæœŸæ¸…ç†")])),_:1})]),_:1}),t(al,{class:"my-0"}),t(el,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(Ke,{color:e.initialConfig?.sync_del_enabled?"warning":"grey",icon:"mdi-delete-sweep",size:"small"},null,8,["color"])]),append:s(()=>[t(Ye,{color:e.initialConfig?.sync_del_enabled?"warning":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.initialConfig?.sync_del_enabled?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)]),_:1},8,["color"])]),default:s(()=>[t(Xe,{class:"text-body-2"},{default:s(()=>Je[62]||(Je[62]=[r("åŒæ­¥åˆ é™¤")])),_:1})]),_:1}),t(al,{class:"my-0"})]),_:1})]),_:1})]),_:1}),e.initialConfig?.sync_del_enabled?(o(),c(Fl,{key:0,flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(Ge,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(Ke,{icon:"mdi-history",class:"mr-2",color:"primary",size:"small"}),Je[64]||(Je[64]=i("span",null,"åŒæ­¥åˆ é™¤åŽ†å²",-1)),t(Ca),wl.value>5?(o(),c(za,{key:0,size:"x-small",variant:"text",onClick:Je[0]||(Je[0]=e=>Ml.show=!0),"prepend-icon":"mdi-open-in-new"},{default:s(()=>[r(" æŸ¥çœ‹å…¨éƒ¨ ("+n(wl.value)+") ",1)]),_:1})):d("",!0),t(za,{icon:"",size:"x-small",variant:"text",onClick:ha,loading:xl.value,class:"ml-1"},{default:s(()=>[t(Ke,null,{default:s(()=>Je[63]||(Je[63]=[r("mdi-refresh")])),_:1})]),_:1},8,["loading"])]),_:1}),t(Ul,{class:"pa-0"},{default:s(()=>[xl.value?(o(),c(Qe,{key:0,type:"list-item-avatar-three-line@3"})):0===vl.value.length?(o(),u("div",b,[t(Ke,{icon:"mdi-information-outline",size:"large",color:"grey",class:"mb-2"}),Je[65]||(Je[65]=i("div",{class:"text-caption text-grey"},"æš‚æ— åˆ é™¤åŽ†å²",-1))])):(o(),c(Pl,{key:2,class:"bg-transparent pa-0"},{default:s(()=>[(o(!0),u(p,null,m(Vl.value,(e,l)=>(o(),u(p,{key:e.unique||l},[t(el,{class:"px-3 py-2"},{prepend:s(()=>[t(Nl,{size:"48",rounded:"",class:"mr-3"},{default:s(()=>[e.image?(o(),c(Hl,{key:0,src:e.image,alt:e.title,cover:""},null,8,["src","alt"])):(o(),c(Ke,{key:1,icon:"mdi-movie"}))]),_:2},1024)]),append:s(()=>[t(za,{icon:"",size:"x-small",variant:"text",color:"error",onClick:l=>va(e),loading:bl.value===e.unique},{default:s(()=>[t(Ke,null,{default:s(()=>Je[66]||(Je[66]=[r("mdi-delete")])),_:1})]),_:2},1032,["onClick","loading"])]),default:s(()=>[t(Xe,{class:"text-body-2 font-weight-medium"},{default:s(()=>[r(n(e.title),1)]),_:2},1024),t(oa,{class:"text-caption"},{default:s(()=>[i("div",k,[t(Ye,{size:"x-small",variant:"tonal",color:"primary"},{default:s(()=>[r(n(e.type),1)]),_:2},1024),e.year?(o(),u("span",w,"Â· "+n(e.year),1)):d("",!0),e.season?(o(),u("span",C,"Â· S"+n(String(e.season).padStart(2,"0")),1)):d("",!0),e.episode?(o(),u("span",z,"Â· E"+n(String(e.episode).padStart(2,"0")),1)):d("",!0)]),i("div",P,n(e.del_time),1)]),_:2},1024)]),_:2},1024),l<Vl.value.length-1?(o(),c(al,{key:0,class:"my-0"})):d("",!0)],64))),128))]),_:1}))]),_:1})]),_:1})):d("",!0)]),_:1}),t(Pa,{cols:"12",md:"6"},{default:s(()=>[t(Fl,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(Ge,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(Ke,{icon:"mdi-folder-search",class:"mr-2",color:"primary",size:"small"}),Je[67]||(Je[67]=i("span",null,"è·¯å¾„é…ç½®",-1))]),_:1}),t(Ul,{class:"pa-0"},{default:s(()=>[t(Pl,{class:"bg-transparent pa-0"},{default:s(()=>[e.initialConfig?.transfer_monitor_enabled?(o(),c(el,{key:0,class:"px-3 py-2"},{default:s(()=>[i("div",null,[Je[73]||(Je[73]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"ç›‘æŽ§MPæ•´ç†è·¯å¾„",-1)),Rl(e.initialConfig?.transfer_monitor_paths)>0?(o(!0),u(p,{key:0},m(_a(e.initialConfig?.transfer_monitor_paths),(e,l)=>(o(),u(p,{key:`transfer-${l}`},[l>0?(o(),c(al,{key:0,class:"my-1"})):d("",!0),i("div",V,[t(Va,{dense:"",align:"center"},{default:s(()=>[t(Pa,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(Ke,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>Je[68]||(Je[68]=[r("mdi-folder-home")])),_:1}),i("div",{class:"text-truncate w-100",title:e.local},[Je[69]||(Je[69]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"æœ¬åœ°ç›®å½•",-1)),i("span",S,n(e.local||"-"),1)],8,M)]),_:2},1024),t(Pa,{cols:"12",sm:"2",class:"text-center my-1 my-sm-0"},{default:s(()=>[t(Ke,{color:"primary",class:"icon-spin-animation"},{default:s(()=>Je[70]||(Je[70]=[r("mdi-sync")])),_:1})]),_:1}),t(Pa,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(Ke,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>Je[71]||(Je[71]=[r("mdi-cloud")])),_:1}),i("div",{class:"text-truncate w-100",title:e.remote},[Je[72]||(Je[72]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"ç½‘ç›˜ç›®å½•",-1)),i("span",T,n(e.remote||"-"),1)],8,$)]),_:2},1024)]),_:2},1024)])],64))),128)):(o(),u("div",U,"æœªé…ç½®è·¯å¾„"))])]),_:1})):d("",!0),e.initialConfig?.transfer_monitor_enabled&&(e.initialConfig?.increment_sync_strm_enabled||e.initialConfig?.timing_full_sync_strm||e.initialConfig?.monitor_life_enabled||e.initialConfig?.pan_transfer_enabled||e.initialConfig?.directory_upload_enabled)?(o(),c(al,{key:1,class:"my-0"})):d("",!0),e.initialConfig?.timing_full_sync_strm?(o(),c(el,{key:2,class:"px-3 py-2"},{default:s(()=>[i("div",null,[Je[79]||(Je[79]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"å…¨é‡åŒæ­¥è·¯å¾„",-1)),Rl(e.initialConfig?.full_sync_strm_paths)>0?(o(!0),u(p,{key:0},m(_a(e.initialConfig?.full_sync_strm_paths),(e,l)=>(o(),u(p,{key:`fullsync-${l}`},[l>0?(o(),c(al,{key:0,class:"my-1"})):d("",!0),i("div",E,[t(Va,{dense:"",align:"center"},{default:s(()=>[t(Pa,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(Ke,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>Je[74]||(Je[74]=[r("mdi-folder-home")])),_:1}),i("div",{class:"text-truncate w-100",title:e.local},[Je[75]||(Je[75]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"æœ¬åœ°ç›®å½•",-1)),i("span",L,n(e.local||"-"),1)],8,I)]),_:2},1024),t(Pa,{cols:"12",sm:"2",class:"text-center my-1 my-sm-0"},{default:s(()=>[t(Ke,{color:"primary",class:"icon-spin-animation"},{default:s(()=>Je[76]||(Je[76]=[r("mdi-sync")])),_:1})]),_:1}),t(Pa,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(Ke,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>Je[77]||(Je[77]=[r("mdi-cloud")])),_:1}),i("div",{class:"text-truncate w-100",title:e.remote},[Je[78]||(Je[78]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"ç½‘ç›˜ç›®å½•",-1)),i("span",A,n(e.remote||"-"),1)],8,R)]),_:2},1024)]),_:2},1024)])],64))),128)):(o(),u("div",F,"æœªé…ç½®è·¯å¾„"))])]),_:1})):d("",!0),e.initialConfig?.timing_full_sync_strm&&(e.initialConfig?.increment_sync_strm_enabled||e.initialConfig?.monitor_life_enabled||e.initialConfig?.pan_transfer_enabled||e.initialConfig?.directory_upload_enabled)?(o(),c(al,{key:3,class:"my-0"})):d("",!0),e.initialConfig?.increment_sync_strm_enabled?(o(),c(el,{key:4,class:"px-3 py-2"},{default:s(()=>[i("div",null,[Je[85]||(Je[85]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"å¢žé‡åŒæ­¥è·¯å¾„",-1)),Rl(e.initialConfig?.increment_sync_strm_paths)>0?(o(!0),u(p,{key:0},m(_a(e.initialConfig?.increment_sync_strm_paths),(e,l)=>(o(),u(p,{key:`incsync-${l}`},[l>0?(o(),c(al,{key:0,class:"my-1"})):d("",!0),i("div",B,[t(Va,{dense:"",align:"center"},{default:s(()=>[t(Pa,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(Ke,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>Je[80]||(Je[80]=[r("mdi-folder-home")])),_:1}),i("div",{class:"text-truncate w-100",title:e.local},[Je[81]||(Je[81]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"æœ¬åœ°ç›®å½•",-1)),i("span",O,n(e.local||"-"),1)],8,j)]),_:2},1024),t(Pa,{cols:"12",sm:"2",class:"text-center my-1 my-sm-0"},{default:s(()=>[t(Ke,{color:"primary",class:"icon-spin-animation"},{default:s(()=>Je[82]||(Je[82]=[r("mdi-sync")])),_:1})]),_:1}),t(Pa,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(Ke,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>Je[83]||(Je[83]=[r("mdi-cloud")])),_:1}),i("div",{class:"text-truncate w-100",title:e.remote},[Je[84]||(Je[84]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"ç½‘ç›˜ç›®å½•",-1)),i("span",N,n(e.remote||"-"),1)],8,H)]),_:2},1024)]),_:2},1024)])],64))),128)):(o(),u("div",q,"æœªé…ç½®è·¯å¾„"))])]),_:1})):d("",!0),e.initialConfig?.increment_sync_strm_enabled&&(e.initialConfig?.monitor_life_enabled||e.initialConfig?.pan_transfer_enabled||e.initialConfig?.directory_upload_enabled)?(o(),c(al,{key:5,class:"my-0"})):d("",!0),e.initialConfig?.monitor_life_enabled?(o(),c(el,{key:6,class:"px-3 py-2"},{default:s(()=>[i("div",null,[Je[91]||(Je[91]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"ç›‘æŽ§115ç”Ÿæ´»äº‹ä»¶è·¯å¾„",-1)),Rl(e.initialConfig?.monitor_life_paths)>0?(o(!0),u(p,{key:0},m(_a(e.initialConfig?.monitor_life_paths),(e,l)=>(o(),u(p,{key:`life-${l}`},[l>0?(o(),c(al,{key:0,class:"my-1"})):d("",!0),i("div",D,[t(Va,{dense:"",align:"center"},{default:s(()=>[t(Pa,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(Ke,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>Je[86]||(Je[86]=[r("mdi-folder-home")])),_:1}),i("div",{class:"text-truncate w-100",title:e.local},[Je[87]||(Je[87]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"æœ¬åœ°ç›®å½•",-1)),i("span",J,n(e.local||"-"),1)],8,W)]),_:2},1024),t(Pa,{cols:"12",sm:"2",class:"text-center my-1 my-sm-0"},{default:s(()=>[t(Ke,{color:"primary",class:"icon-spin-animation"},{default:s(()=>Je[88]||(Je[88]=[r("mdi-sync")])),_:1})]),_:1}),t(Pa,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(Ke,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>Je[89]||(Je[89]=[r("mdi-cloud")])),_:1}),i("div",{class:"text-truncate w-100",title:e.remote},[Je[90]||(Je[90]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"ç½‘ç›˜ç›®å½•",-1)),i("span",G,n(e.remote||"-"),1)],8,K)]),_:2},1024)]),_:2},1024)])],64))),128)):(o(),u("div",Z,"æœªé…ç½®è·¯å¾„"))])]),_:1})):d("",!0),e.initialConfig?.monitor_life_enabled&&(e.initialConfig?.pan_transfer_enabled||e.initialConfig?.directory_upload_enabled)?(o(),c(al,{key:7,class:"my-0"})):d("",!0),e.initialConfig?.pan_transfer_enabled?(o(),c(el,{key:8,class:"px-3 py-2"},{default:s(()=>[i("div",null,[Je[94]||(Je[94]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"ç½‘ç›˜æ•´ç†ç›®å½•",-1)),Al(e.initialConfig?.pan_transfer_paths)>0?(o(!0),u(p,{key:0},m(ya(e.initialConfig?.pan_transfer_paths),(e,l)=>(o(),u(p,{key:`pan-${l}`},[l>0?(o(),c(al,{key:0,class:"my-1"})):d("",!0),i("div",Q,[i("div",X,[t(Ke,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>Je[92]||(Je[92]=[r("mdi-folder-arrow-down")])),_:1}),i("div",{class:"text-truncate w-100",title:e.path},[Je[93]||(Je[93]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"å¾…æ•´ç†ç½‘ç›˜ç›®å½•",-1)),i("span",ee,n(e.path),1)],8,Y)])])],64))),128)):(o(),u("div",le,"æœªé…ç½®ç½‘ç›˜æ•´ç†ç›®å½•"))])]),_:1})):d("",!0),e.initialConfig?.pan_transfer_enabled&&e.initialConfig?.directory_upload_enabled?(o(),c(al,{key:9,class:"my-0"})):d("",!0),e.initialConfig?.directory_upload_enabled?(o(),c(el,{key:10,class:"px-3 py-2"},{default:s(()=>[i("div",null,[Je[102]||(Je[102]=i("div",{class:"text-body-2 font-weight-medium mb-1"},"ç›®å½•ä¸Šä¼ è·¯å¾„",-1)),e.initialConfig?.directory_upload_path&&e.initialConfig.directory_upload_path.length>0?(o(!0),u(p,{key:0},m(e.initialConfig.directory_upload_path,(e,l)=>(o(),u(p,{key:`upload-group-${l}`},[l>0?(o(),c(al,{key:0,class:"my-1"})):d("",!0),i("div",ae,[t(Va,{dense:"",align:"center"},{default:s(()=>[t(Pa,{cols:"12",md:"5",class:"d-flex align-center"},{default:s(()=>[t(Ke,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>Je[95]||(Je[95]=[r("mdi-folder-table")])),_:1}),i("div",{class:"text-truncate w-100",title:e.src},[Je[96]||(Je[96]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"æœ¬åœ°ç›‘æŽ§",-1)),i("span",ie,n(e.src||"-"),1)],8,te)]),_:2},1024),t(Pa,{cols:"12",md:"2",class:"text-center my-1 my-md-0"},{default:s(()=>[t(Ke,{color:"primary",class:"icon-spin-animation"},{default:s(()=>Je[97]||(Je[97]=[r("mdi-sync")])),_:1})]),_:1}),t(Pa,{cols:"12",md:"5",class:"d-flex align-center"},{default:s(()=>[t(Ke,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>Je[98]||(Je[98]=[r("mdi-cloud-upload")])),_:1}),i("div",{class:"text-truncate w-100",title:e.dest_remote},[Je[99]||(Je[99]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"ç½‘ç›˜ä¸Šä¼ ",-1)),i("span",ne,n(e.dest_remote||"-"),1)],8,se)]),_:2},1024)]),_:2},1024),e.dest_local||"boolean"==typeof e.delete?(o(),u("div",re,[t(Va,{dense:"",align:"center",class:"mt-1"},{default:s(()=>[t(Pa,{cols:"12",md:"boolean"==typeof e.delete?7:12},{default:s(()=>[e.dest_local?(o(),u("div",oe,[t(Ke,{size:"small",color:"warning",class:"mr-2 flex-shrink-0"},{default:s(()=>Je[100]||(Je[100]=[r("mdi-content-copy")])),_:1}),i("div",{class:"text-truncate w-100",title:e.dest_local},[Je[101]||(Je[101]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"æœ¬åœ°å¤åˆ¶",-1)),i("span",de,n(e.dest_local),1)],8,ce)])):d("",!0)]),_:2},1032,["md"]),"boolean"==typeof e.delete?(o(),c(Pa,{key:0,cols:"12",md:e.dest_local?5:12,class:f(["d-flex align-center",{"justify-md-end":e.dest_local,"mt-1 mt-md-0":e.dest_local}])},{default:s(()=>[t(Ke,{size:"small",color:e.delete?"error":"grey-darken-1",class:"mr-1 flex-shrink-0"},{default:s(()=>[r(n(e.delete?"mdi-delete":"mdi-delete-off"),1)]),_:2},1032,["color"]),i("span",{class:f(["text-caption",e.delete?"text-error":"text-grey-darken-1"])},n(e.delete?"åˆ é™¤æº":"ä¸åˆ æº"),3)]),_:2},1032,["md","class"])):d("",!0)]),_:2},1024)])):d("",!0)])],64))),128)):(o(),u("div",ue,"æœªé…ç½®è·¯å¾„"))])]),_:1})):d("",!0)]),_:1})]),_:1})]),_:1}),Sl.has_client&&e.initialConfig.cookies?Ll.value?d("",!0):(o(),c(Fl,{key:1,flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(Ul,{class:"pa-3"},{default:s(()=>[i("div",fe,[t(Ke,{icon:"mdi-alert-circle",color:"warning",class:"mr-2",size:"small"}),i("div",ge,[Je[109]||(Je[109]=i("p",{class:"mb-1"},[i("strong",null,"è·¯å¾„é…ç½®ä¸å®Œæ•´")],-1)),Je[110]||(Je[110]=i("p",{class:"mb-0"},"æ‚¨å·²é…ç½®115 Cookieï¼Œä½†éƒ¨åˆ†åŠŸèƒ½è·¯å¾„æœªé…ç½®ã€‚è¯·å‰å¾€é…ç½®é¡µé¢å®Œå–„è·¯å¾„è®¾ç½®ã€‚",-1)),t(za,{color:"primary",variant:"text",size:"small",class:"mt-1 px-2 py-0",onClick:Je[2]||(Je[2]=e=>ll("switch"))},{default:s(()=>[t(Ke,{size:"small",class:"mr-1"},{default:s(()=>Je[107]||(Je[107]=[r("mdi-cog")])),_:1}),Je[108]||(Je[108]=r("å‰å¾€é…ç½® "))]),_:1})])])]),_:1})]),_:1})):(o(),c(Fl,{key:0,flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(Ul,{class:"pa-3"},{default:s(()=>[i("div",me,[t(Ke,{icon:"mdi-alert-circle",color:"error",class:"mr-2",size:"small"}),i("div",pe,[Je[105]||(Je[105]=i("p",{class:"mb-1"},[i("strong",null,"æœªé…ç½®115 Cookieæˆ–Cookieæ— æ•ˆ")],-1)),Je[106]||(Je[106]=i("p",{class:"mb-0"},"è¯·åœ¨é…ç½®é¡µé¢ä¸­è®¾ç½®æœ‰æ•ˆçš„115ç½‘ç›˜Cookieï¼Œå¯é€šè¿‡æ‰«ç ç™»å½•èŽ·å–ã€‚",-1)),t(za,{color:"primary",variant:"text",size:"small",class:"mt-1 px-2 py-0",onClick:Je[1]||(Je[1]=e=>ll("switch"))},{default:s(()=>[t(Ke,{size:"small",class:"mr-1"},{default:s(()=>Je[103]||(Je[103]=[r("mdi-cog")])),_:1}),Je[104]||(Je[104]=r("å‰å¾€é…ç½® "))]),_:1})])])]),_:1})]),_:1}))]),_:1})]),_:1}),t(Fl,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(Ul,{class:"d-flex align-center px-3 py-1"},{default:s(()=>[t(Ke,{icon:"mdi-information",color:"info",class:"mr-2",size:"small"}),Je[111]||(Je[111]=i("span",{class:"text-body-2"},' ç‚¹å‡»"é…ç½®"æŒ‰é’®è¿›è¡Œè®¾ç½®ï¼Œ"å…¨é‡åŒæ­¥"å’Œ"åˆ†äº«åŒæ­¥"æŒ‰é’®å¯ç«‹å³æ‰§è¡Œç›¸åº”ä»»åŠ¡ã€‚ ',-1))]),_:1})]),_:1})])):d("",!0)]),_:1}),t(al),t(Sa,{class:"px-2 py-1 sticky-actions d-flex justify-space-between align-center",style:{"flex-shrink":"0",gap:"8px"}},{default:s(()=>[t(za,{color:"info",onClick:Bl,"prepend-icon":"mdi-refresh",disabled:sl.value,loading:sl.value,variant:"text",size:"small"},{default:s(()=>Je[112]||(Je[112]=[r("åˆ·æ–°çŠ¶æ€")])),_:1},8,["disabled","loading"]),i("div",_e,[t(Ma,{"offset-y":""},{activator:s(({props:e})=>[t(za,g(e,{variant:"text",size:"small","append-icon":"mdi-dots-vertical"}),{default:s(()=>Je[113]||(Je[113]=[r(" æ›´å¤š ")])),_:2},1040)]),default:s(()=>[t(Pl,{density:"compact"},{default:s(()=>[t(el,{onClick:Je[3]||(Je[3]=e=>gl.value=!0),disabled:!Sl.enabled||!Sl.has_client||fl.value},{prepend:s(()=>[t(Ke,{color:"warning"},{default:s(()=>Je[114]||(Je[114]=[r("mdi-sync")])),_:1})]),default:s(()=>[t(Xe,null,{default:s(()=>Je[115]||(Je[115]=[r("å…¨é‡åŒæ­¥")])),_:1})]),_:1},8,["disabled"]),t(el,{onClick:Je[4]||(Je[4]=e=>_l.value=!0),disabled:!Sl.enabled||!Sl.has_client||fl.value},{prepend:s(()=>[t(Ke,{color:"primary"},{default:s(()=>Je[116]||(Je[116]=[r("mdi-database-sync")])),_:1})]),default:s(()=>[t(Xe,null,{default:s(()=>Je[117]||(Je[117]=[r("å…¨é‡åŒæ­¥æ•°æ®åº“")])),_:1})]),_:1},8,["disabled"]),t(el,{onClick:Zl,disabled:!Sl.enabled||!Sl.has_client||fl.value,loading:ol.value},{prepend:s(()=>[t(Ke,{color:"info"},{default:s(()=>Je[118]||(Je[118]=[r("mdi-share-variant")])),_:1})]),default:s(()=>[t(Xe,null,{default:s(()=>Je[119]||(Je[119]=[r("åˆ†äº«åŒæ­¥")])),_:1})]),_:1},8,["disabled","loading"]),t(el,{onClick:da,disabled:!Sl.enabled||!Sl.has_client||fl.value},{prepend:s(()=>[t(Ke,{color:"secondary"},{default:s(()=>Je[120]||(Je[120]=[r("mdi-cloud-download-outline")])),_:1})]),default:s(()=>[t(Xe,null,{default:s(()=>Je[121]||(Je[121]=[r("ç¦»çº¿ä¸‹è½½")])),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1}),t(za,{color:"primary",onClick:Je[5]||(Je[5]=e=>ll("switch")),"prepend-icon":"mdi-cog",variant:"text",size:"small"},{default:s(()=>Je[122]||(Je[122]=[r("é…ç½®")])),_:1}),t(za,{color:"error",onClick:Je[6]||(Je[6]=e=>ll("close")),variant:"flat",size:"small",class:"custom-close-btn","aria-label":"å…³é—­",style:{"min-width":"auto !important",padding:"0 10px !important",height:"28px !important","line-height":"28px !important"}},{default:s(()=>[t(Ke,{size:"small"},{default:s(()=>Je[123]||(Je[123]=[r("mdi-close")])),_:1})]),_:1})])]),_:1})]),_:1})]),t(Ea,{modelValue:ql.show,"onUpdate:modelValue":Je[9]||(Je[9]=e=>ql.show=e),"max-width":"900",scrollable:""},{default:s(()=>[t(Fl,null,{default:s(()=>[t(Ge,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-lighten-5"},{default:s(()=>[t(Ke,{icon:"mdi-share-variant",class:"mr-2",color:"primary",size:"small"}),Je[124]||(Je[124]=i("span",null,"115ç½‘ç›˜åˆ†äº«åŒæ­¥",-1)),t(Ca),t(za,{icon:"mdi-close",variant:"text",size:"small",onClick:Ql})]),_:1}),t(Ul,{class:"px-3 py-2"},{default:s(()=>[ql.error?(o(),c(Ze,{key:0,type:"error",density:"compact",class:"mb-3",variant:"tonal"},{default:s(()=>[r(n(ql.error),1)]),_:1})):d("",!0),t(Fl,{variant:"outlined",class:"mb-4"},{default:s(()=>[t(Ge,{class:"text-subtitle-2 px-3 py-2 bg-grey-lighten-4"},{default:s(()=>[t(Ke,{icon:"mdi-cog",size:"small",class:"mr-2"}),Je[125]||(Je[125]=r(" å…¨å±€é…ç½® "))]),_:1}),t(Ul,{class:"pa-3"},{default:s(()=>[t(Va,null,{default:s(()=>[t(Pa,{cols:"12"},{default:s(()=>[t($a,{modelValue:ql.globalMediaservers,"onUpdate:modelValue":Je[7]||(Je[7]=e=>ql.globalMediaservers=e),label:"åˆ·æ–°åª’ä½“æœåŠ¡å™¨",hint:"åº”ç”¨äºŽæ‰€æœ‰åˆ†äº«é…ç½®çš„åª’ä½“æœåŠ¡å™¨åˆ·æ–°è®¾ç½®","persistent-hint":"",items:Wl.value,multiple:"",chips:"","closable-chips":"",variant:"outlined",density:"compact"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(Va,{class:"mt-2"},{default:s(()=>[t(Pa,{cols:"12"},{default:s(()=>[t(Ta,{modelValue:ql.globalMpMediaserverPaths,"onUpdate:modelValue":Je[8]||(Je[8]=e=>ql.globalMpMediaserverPaths=e),label:"MP-åª’ä½“åº“ ç›®å½•è½¬æ¢",hint:"æ ¼å¼ï¼šåª’ä½“åº“è·¯å¾„#MPè·¯å¾„ï¼Œå¤šä¸ªç”¨æ¢è¡Œåˆ†éš”ã€‚åº”ç”¨äºŽæ‰€æœ‰åˆ†äº«é…ç½®","persistent-hint":"",variant:"outlined",density:"compact",rows:"3","auto-grow":"",placeholder:"ä¾‹å¦‚:\n/media#/mp\n/nas#/movie"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(Fl,{variant:"outlined"},{default:s(()=>[t(Ge,{class:"text-subtitle-2 px-3 py-2 bg-grey-lighten-4 d-flex align-center"},{default:s(()=>[t(Ke,{icon:"mdi-share-variant",size:"small",class:"mr-2"}),Je[128]||(Je[128]=i("span",{class:"flex-grow-1"},"åˆ†äº«é…ç½®åˆ—è¡¨",-1)),t(za,{size:"small","prepend-icon":"mdi-delete-sweep",variant:"text",color:"error",onClick:Yl,disabled:0===ql.configs.length,title:"æ¸…ç©ºæ‰€æœ‰åˆ†äº«é…ç½®"},{default:s(()=>Je[126]||(Je[126]=[r(" æ¸…ç©º ")])),_:1},8,["disabled"]),t(za,{size:"small","prepend-icon":"mdi-plus",variant:"tonal",color:"primary",onClick:Xl,class:"ml-2"},{default:s(()=>Je[127]||(Je[127]=[r(" æ·»åŠ åˆ†äº« ")])),_:1})]),_:1}),t(Ul,{class:"pa-0"},{default:s(()=>[ql.configs.length>0?(o(),c(Pl,{key:0,class:"pa-0"},{default:s(()=>[(o(!0),u(p,null,m(ql.configs,(e,l)=>(o(),u(p,{key:l},[t(el,{class:"px-3 py-2"},{prepend:s(()=>[t(Ke,{icon:"mdi-share-variant",color:"primary",size:"small",class:"mr-2"})]),append:s(()=>[i("div",we,[t(za,{icon:"mdi-pencil",size:"small",variant:"text",color:"primary",onClick:e=>(e=>{if(e<0||e>=ql.configs.length)return;const l=ql.configs[e];Dl.editingIndex=e,Dl.shareLink=l.share_link||"",Dl.shareCode=l.share_code||"",Dl.shareReceive=l.share_receive||"",Dl.sharePath=l.share_path||"/",Dl.localPath=l.local_path||"",Dl.minFileSizeFormatted=tl(l.min_file_size||0),Dl.moviepilotTransfer=l.moviepilot_transfer||!1,Dl.autoDownloadMediainfo=l.auto_download_mediainfo||!1,Dl.mediaServerRefresh=l.media_server_refresh||!1,Dl.scrapeMetadata=l.scrape_metadata||!1,Dl.error=null,Dl.show=!0})(l),title:"ç¼–è¾‘"},null,8,["onClick"]),t(za,{icon:"mdi-delete",size:"small",variant:"text",color:"error",onClick:e=>(e=>{e>=0&&e<ql.configs.length&&ql.configs.splice(e,1)})(l),title:"åˆ é™¤"},null,8,["onClick"])])]),default:s(()=>[t(Xe,{class:"text-body-2 font-weight-medium"},{default:s(()=>[r(n(e.share_link||e.share_code||`åˆ†äº«é…ç½® ${l+1}`),1)]),_:2},1024),t(oa,{class:"text-caption mt-1"},{default:s(()=>[i("div",ye,[e.local_path?(o(),u("span",he,[t(Ke,{icon:"mdi-folder",size:"x-small",class:"mr-1"}),r(" æœ¬åœ°è·¯å¾„: "+n(e.local_path),1)])):(o(),u("span",ve,"æœªé…ç½®æœ¬åœ°è·¯å¾„")),i("div",xe,[e.share_path&&"/"!==e.share_path?(o(),u("span",be,[t(Ke,{icon:"mdi-folder-network",size:"x-small",class:"mr-1"}),r(" åˆ†äº«è·¯å¾„: "+n(e.share_path),1)])):d("",!0),e.min_file_size?(o(),u("span",ke,[t(Ke,{icon:"mdi-file-size",size:"x-small",class:"mr-1"}),r(" æœ€å°æ–‡ä»¶: "+n(tl(e.min_file_size)),1)])):d("",!0),e.moviepilot_transfer?(o(),c(Ye,{key:2,size:"x-small",color:"primary",variant:"tonal"},{default:s(()=>Je[129]||(Je[129]=[r(" MPæ•´ç† ")])),_:1})):d("",!0)])])]),_:2},1024)]),_:2},1024),l<ql.configs.length-1?(o(),c(al,{key:0,class:"my-0"})):d("",!0)],64))),128))]),_:1})):(o(),c(Ze,{key:1,type:"info",density:"compact",variant:"tonal",class:"ma-3"},{default:s(()=>Je[130]||(Je[130]=[i("div",{class:"d-flex align-center"},[i("span",null,'æš‚æ— åˆ†äº«é…ç½®ï¼Œè¯·ç‚¹å‡»"æ·»åŠ åˆ†äº«"æŒ‰é’®æ·»åŠ ')],-1)])),_:1}))]),_:1})]),_:1})]),_:1}),t(al),t(Sa,{class:"px-3 py-1"},{default:s(()=>[t(za,{color:"grey",variant:"text",onClick:Ql,size:"small"},{default:s(()=>Je[131]||(Je[131]=[r("å–æ¶ˆ")])),_:1}),t(Ca),t(Ua,{location:"top"},{activator:s(({props:e})=>[t(za,g({color:"info",variant:"text",onClick:ea,loading:cl.value,size:"small"},e),{default:s(()=>Je[132]||(Je[132]=[r(" ä¿å­˜é…ç½® ")])),_:2},1040,["loading"])]),default:s(()=>[Je[133]||(Je[133]=i("span",null,"ä»…ä¿å­˜é…ç½®åˆ°ç³»ç»Ÿï¼Œä¸æ‰§è¡ŒåŒæ­¥ä»»åŠ¡",-1))]),_:1}),t(Ua,{location:"top"},{activator:s(({props:e})=>[t(za,g({color:"primary",variant:"text",onClick:ra,loading:ol.value,disabled:!Jl.value,size:"small",class:"ml-2"},e),{default:s(()=>Je[134]||(Je[134]=[r(" ä¿å­˜å¹¶åŒæ­¥ ")])),_:2},1040,["loading","disabled"])]),default:s(()=>[Je[135]||(Je[135]=i("span",null,"ä¿å­˜é…ç½®å¹¶ç«‹å³æ‰§è¡Œåˆ†äº«åŒæ­¥ä»»åŠ¡ï¼ˆéœ€è¦è‡³å°‘ä¸€ä¸ªæœ‰æ•ˆé…ç½®ï¼‰",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Ea,{modelValue:Dl.show,"onUpdate:modelValue":Je[21]||(Je[21]=e=>Dl.show=e),"max-width":"700",scrollable:""},{default:s(()=>[t(Fl,null,{default:s(()=>[t(Ge,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-lighten-5"},{default:s(()=>[t(Ke,{icon:"mdi-share-variant",class:"mr-2",color:"primary",size:"small"}),i("span",null,n(Dl.editingIndex>=0?"ç¼–è¾‘åˆ†äº«é…ç½®":"æ·»åŠ åˆ†äº«é…ç½®"),1),t(Ca),t(za,{icon:"mdi-close",variant:"text",size:"small",onClick:la})]),_:1}),t(Ul,{class:"px-3 py-3"},{default:s(()=>[Dl.error?(o(),c(Ze,{key:0,type:"error",density:"compact",class:"mb-3",variant:"tonal",closable:""},{default:s(()=>[r(n(Dl.error),1)]),_:1})):d("",!0),t(Va,{class:"mb-2"},{default:s(()=>[t(Pa,{cols:"12"},{default:s(()=>[t(Ia,{modelValue:Dl.shareLink,"onUpdate:modelValue":Je[10]||(Je[10]=e=>Dl.shareLink=e),label:"åˆ†äº«é“¾æŽ¥",hint:"115ç½‘ç›˜åˆ†äº«é“¾æŽ¥","persistent-hint":"",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-link"},null,8,["modelValue"])]),_:1})]),_:1}),t(Va,{class:"mb-2"},{default:s(()=>[t(Pa,{cols:"12",md:"6"},{default:s(()=>[t(Ia,{modelValue:Dl.shareCode,"onUpdate:modelValue":Je[11]||(Je[11]=e=>Dl.shareCode=e),label:"åˆ†äº«ç ",hint:"åˆ†äº«ç ï¼Œå’Œåˆ†äº«é“¾æŽ¥é€‰å¡«ä¸€é¡¹","persistent-hint":"",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-key"},null,8,["modelValue"])]),_:1}),t(Pa,{cols:"12",md:"6"},{default:s(()=>[t(Ia,{modelValue:Dl.shareReceive,"onUpdate:modelValue":Je[12]||(Je[12]=e=>Dl.shareReceive=e),label:"åˆ†äº«å¯†ç ",hint:"åˆ†äº«å¯†ç ï¼Œå’Œåˆ†äº«é“¾æŽ¥é€‰å¡«ä¸€é¡¹","persistent-hint":"",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-lock",type:"password"},null,8,["modelValue"])]),_:1})]),_:1}),t(Va,{class:"mb-2"},{default:s(()=>[t(Pa,{cols:"12",md:"6"},{default:s(()=>[t(Ia,{modelValue:Dl.sharePath,"onUpdate:modelValue":Je[13]||(Je[13]=e=>Dl.sharePath=e),label:"åˆ†äº«è·¯å¾„",hint:"åˆ†äº«å†…å®¹åˆ—è¡¨ä¸­çš„ç›¸å¯¹è·¯å¾„ï¼Œé»˜è®¤ä¸ºæ ¹ç›®å½• /","persistent-hint":"",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-folder-network"},null,8,["modelValue"])]),_:1}),t(Pa,{cols:"12",md:"6"},{default:s(()=>[t(Ia,{modelValue:Dl.localPath,"onUpdate:modelValue":Je[14]||(Je[14]=e=>Dl.localPath=e),label:"æœ¬åœ°è·¯å¾„",hint:"æœ¬åœ°ç”ŸæˆSTRMæ–‡ä»¶çš„è·¯å¾„","persistent-hint":"",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-folder","append-icon":"mdi-folder-search","onClick:append":Je[15]||(Je[15]=e=>{return l="local",Gl.show=!0,Gl.isLocal="local"===l,Gl.loading=!1,Gl.error=null,Gl.items=[],Gl.currentPath=Gl.isLocal&&Dl.localPath||"/",Gl.callback=e=>{Gl.isLocal&&(Dl.localPath=e)},void ta();var l})},null,8,["modelValue"])]),_:1})]),_:1}),t(Va,{class:"mb-2"},{default:s(()=>[t(Pa,{cols:"12",md:"6"},{default:s(()=>[t(Ia,{modelValue:Dl.minFileSizeFormatted,"onUpdate:modelValue":Je[16]||(Je[16]=e=>Dl.minFileSizeFormatted=e),label:"åˆ†äº«ç”Ÿæˆæœ€å°æ–‡ä»¶å¤§å°",hint:"å°äºŽæ­¤å€¼ä¸ç”ŸæˆSTRM(K,M,G)","persistent-hint":"",variant:"outlined",density:"compact",placeholder:"ä¾‹å¦‚: 100M",clearable:"","prepend-inner-icon":"mdi-file-document"},null,8,["modelValue"])]),_:1})]),_:1}),t(al,{class:"my-3"}),t(Va,{class:"mb-2"},{default:s(()=>[t(Pa,{cols:"12"},{default:s(()=>[t(La,{modelValue:Dl.moviepilotTransfer,"onUpdate:modelValue":Je[17]||(Je[17]=e=>Dl.moviepilotTransfer=e),label:"STRM äº¤ç”± MoviePilot æ•´ç†",color:"primary",density:"compact","hide-details":""},{label:s(()=>[i("div",Ce,[t(Ke,{icon:"mdi-transfer",size:"small",class:"mr-2"}),Je[136]||(Je[136]=i("span",null,"STRM äº¤ç”± MoviePilot æ•´ç†",-1))])]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(Ra,null,{default:s(()=>[Dl.moviepilotTransfer?d("",!0):(o(),u("div",ze,[t(Va,{class:"mb-2"},{default:s(()=>[t(Pa,{cols:"12",md:"4",class:"d-flex align-center"},{default:s(()=>[t(La,{modelValue:Dl.autoDownloadMediainfo,"onUpdate:modelValue":Je[18]||(Je[18]=e=>Dl.autoDownloadMediainfo=e),color:"primary",density:"compact","hide-details":"",class:"flex-grow-1"},{label:s(()=>[i("div",Pe,[t(Ke,{icon:"mdi-download",size:"small",class:"mr-2"}),Je[137]||(Je[137]=i("span",null,"è‡ªåŠ¨ä¸‹è½½ç½‘ç›˜å…ƒæ•°æ®",-1))])]),_:1},8,["modelValue"])]),_:1}),t(Pa,{cols:"12",md:"4",class:"d-flex align-center"},{default:s(()=>[t(La,{modelValue:Dl.mediaServerRefresh,"onUpdate:modelValue":Je[19]||(Je[19]=e=>Dl.mediaServerRefresh=e),color:"primary",density:"compact","hide-details":"",class:"flex-grow-1"},{label:s(()=>[i("div",Ve,[t(Ke,{icon:"mdi-refresh",size:"small",class:"mr-2"}),Je[138]||(Je[138]=i("span",null,"åˆ·æ–°åª’ä½“æœåŠ¡å™¨",-1))])]),_:1},8,["modelValue"])]),_:1}),t(Pa,{cols:"12",md:"4",class:"d-flex align-center"},{default:s(()=>[t(La,{modelValue:Dl.scrapeMetadata,"onUpdate:modelValue":Je[20]||(Je[20]=e=>Dl.scrapeMetadata=e),color:"primary",density:"compact","hide-details":"",class:"flex-grow-1"},{label:s(()=>[i("div",Me,[t(Ke,{icon:"mdi-file-search",size:"small",class:"mr-2"}),Je[139]||(Je[139]=i("span",null,"æ˜¯å¦åˆ®å‰Šå…ƒæ•°æ®",-1))])]),_:1},8,["modelValue"])]),_:1})]),_:1})]))]),_:1}),t(Ze,{type:"info",variant:"tonal",density:"compact",class:"mt-3"},{default:s(()=>Je[140]||(Je[140]=[i("div",{class:"text-caption"},[i("div",{class:"mb-1"},[i("strong",null,"æç¤ºï¼š")]),i("ul",{class:"ma-0 pl-4"},[i("li",null,"åˆ†äº«é“¾æŽ¥/åˆ†äº«ç å’Œåˆ†äº«å¯†ç åªéœ€è¦äºŒé€‰ä¸€é…ç½®å³å¯"),i("li",null,"åŒæ—¶å¡«å†™åˆ†äº«é“¾æŽ¥ã€åˆ†äº«ç å’Œåˆ†äº«å¯†ç æ—¶ï¼Œä¼˜å…ˆè¯»å–åˆ†äº«é“¾æŽ¥"),i("li",null,"å½“ STRMäº¤ç”±MoviePilotæ•´ç† å…³é—­æ—¶ï¼Œæ‰èƒ½é…ç½®è‡ªåŠ¨ä¸‹è½½ç½‘ç›˜å…ƒæ•°æ®ã€åˆ·æ–°åª’ä½“æœåŠ¡å™¨å’Œæ˜¯å¦åˆ®å‰Šå…ƒæ•°æ®")])],-1)])),_:1})]),_:1}),t(al),t(Sa,{class:"px-3 py-1"},{default:s(()=>[t(za,{color:"grey",variant:"text",onClick:la,size:"small"},{default:s(()=>Je[141]||(Je[141]=[r("å–æ¶ˆ")])),_:1}),t(Ca),t(za,{color:"primary",variant:"text",onClick:aa,disabled:!Kl.value,size:"small"},{default:s(()=>Je[142]||(Je[142]=[r(" ä¿å­˜ ")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Ea,{modelValue:El.show,"onUpdate:modelValue":Je[32]||(Je[32]=e=>El.show=e),"max-width":"800",persistent:""},{default:s(()=>[t(Fl,null,{default:s(()=>[t(Ge,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-lighten-5"},{default:s(()=>[t(Ke,{icon:"mdi-cloud-download-outline",class:"mr-2",color:"primary",size:"small"}),Je[143]||(Je[143]=i("span",null,"115ç¦»çº¿ä¸‹è½½",-1)),t(Ca),t(za,{icon:"mdi-close",variant:"text",size:"small",onClick:ua})]),_:1}),t(Ul,{class:"pa-0"},{default:s(()=>[t(Fa,{modelValue:El.activeTab,"onUpdate:modelValue":Je[22]||(Je[22]=e=>El.activeTab=e),"bg-color":"primary-gradient",grow:""},{default:s(()=>[t(Aa,{value:"add"},{default:s(()=>Je[144]||(Je[144]=[r("æ·»åŠ ä»»åŠ¡")])),_:1}),t(Aa,{value:"tasks"},{default:s(()=>Je[145]||(Je[145]=[r("ä»»åŠ¡åˆ—è¡¨")])),_:1})]),_:1},8,["modelValue"]),t(Ha,{modelValue:El.activeTab,"onUpdate:modelValue":Je[31]||(Je[31]=e=>El.activeTab=e),touchless:""},{default:s(()=>[t(ja,{value:"add"},{default:s(()=>[i("div",Se,[El.addError?(o(),c(Ze,{key:0,type:"error",density:"compact",class:"mb-3",variant:"tonal"},{default:s(()=>[r(n(El.addError),1)]),_:1})):d("",!0),t(Ta,{modelValue:El.links,"onUpdate:modelValue":Je[23]||(Je[23]=e=>El.links=e),label:"ä¸‹è½½é“¾æŽ¥",hint:"æ¯è¡Œä¸€ä¸ªé“¾æŽ¥ï¼Œæ”¯æŒ http(s)/ftp/magnet/ed2k","persistent-hint":"",variant:"outlined",rows:"5",clearable:""},null,8,["modelValue"]),t(Ba,{modelValue:El.destPath,"onUpdate:modelValue":Je[24]||(Je[24]=e=>El.destPath=e),items:El.availablePathStrings,label:"ç½‘ç›˜ä¿å­˜è·¯å¾„ (å¯é€‰)",hint:"å¯é€‰ï¼Œé»˜è®¤ä¸ºç½‘ç›˜å¾…æ•´ç†ç›®å½•ã€‚å¯ä»Žç¼“å­˜è·¯å¾„æˆ–é…ç½®è·¯å¾„ä¸­é€‰æ‹©ï¼Œä¹Ÿå¯æ‰‹åŠ¨è¾“å…¥","persistent-hint":"",variant:"outlined",density:"compact",class:"mt-3",clearable:""},{"prepend-inner":s(()=>[t(Ke,{icon:"mdi-folder-network-outline",size:"small"})]),"append-inner":s(()=>[t(za,{icon:"mdi-folder-network",variant:"text",size:"x-small",onClick:_(fa,["stop"]),class:"mr-n2"})]),item:s(({props:e,item:l})=>[t(el,g(e,{title:ca(l.raw)}),null,16,["title"])]),_:1},8,["modelValue","items"]),i("div",$e,[t(za,{color:"primary",onClick:pa,loading:El.adding,disabled:!El.links||El.adding,"prepend-icon":"mdi-plus"},{default:s(()=>Je[146]||(Je[146]=[r(" æ·»åŠ ä»»åŠ¡ ")])),_:1},8,["loading","disabled"])])])]),_:1}),t(ja,{value:"tasks"},{default:s(()=>[i("div",{style:{"overflow-x":"auto"},onTouchstart:Je[28]||(Je[28]=_(()=>{},["stop"])),onTouchmove:Je[29]||(Je[29]=_(()=>{},["stop"])),onTouchend:Je[30]||(Je[30]=_(()=>{},["stop"]))},[El.error?(o(),c(Ze,{key:0,type:"error",density:"compact",class:"ma-3",variant:"tonal"},{default:s(()=>[r(n(El.error),1)]),_:1})):d("",!0),t(Oa,{headers:El.headers,items:El.tasks,"items-length":El.totalTasks,loading:El.loading,"items-per-page":El.itemsPerPage,"onUpdate:options":ma,density:"compact",class:"ma-2","no-data-text":"æ²¡æœ‰ç¦»çº¿ä¸‹è½½ä»»åŠ¡","loading-text":"æ­£åœ¨åŠ è½½ä»»åŠ¡...","items-per-page-text":"æ¯é¡µæ¡ç›®æ•°",style:{"min-width":"700px"},onTouchstart:Je[25]||(Je[25]=_(()=>{},["stop"])),onTouchmove:Je[26]||(Je[26]=_(()=>{},["stop"])),onTouchend:Je[27]||(Je[27]=_(()=>{},["stop"]))},{"item.progress":s(({item:e})=>[i("div",Te,[t(ba,{"model-value":e.percent,color:ga(e.status),stream:0===e.status||3===e.status,striped:0===e.status||3===e.status,height:"8",rounded:"",class:"flex-grow-1 mr-3"},null,8,["model-value","color","stream","striped"]),i("div",Ue,n(e.percent)+"% ",1)])]),"item.status_text":s(({item:e})=>[t(Ye,{color:ga(e.status),size:"x-small",variant:"tonal"},{default:s(()=>[r(n(e.status_text),1)]),_:2},1032,["color"])]),_:1},8,["headers","items","items-length","loading","items-per-page"])],32)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Ea,{modelValue:Gl.show,"onUpdate:modelValue":Je[34]||(Je[34]=e=>Gl.show=e),"max-width":"800"},{default:s(()=>[t(Fl,null,{default:s(()=>[t(Ge,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-lighten-5"},{default:s(()=>[t(Ke,{icon:Gl.isLocal?"mdi-folder-search":"mdi-folder-network",class:"mr-2",color:"primary"},null,8,["icon"]),i("span",null,n(Gl.isLocal?"é€‰æ‹©æœ¬åœ°ç›®å½•":"é€‰æ‹©ç½‘ç›˜ç›®å½•"),1)]),_:1}),t(Ul,{class:"px-3 py-2"},{default:s(()=>[Gl.loading?(o(),u("div",Ee,[t(Na,{indeterminate:"",color:"primary"})])):(o(),u("div",Ie,[t(Ia,{modelValue:Gl.currentPath,"onUpdate:modelValue":Je[33]||(Je[33]=e=>Gl.currentPath=e),label:"å½“å‰è·¯å¾„",variant:"outlined",density:"compact",class:"mb-2",onKeyup:y(ta,["enter"])},null,8,["modelValue"]),t(Pl,{class:"border rounded","max-height":"300px","overflow-y":"auto"},{default:s(()=>["/"!==Gl.currentPath&&"C:\\"!==Gl.currentPath&&"C:/"!==Gl.currentPath?(o(),c(el,{key:0,onClick:ia,class:"py-0",style:{"min-height":"auto"}},{prepend:s(()=>[t(Ke,{icon:"mdi-arrow-up",size:"small",class:"mr-2",color:"grey"})]),default:s(()=>[t(Xe,{class:"text-body-2"},{default:s(()=>Je[147]||(Je[147]=[r("ä¸Šçº§ç›®å½•")])),_:1}),t(oa,null,{default:s(()=>Je[148]||(Je[148]=[r("..")])),_:1})]),_:1})):d("",!0),(o(!0),u(p,null,m(Gl.items,(e,l)=>(o(),c(el,{key:l,onClick:l=>(e=>{e&&e.is_dir&&e.path&&(Gl.currentPath=e.path,ta())})(e),disabled:!e.is_dir,class:"py-0",style:{"min-height":"auto"}},{prepend:s(()=>[t(Ke,{icon:e.is_dir?"mdi-folder":"mdi-file",size:"small",class:"mr-2",color:e.is_dir?"success":"blue"},null,8,["icon","color"])]),default:s(()=>[t(Xe,{class:"text-body-2"},{default:s(()=>[r(n(e.name),1)]),_:2},1024)]),_:2},1032,["onClick","disabled"]))),128)),Gl.items.length?d("",!0):(o(),c(el,{key:1,class:"py-2 text-center"},{default:s(()=>[t(Xe,{class:"text-body-2 text-grey"},{default:s(()=>Je[149]||(Je[149]=[r("è¯¥ç›®å½•ä¸ºç©ºæˆ–è®¿é—®å—é™")])),_:1})]),_:1}))]),_:1})])),"/"!==Gl.currentPath||Gl.isLocal?d("",!0):(o(),c(Ze,{key:2,type:"warning",density:"compact",class:"mt-2 text-caption",variant:"tonal",icon:"mdi-alert-circle-outline"},{default:s(()=>Je[150]||(Je[150]=[r(" 115ç¦»çº¿ä¸‹è½½ä¸æ”¯æŒé€‰æ‹©æ ¹ç›®å½•ï¼Œè¯·é€‰æ‹©æˆ–è¿›å…¥ä¸€ä¸ªå­ç›®å½•ã€‚ ")])),_:1})),Gl.error?(o(),c(Ze,{key:3,type:"error",density:"compact",class:"mt-2 text-caption",variant:"tonal"},{default:s(()=>[r(n(Gl.error),1)]),_:1})):d("",!0)]),_:1}),t(Sa,{class:"px-3 py-1"},{default:s(()=>[t(Ca),t(za,{color:"primary",onClick:sa,disabled:!Gl.currentPath||Gl.loading||"/"===Gl.currentPath&&!Gl.isLocal,variant:"text",size:"small"},{default:s(()=>Je[151]||(Je[151]=[r(" é€‰æ‹©å½“å‰ç›®å½• ")])),_:1},8,["disabled"]),t(za,{color:"grey",onClick:na,variant:"text",size:"small"},{default:s(()=>Je[152]||(Je[152]=[r(" å–æ¶ˆ ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Ea,{modelValue:gl.value,"onUpdate:modelValue":Je[36]||(Je[36]=e=>gl.value=e),"max-width":"500",persistent:""},{default:s(()=>[t(Fl,null,{default:s(()=>[t(Ge,{class:"text-h6 d-flex align-center"},{default:s(()=>[t(Ke,{icon:"mdi-alert-circle-outline",color:"warning",class:"mr-2"}),Je[153]||(Je[153]=r(" ç¡®è®¤æ“ä½œ "))]),_:1}),t(Ul,null,{default:s(()=>[Je[155]||(Je[155]=i("div",{class:"mb-2"},"æ‚¨ç¡®å®šè¦ç«‹å³æ‰§è¡Œå…¨é‡åŒæ­¥å—ï¼Ÿ",-1)),e.initialConfig?.full_sync_media_server_refresh_enabled?(o(),c(Ze,{key:0,type:"warning",variant:"tonal",density:"compact",class:"mt-2",icon:"mdi-alert"},{default:s(()=>Je[154]||(Je[154]=[i("div",{class:"text-body-2 mb-1"},[i("strong",null,"é‡è¦è­¦å‘Š")],-1),i("div",{class:"text-caption"}," å…¨é‡åŒæ­¥å®ŒæˆåŽå°†è‡ªåŠ¨åˆ·æ–°æ•´ä¸ªåª’ä½“åº“ï¼Œæ­¤æ“ä½œä¼šæ‰«ææ‰€æœ‰åª’ä½“æ–‡ä»¶ï¼Œå¯èƒ½å¯¼è‡´åª’ä½“æœåŠ¡å™¨è´Ÿè½½å¢žåŠ ã€‚è¯·ç¡®ä¿æ‚¨å·²äº†è§£æ­¤é£Žé™©å¹¶è‡ªè¡Œæ‰¿æ‹…ç›¸åº”è´£ä»»ã€‚ ",-1)])),_:1})):d("",!0)]),_:1}),t(Sa,null,{default:s(()=>[t(Ca),t(za,{color:"grey",variant:"text",onClick:Je[35]||(Je[35]=e=>gl.value=!1),disabled:nl.value},{default:s(()=>Je[156]||(Je[156]=[r(" å–æ¶ˆ ")])),_:1},8,["disabled"]),t(za,{color:"warning",variant:"text",onClick:jl,loading:nl.value},{default:s(()=>Je[157]||(Je[157]=[r(" ç¡®è®¤æ‰§è¡Œ ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Ea,{modelValue:_l.value,"onUpdate:modelValue":Je[38]||(Je[38]=e=>_l.value=e),"max-width":"450",persistent:""},{default:s(()=>[t(Fl,null,{default:s(()=>[t(Ge,{class:"text-h6 d-flex align-center"},{default:s(()=>[t(Ke,{icon:"mdi-alert-circle-outline",color:"warning",class:"mr-2"}),Je[158]||(Je[158]=r(" ç¡®è®¤æ“ä½œ "))]),_:1}),t(Ul,null,{default:s(()=>Je[159]||(Je[159]=[r(" æ‚¨ç¡®å®šè¦ç«‹å³æ‰§è¡Œå…¨é‡åŒæ­¥æ•°æ®åº“å—ï¼Ÿè¯¥æ“ä½œä¼šè¦†ç›–åŽŸæœ‰æ•°æ®åº“æ•°æ® ")])),_:1}),t(Sa,null,{default:s(()=>[t(Ca),t(za,{color:"grey",variant:"text",onClick:Je[37]||(Je[37]=e=>_l.value=!1),disabled:rl.value},{default:s(()=>Je[160]||(Je[160]=[r(" å–æ¶ˆ ")])),_:1},8,["disabled"]),t(za,{color:"warning",variant:"text",onClick:Ol,loading:rl.value},{default:s(()=>Je[161]||(Je[161]=[r(" ç¡®è®¤æ‰§è¡Œ ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Ea,{modelValue:hl.show,"onUpdate:modelValue":Je[40]||(Je[40]=e=>hl.show=e),"max-width":"450",persistent:""},{default:s(()=>[t(Fl,null,{default:s(()=>[t(Ge,{class:"text-h6 d-flex align-center"},{default:s(()=>[t(Ke,{icon:"mdi-alert-circle-outline",color:"error",class:"mr-2"}),Je[162]||(Je[162]=r(" ç¡®è®¤åˆ é™¤ "))]),_:1}),t(Ul,null,{default:s(()=>[Je[164]||(Je[164]=i("div",{class:"mb-2"},"ç¡®å®šè¦åˆ é™¤è¿™æ¡åŽ†å²è®°å½•å—ï¼Ÿ",-1)),hl.item?(o(),c(Fl,{key:0,variant:"outlined",class:"mt-3"},{default:s(()=>[t(Ul,{class:"pa-3"},{default:s(()=>[i("div",Le,n(hl.item.title),1),hl.item.path?(o(),u("div",Re,n(hl.item.path),1)):d("",!0),i("div",Ae,n(hl.item.del_time),1)]),_:1})]),_:1})):d("",!0),t(Ze,{type:"warning",variant:"tonal",density:"compact",class:"mt-2",icon:"mdi-alert"},{default:s(()=>Je[163]||(Je[163]=[i("div",{class:"text-caption"},"æ­¤æ“ä½œä¸å¯æ¢å¤ï¼Œè¯·è°¨æ…Žæ“ä½œï¼",-1)])),_:1})]),_:1}),t(Sa,null,{default:s(()=>[t(Ca),t(za,{color:"grey",variant:"text",onClick:Je[39]||(Je[39]=e=>hl.show=!1),disabled:bl.value===hl.item?.unique},{default:s(()=>Je[165]||(Je[165]=[r(" å–æ¶ˆ ")])),_:1},8,["disabled"]),t(za,{color:"error",variant:"text",onClick:xa,loading:bl.value===hl.item?.unique},{default:s(()=>Je[166]||(Je[166]=[r(" ç¡®è®¤åˆ é™¤ ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Ea,{modelValue:yl.value,"onUpdate:modelValue":Je[42]||(Je[42]=e=>yl.value=e),"max-width":"450",persistent:""},{default:s(()=>[t(Fl,null,{default:s(()=>[t(Ge,{class:"text-h6 d-flex align-center"},{default:s(()=>[t(Ke,{icon:"mdi-alert-circle-outline",color:"error",class:"mr-2"}),Je[167]||(Je[167]=r(" ç¡®è®¤åˆ é™¤ "))]),_:1}),t(Ul,null,{default:s(()=>[i("div",Fe,[Je[168]||(Je[168]=r("ç¡®å®šè¦åˆ é™¤å…¨éƒ¨ ")),i("strong",null,n(wl.value),1),Je[169]||(Je[169]=r(" æ¡åŽ†å²è®°å½•å—ï¼Ÿ"))]),t(Ze,{type:"error",variant:"tonal",density:"compact",class:"mt-2",icon:"mdi-alert"},{default:s(()=>Je[170]||(Je[170]=[i("div",{class:"text-caption"},"æ­¤æ“ä½œä¸å¯æ¢å¤ï¼Œè¯·è°¨æ…Žæ“ä½œï¼",-1)])),_:1})]),_:1}),t(Sa,null,{default:s(()=>[t(Ca),t(za,{color:"grey",variant:"text",onClick:Je[41]||(Je[41]=e=>yl.value=!1),disabled:kl.value},{default:s(()=>Je[171]||(Je[171]=[r(" å–æ¶ˆ ")])),_:1},8,["disabled"]),t(za,{color:"error",variant:"text",onClick:wa,loading:kl.value},{default:s(()=>Je[172]||(Je[172]=[r(" ç¡®è®¤åˆ é™¤ ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Ea,{modelValue:Ml.show,"onUpdate:modelValue":Je[45]||(Je[45]=e=>Ml.show=e),"max-width":"900",scrollable:""},{default:s(()=>[t(Fl,null,{default:s(()=>[t(Ge,{class:"text-subtitle-1 d-flex align-center px-3 py-2 bg-primary-gradient"},{default:s(()=>[t(Ke,{icon:"mdi-history",class:"mr-2",color:"primary",size:"small"}),i("span",null,"åŒæ­¥åˆ é™¤åŽ†å²è®°å½• (å…± "+n(wl.value)+" æ¡)",1),t(Ca),wl.value>0?(o(),c(za,{key:0,size:"small",variant:"text",color:"error",onClick:ka,loading:kl.value,class:"mr-2"},{default:s(()=>[t(Ke,{start:""},{default:s(()=>Je[173]||(Je[173]=[r("mdi-delete-sweep")])),_:1}),Je[174]||(Je[174]=r(" ä¸€é”®å…¨éƒ¨åˆ é™¤ "))]),_:1},8,["loading"])):d("",!0),t(za,{icon:"",size:"x-small",variant:"text",onClick:ha,loading:xl.value},{default:s(()=>[t(Ke,null,{default:s(()=>Je[175]||(Je[175]=[r("mdi-refresh")])),_:1})]),_:1},8,["loading"]),t(za,{icon:"",size:"small",variant:"text",onClick:Je[43]||(Je[43]=e=>Ml.show=!1)},{default:s(()=>[t(Ke,null,{default:s(()=>Je[176]||(Je[176]=[r("mdi-close")])),_:1})]),_:1})]),_:1}),t(Ul,{class:"pa-0 sync-del-history-content"},{default:s(()=>[xl.value?(o(),c(Qe,{key:0,type:"list-item-avatar-three-line@5"})):0===vl.value.length?(o(),u("div",Be,[t(Ke,{icon:"mdi-information-outline",size:"large",color:"grey",class:"mb-2"}),Je[177]||(Je[177]=i("div",{class:"text-caption text-grey"},"æš‚æ— åˆ é™¤åŽ†å²",-1))])):(o(),c(Pl,{key:2,class:"bg-transparent pa-0"},{default:s(()=>[(o(!0),u(p,null,m(vl.value,(e,l)=>(o(),u(p,{key:e.unique||l},[t(el,{class:"px-3 py-2"},{prepend:s(()=>[t(Nl,{size:"56",rounded:"",class:"mr-3"},{default:s(()=>[e.image?(o(),c(Hl,{key:0,src:e.image,alt:e.title,cover:""},null,8,["src","alt"])):(o(),c(Ke,{key:1,icon:"mdi-movie"}))]),_:2},1024)]),append:s(()=>[t(za,{icon:"",size:"small",variant:"text",color:"error",onClick:l=>va(e),loading:bl.value===e.unique},{default:s(()=>[t(Ke,null,{default:s(()=>Je[178]||(Je[178]=[r("mdi-delete")])),_:1})]),_:2},1032,["onClick","loading"])]),default:s(()=>[t(Xe,{class:"text-body-1 font-weight-medium"},{default:s(()=>[r(n(e.title),1)]),_:2},1024),t(oa,{class:"text-caption"},{default:s(()=>[i("div",je,[t(Ye,{size:"small",variant:"tonal",color:"primary"},{default:s(()=>[r(n(e.type),1)]),_:2},1024),e.year?(o(),u("span",Oe,"Â· "+n(e.year),1)):d("",!0),e.season?(o(),u("span",He,"Â· S"+n(String(e.season).padStart(2,"0")),1)):d("",!0),e.episode?(o(),u("span",Ne,"Â· E"+n(String(e.episode).padStart(2,"0")),1)):d("",!0)]),e.path?(o(),u("div",qe,n(e.path),1)):d("",!0),i("div",De,n(e.del_time),1)]),_:2},1024)]),_:2},1024),l<vl.value.length-1?(o(),c(al,{key:0,class:"my-0"})):d("",!0)],64))),128))]),_:1}))]),_:1}),wl.value>0?(o(),c(Sa,{key:0,class:"px-4 py-3 d-flex justify-space-between align-center"},{default:s(()=>[i("div",We," æ˜¾ç¤ºç¬¬ "+n((Cl.value-1)*zl.value+1)+" - "+n(Math.min(Cl.value*zl.value,wl.value))+" æ¡ï¼Œå…± "+n(wl.value)+" æ¡ ",1),t(qa,{modelValue:Cl.value,"onUpdate:modelValue":[Je[44]||(Je[44]=e=>Cl.value=e),ha],length:Math.ceil(wl.value/zl.value),"total-visible":7},null,8,["modelValue","length"])]),_:1})):d("",!0)]),_:1})]),_:1},8,["modelValue"])],64)}}},[["__scopeId","data-v-d386e5b2"]]);export{el as default};
